@model Bikewale.Models.BikeInfoVM

<div class="model-more-info-section">
    @if (Model.BikeInfo.IsUpcoming)
        {
        <p class="model-ribbon-tag upcoming-ribbon">Upcoming</p>
        }
    @if (Model.BikeInfo.IsDiscontinued)
        {
        <p class="model-ribbon-tag discontinued-ribbon">Discontinued</p>
        }
    <div class="clear"></div>
    <div class="info-grid-9 inline-block">
        <a href="@Model.BikeUrl" class="item-image-content inline-block" title="@Model.BikeName">
            <img src="@Bikewale.Utility.Image.GetPathToShowImages(Model.BikeInfo.OriginalImagePath,Model.BikeInfo.HostUrl,Bikewale.Utility.ImageSize._110x61)" alt="@Model.BikeName" title="@Model.BikeName">
        </a>

        @{int count = 0; }

        <div class="bike-details-block inline-block">
            <h3><a href="@Model.BikeUrl" class="text-default">@Model.BikeName</a></h3>
            @if (Model.BikeInfo.RatingCount > 0)
                {
                <span class="rate-count-@Math.Round(Model.BikeInfo.Rating) inline-block">
                    <span class="bwsprite star-icon star-size-16"></span>
                    <span class="font14 text-bold inline-block">@Model.BikeInfo.Rating.ToString("0.0")</span>
                </span>
                <span class='font11 text-xt-light-grey inline-block padding-left3'>(@string.Format("{0} {1}", Model.BikeInfo.RatingCount, Model.BikeInfo.RatingCount > 1 ? "ratings" : "rating"))</span>
                    if (Model.BikeInfo.UserReviewCount > 0)
                    {
                <a class='text-xt-light review-left-divider inline-block' href="@string.Format(" {0}reviews/", Model.BikeUrl)" title="@Model.BikeName user reviews">@string.Format("{0} {1}", Model.BikeInfo.UserReviewCount, Model.BikeInfo.UserReviewCount > 1 ? "reviews" : "review")</a>
                    }
                }
            <ul class="item-more-details-list">
                @if (Model.BikeInfo.IsSpecsAvailable && count < 3)
                    {
                        count++;


                    <li>
                        <a href="@Bikewale.Utility.UrlFormatter.ViewAllFeatureSpecs(Model.BikeInfo.Make.MaskingName,Model.BikeInfo.Model.MaskingName)" title="@Model.BikeName Specification">
                            <span class="bwsprite specs-sm"></span>
                            <span class="icon-label">Specs</span>
                        </a>
                    </li>
                    }
                @if (Model.BikeInfo.UserReview > 0 && count < 3)
                    {
                        count++;

                    <li>
                        <a href="@Bikewale.Utility.UrlFormatter.FormatUserReviewUrl(Model.BikeInfo.Make.MaskingName, Model.BikeInfo.Model.MaskingName)" title="@Model.BikeName User Reviews">
                            <span class="bwsprite user-reviews-sm"></span>
                            <span class="icon-label">User Reviews</span>
                        </a>
                    </li>
                    }
                @if (Model.BikeInfo.VideosCount > 0 && count < 3)
                    {
                        count++;
                    <li>
                        <a href="@Bikewale.Utility.UrlFormatter.FormatVideoPageUrl(Model.BikeInfo.Make.MaskingName, Model.BikeInfo.Model.MaskingName)" title="@Model.BikeName Videos">
                            <span class="bwsprite videos-sm"></span>
                            <span class="icon-label">Videos</span>
                        </a>
                    </li>
                    }
                @if (Model.BikeInfo.DealersCount > 0 && count < 3)
                    {
                        count++;
                    <li>
                            <a href="@(Model.CityDetails != null ? Bikewale.Utility.UrlFormatter.DealerLocatorUrl(Model.BikeInfo.Make.MaskingName, Model.CityDetails.CityMaskingName) : Bikewale.Utility.UrlFormatter.DealerLocatorUrl(Model.BikeInfo.Make.MaskingName))" title="@Model.BikeName Dealers">
                                <span class="bwsprite dealers-sm"></span>
                                <span class="icon-label">Dealers</span>
                            </a>
                    </li>
                    }
                @if (Model.BikeInfo.ExpertReviewsCount > 0 && count < 3)
                    {
                        count++;
                    <li>
                        <a href="@Bikewale.Utility.UrlFormatter.FormatExpertReviewUrl(Model.BikeInfo.Make.MaskingName,Model.BikeInfo.Model.MaskingName)" title="@Model.BikeName Expert reviews">
                            <span class="bwsprite reviews-sm"></span>
                            <span class="icon-label">Expert reviews</span>
                        </a>
                    </li>
                    }
                @if (Model.BikeInfo.NewsCount > 0 && count < 3)
                    {
                        count++;
                    <li>
                        <a href="@Bikewale.Utility.UrlFormatter.FormatNewsUrl(Model.BikeInfo.Make.MaskingName,Model.BikeInfo.Model.MaskingName)" title="@Model.BikeName News">
                            <span class="bwsprite news-sm"></span>
                            <span class="icon-label">News</span>
                        </a>
                    </li>
                    }
            </ul>
        </div>
    </div>

    @if (!Model.IsUpcoming && !Model.IsDiscontinued)
        {
        <div class="info-grid-3 inline-block">
            <div class="info-exshowroom-block inline-block padding-right10">
                <p class="font12 text-light-grey text-truncate margin-bottom5">Ex-showroom price, @Bikewale.Utility.BWConfiguration.Instance.DefaultName</p>

                <span class="bwsprite inr-md"></span>
                <span class="font16 text-bold">@Bikewale.Utility.Format.FormatPrice(Convert.ToString(Model.BikeInfo.BikePrice))</span>
            </div>
            <div class="inline-block">
                <a href="@Model.BikeUrl" title="@Model.BikeName" class="btn btn-white btn-162-34">View details<span class="bwsprite btn-red-arrow"></span></a>
            </div>
        </div>
        }
        else if (Model.IsUpcoming)
        {
        <div class="info-grid-3 inline-block">
            <p class="font12 text-light-grey text-truncate margin-bottom5">Expected price</p>

            <span class="bwsprite inr-md"></span>
            <span class="font16 text-bold">@Bikewale.Utility.Format.FormatNumeric(Convert.ToString(Model.BikeInfo.EstimatedPriceMin)) onwards</span>
        </div>
        }
        else if (Model.IsDiscontinued)
        {
        <div class="info-grid-3 inline-block">
            <p class="font12 text-light-grey text-truncate margin-bottom5">Last know price</p>

            <span class="bwsprite inr-md"></span>
            <span class="font16 text-bold">@Bikewale.Utility.Format.FormatPrice(Convert.ToString(Model.BikeInfo.BikePrice))</span>
        </div>
        }
    <div class="clear"></div>
</div>


