@model Bikewale.Models.BikeInfoVM
@using Bikewale.Utility
@if (Model != null && Model.BikeInfo != null)
{
    <div class="model-more-info-section model-slug-type-news">        
        <div class="margin-bottom10">
            @if (Model.IsUpcoming)
                {
                <p class="model-ribbon-tag upcoming-ribbon">Upcoming</p>
                }
                else if (Model.IsDiscontinued)
                {
                <p class="model-ribbon-tag discontinued-ribbon">Discontinued</p>
                }
            <div class="clear"></div>
            <a href="@string.Format("/m{0}",Model.BikeUrl)" class="item-image-content vertical-top bw-ga" title="@Model.BikeName" data-cat="@Model.Category" data-act="Clicked_Model_GenericSlug" data-lab="@Model.BikeName">
                <img class="lazy" data-original="@Image.GetPathToShowImages(Model.BikeInfo.OriginalImagePath, Model.BikeInfo.HostUrl, ImageSize._110x61, QualityFactor._70)" src="" alt="@Model.BikeName" />
            </a>
            <div class="bike-details-block vertical-top">
                <a href="@string.Format("/m{0}",Model.BikeUrl)" class="block text-default margin-bottom5" title="@Model.BikeName">
                    <h3 class="text-truncate bw-ga" data-cat="@Model.Category" data-act="Clicked_Model_GenericSlug" data-lab="@Model.BikeName">@Model.BikeName</h3>
                </a>                

                @if (Model.IsDiscontinued)
                    {
                    <p class="price-label-size-12 text-truncate">Last known Ex-showroom price</p>
                    <div>
                        @Html.Raw("<span> &#x20B9;</span>")&nbsp;
                        <span class="price-value-size-18">@Format.FormatPrice(Convert.ToString(Model.BikeInfo.BikePrice))</span>
                    </div>
                    }
                    else if (Model.IsUpcoming)
                    {
                    <p class="price-label-size-12">Expected price</p>
                    <div>
                        @Html.Raw("<span> &#x20B9;</span>")&nbsp;
                        <span class="price-value-size-18">
                            @String.Format("{0} - {1}", Format.FormatNumeric(Convert.ToString(Model.BikeInfo.EstimatedPriceMin)), Format.FormatNumeric(Convert.ToString(Model.BikeInfo.EstimatedPriceMax)))
                        </span>
                    </div>
                    }
                    else
                    {
                        if (Model.BikeInfo.PriceInCity > 0 && Model.CityDetails != null)
                        {
                    <p class="price-label-size-12 text-truncate">@String.Format("On-road price, {0}", Model.CityDetails.CityName)</p>
                    <div>
                        @Html.Raw("<span> &#x20B9;</span>")&nbsp;
                        <span class="price-value-size-18">@Format.FormatPrice(Convert.ToString(Model.BikeInfo.PriceInCity))</span>
                    </div>
                        }
                        else
                        {
                    <p class="price-label-size-12 text-truncate">@String.Format("Ex-showroom, {0}", BWConfiguration.Instance.DefaultName)</p>
                    <div>
                        @Html.Raw("<span> &#x20B9;</span>")&nbsp;
                        <span class="price-value-size-18">@Format.FormatPrice(Convert.ToString(Model.BikeInfo.BikePrice))</span>
                    </div>
                        }
                    }
            </div>
        </div>
        @if (Model.BikeInfo != null)
        {
            <ul class="item-more-details-list bw-ga" data-cat="@Model.Category" data-act="Clicked_OtherElements_GenericSlug" data-lab="@Model.BikeName">
                @foreach (var Tabsdetails in Model.BikeInfo.Tabs)
                {
                    <li>
                        <a href="@string.Format("/m{0}", Tabsdetails.URL)" title="@string.Format("{0} {1}",Model.BikeName, Tabsdetails.Title)">
                            <span class="bwmsprite @Tabsdetails.IconText-sm"></span>
                            <span class="icon-label">@Tabsdetails.TabText</span>
                        </a>
                    </li>
                }
            </ul>
        }
        <div class="clear"></div>
        @if (Model.BikeInfo.Make != null && Model.Series != null && Model.Series.IsSeriesPageUrl && Model.Series.ModelsCount > 1)
        {
            string bodyStyle = Model.Series.BodyStyle == Bikewale.Entities.GenericBikes.EnumBikeBodyStyles.Scooter ? "scooter" : "bike";
            string bodyStyleText = bodyStyle + (Model.Series.ModelsCount > 2 ? "s" : "");
            <div class="border-solid-bottom margin-top5 margin-bottom10"></div>
            <a href="@string.Format("/m{0}",Bikewale.Utility.UrlFormatter.BikeSeriesUrl(Model.BikeInfo.Make.MaskingName, Model.Series.MaskingName))" title="@string.Format("{0} {1} {2}",Model.BikeInfo.Make.MakeName, Model.Series.SeriesName, bodyStyleText)" class="block text-default hover-no-underline">
                <span class="used-target-label inline-block">
                    <span class="font14 text-bold">@(Model.Series.ModelsCount-1) more @Model.BikeInfo.Make.MakeName @Model.Series.SeriesName @bodyStyleText</span><br />
                    <span class="font12 text-light-grey">starting from <span class="bwmsprite inr-12-grey margin-right5"></span>@Format.FormatNumeric(Convert.ToString(Model.Series.MinPrice))</span>
                </span>
                <span class="bwmsprite next-grey-icon"></span>
            </a>
        }
    </div>
}
