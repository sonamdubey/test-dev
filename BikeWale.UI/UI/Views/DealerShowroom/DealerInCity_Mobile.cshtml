@model  Bikewale.Models.DealerShowroomCityPageVM
@using Bikewale.Entities.BikeBooking;
@{
	Layout = "~/UI/Views/Shared/_Layout_Mobile.cshtml";
    Model.Page_ATF_CSS = "<link rel='stylesheet' type='text/css' href='/UI/m/css/dealer/listing.css' inline /> <link rel='stylesheet' type='text/css' href='/UI/css/components/m-brand-logo.css' inline /><link rel='stylesheet' type='text/css' href='/UI/sass/partials/lead-popup.css' inline />";
    Model.Page_JS_Paths = new string[] { "/UI/m/src/dealer/listing.js", "/UI/src/utils/checkbox.js" };
    Model.PageMetaTags.CanonicalUrl = String.Format("https://www.bikewale.com/dealer-showrooms/{0}/{1}/", Model.Make.MaskingName, Model.CityDetails.CityMaskingName);
}
<section>
    <div class="container margin-bottom10">
        <div class="bg-white">
            <h1 class="box-shadow padding-15-20">@Model.Make.MakeName @string.Format("Showroom{0}", Model.TotalDealers > 1 ? "s" : "") in @Model.CityDetails.CityName</h1>
            <div class="box-shadow padding-15-20 font14 text-light-grey collapsible-content">
                <p class="main-content">Showroom experience has always played an important role while buying a new bike. BikeWale brings you the address, contact details and directions of @Model.Make.MakeName Showroom to improve your buying experience. There @string.Format("{0} {1} {2} showroom{3}", Model.TotalDealers > 1 ? "are" : "is", Model.TotalDealers, Model.Make.MakeName, Model.TotalDealers > 1 ? "s" : "") in  @Model.CityDetails.CityName. BikeWale recommends buying bikes from authorized @Model.Make.MakeName showroom in @Model.CityDetails.CityName</p>
                <p class="more-content">For information on prices, offers, EMI options and test rides you may get in touch with below mentioned @Model.Make.MakeName dealers in  @Model.CityDetails.CityName.</p><a href="javascript:void(0)" class="read-more-target" rel="nofollow">...Read more</a>
            </div>
        </div>
    </div>
</section>

<section>
    <div class="container bg-white box-shadow margin-bottom10">
        <div class="border-solid-bottom padding-15-20">
            <h2 class="inline-block text-bold dealer-heading padding-right10">@String.Format("{0} {1} showroom{2} in {3}", Model.TotalDealers, Model.Make.MakeName, Model.TotalDealers > 1 ? "s" : "", Model.CityDetails.CityName)</h2>
            <div class="inline-block text-center">
                <span class="edit-blue-link" id="changeOptions" data-clientip="@Bikewale.Common.CommonOpn.GetClientIP()"><span class="bwmsprite edit-blue margin-right5"></span><span class="change-text text-link">change</span></span>
            </div>
        </div>
        <ul id="dealersList">
            @foreach (var Details in Model.DealersList.Dealers)
            {
                <li>
                    <a href=@(Details.IsFeatured ? string.Format("/m/dealer-showrooms/{0}/{1}/{2}-{3}/", Model.Make.MaskingName, Model.CityDetails.CityMaskingName, Bikewale.Utility.UrlFormatter.RemoveSpecialCharUrl(Details.Name), Details.DealerId) : "javascript:void(0)") rel="nofollow" title="@Details.Name">
                        @if (Details.IsFeatured)
                        {
                            <div class="featured-tag">
                                <span class="bwmsprite star-white"></span>Featured
                            </div>
                        }
                        @if (Details.objArea != null)
                        {
                            if (Details.objArea.AreaName != string.Empty)
                            {
                                <h3 class="margin-bottom5">@string.Format("{0}, {1}", Details.Name, Details.objArea.AreaName)</h3>
                            }
                            else
                            {
                                <h3 class="margin-bottom5">@Details.Name</h3>
                            }
                        }
                        <p class="@string.Format("{0}", string.IsNullOrEmpty(Details.Address) ? "hide" : "margin-bottom5")">
                            <span class="bwmsprite dealership-loc-icon vertical-top"></span>
                            @if (string.IsNullOrEmpty(Details.objArea.PinCode))
                            {
                                <span class="vertical-top dealership-details text-light-grey">@string.Format("{0}, {1}", Details.Address, Model.CityDetails.CityName)</span>
                            }
                            else
                            {
                                <span class="vertical-top dealership-details text-light-grey">@string.Format("{0}, {1} - {2}", Details.Address, Model.CityDetails.CityName, Details.objArea.PinCode)</span>
                            }
                        </p>
                        <div class="@string.Format("{0}",String.IsNullOrEmpty(Details.MaskingNumber)?"hide":"")">
                            <a href="tel:@Details.MaskingNumber" class="text-default text-bold maskingNumber">
                                <span class="vertical-top bwmsprite tel-sm-grey-icon"></span>
                                <span class="vertical-top dealership-details">@Details.MaskingNumber</span>
                            </a>
                        </div>
                    </a>
                    @if (Details.IsFeatured)
                    {
                        <input data-leadsourceid=@Convert.ToInt16(LeadSourceEnum.DealersShowroomList_LeadForm_Mobile) data-item-id="@Details.DealerId" data-item-type="@Details.DealerType" data-item-name="@Details.Name" data-item-area="@Details.objArea.AreaName" data-campaignid="@Details.CampaignId" data-pqsourceid="@((int)Bikewale.Entities.PriceQuote.PQSourceEnum.Desktop_DealerLocator_GetOfferButton)" data-campaignid="@Details.CampaignId" type="button" class="btn btn-white margin-top10 leadcapturebtn bw-ga margin-top20" data-cat="Dealer_Locator" data-act="Get_Offers_Clicked" data-lab="@Details.GetOffersGALabel" data-cityname="@Model.CityDetails.CityName" data-areaname="@Details.objArea.AreaName" data-eventcategory="Dealer_Locator" value="@Details.DisplayTextLarge" />
                    }
                </li>
            }
        </ul>
    </div>
</section>

@if (Model.DealerCountCity != null && Model.DealerCountCity.objDealerInNearCityList.Count() > 0)
{

    <section>
        <div class="container bg-white box-shadow padding-top15 padding-bottom10">
            <h2 class="padding-right20 padding-bottom15 padding-left20">Explore @Model.Make.MakeName showrooms in cities near @Model.CityDetails.CityName</h2>
            <div class="clear"></div>
            @Html.Partial("~/UI/Views/DealerShowroom/_DealersInNearByCities_Mobile.cshtml", Model.DealerCountCity)
        </div>
        <div class="clear"></div>

    </section>
}
@if ((Model.PopularBikes != null && Model.PopularBikes.Bikes != null && Model.PopularBikes.Bikes.Count() > 0) || (Model.ServiceCenterDetails != null && Model.ServiceCenterDetails.ServiceCentersList != null && Model.ServiceCenterDetails.ServiceCentersList.Count() > 0) || (Model.UsedBikeModel != null && Model.UsedBikeModel.UsedBikeModelList != null && Model.UsedBikeModel.UsedBikeModelList.Count() > 0))
{
    <section>
        <div class="container bg-white box-shadow padding-top15 padding-bottom20">
            @if (Model.PopularBikes != null && Model.PopularBikes.Bikes != null && Model.PopularBikes.Bikes.Count() > 0)
            {
                <div class="margin-top20 margin-right20 margin-left20 border-solid-bottom"></div>
                <div class="carousel-heading-content padding-top15">
                    <div class="swiper-heading-left-grid inline-block">
                        <h2>@string.Format("Popular {0} bikes in {1}", Model.Make.MakeName, Model.CityDetails.CityName)</h2>
                    </div><div class="swiper-heading-right-grid inline-block text-right">
                        <a href="@string.Format("/m/{0}-bikes/",Model.Make.MaskingName)" title="@string.Format("{0} Bikes",Model.Make.MakeName)" class="btn view-all-target-btn">View all</a>
                    </div>
                </div>

                <div class="swiper-container card-container">
                    <div class="swiper-wrapper discover-bike-carousel">
                        @Html.Partial("~/UI/Views/BikeModels/_MostPopularBikes_Mobile.cshtml", Model.PopularBikes)
                    </div>
                </div>

            }

            @if (Model.UsedBikeModel != null && Model.UsedBikeModel.UsedBikeModelList != null && Model.UsedBikeModel.UsedBikeModelList.Count() > 0)
            {
                <div class="margin-top20 margin-right20 margin-left20 border-solid-bottom"></div>
                <section>
                    <div class="carousel-heading-content padding-top15">
                        <div class="swiper-heading-left-grid inline-block">
                            <h2>@string.Format("Second-hand {0} bike in {1}", Model.Make.MakeName, Model.CityDetails.CityName)</h2>
                        </div><div class="swiper-heading-right-grid inline-block text-right">
                            <a href="@string.Format("/m/used/{0}-bikes-in-{1}/",Model.Make.MaskingName,Model.CityDetails.CityMaskingName)" title="@string.Format("Second-hand Bikes in {0}",Model.CityDetails!=null?Model.CityDetails.CityMaskingName:"India")" class="btn view-all-target-btn">View all</a>
                        </div>
                    </div>
                    <div class="padding-bottom20">
                        @Html.Partial("~/UI/Views/Used/_UsedBikesByModel_Mobile.cshtml", Model.UsedBikeModel)
                    </div>

                </section>

            }

        </div>
    </section>
}

@if (Model.DealersServiceCenterPopularCities != null && Model.DealersServiceCenterPopularCities.DealerServiceCenters != null && Model.DealersServiceCenterPopularCities.DealerServiceCenters.TotalDealerCount > 0 && Model.DealersServiceCenterPopularCities.DealerServiceCenters.DealerDetails != null
   && Model.DealersServiceCenterPopularCities.DealerServiceCenters.DealerDetails.Any(m => m.DealerCount > 0))
{
    <section>
        <div class="container box-shadow padding-top15 card-bottom-margin">

            <!-- model prices in other cities start -->
            <div class="content-box-shadow padding-bottom5 card-bottom-margin">
                <div class="content-inner-block-20">
                    <span class="bwmsprite dealer-grey"></span>
                    <h2 class="margin-bottom10 inline-block padding-left10">@Model.Make.MakeName showrooms in other cities</h2>
                    <p class="font14 text-slate-grey margin-bottom15">You are currently viewing showrooms of @Model.Make.MakeName in @Model.CityDetails.CityName. Not from @Model.CityDetails.CityName? Select your city to find @Model.Make.MakeName showrooms in your city.</p>
                    <a href="javascript:void(0)" id="changeCity" class="btn btn-white btn-170-32 changepriceincitypage " rel="nofollow" data-modelid="@Model.Make.MakeId" data-makemasking="@Model.Make.MaskingName">
                        Select your city
                    </a>
                    @Html.Partial("~/UI/Views/PopUp/BikeCityPopup_Mobile.cshtml", Model.BikeCityPopup)
                </div>
                <div class="margin-right20 margin-bottom20 margin-left20 border-solid-bottom">

                </div>
                <h3 class="margin-right20 margin-bottom10 margin-left20">
                    @Model.Make.MakeName showrooms in popular cities
                </h3>
                <div class="swiper-container card-container swiper-city">
                    @Html.Partial("~/UI/Views/PopularCityWidget/DealerServiceCenterInTopCityWidget_Mobile.cshtml", Model.DealersServiceCenterPopularCities)
                </div>
            </div>
            <!-- model prices in other cities end -->

        </div>
    </section>

}

@if (Model.SimilarBrandsByCity != null && Model.SimilarBrandsByCity.Makes != null && Model.SimilarBrandsByCity.Makes.Count() > 0)
{
    <section>
        <div class="container bg-white box-shadow padding-top15 padding-bottom15 card-bottom-margin">
            <div class="carousel-heading-content">
                <div class="swiper-heading-left-grid inline-block">
                    @if (Model.CityDetails != null)
                    {
                        <span class="font16 text-semibold text-black">@string.Format("Showroom of other brands in {0}", Model.CityDetails.CityName)</span>
                    }
                </div>
                <div class="swiper-heading-right-grid inline-block text-right">
                    <a href="/m/dealer-showrooms/" title="Bikes Showroom Locator" class="btn view-all-target-btn">View all</a>
                </div>
                <div class="clear"></div>
            </div>
            @Html.Partial("~/UI/Views/Make/_BrandsModelCount_Mobile.cshtml", Model.SimilarBrandsByCity)
        </div>
    </section>
}

@if (Model.DealersServiceCenterPopularCities != null && Model.DealersServiceCenterPopularCities.DealerServiceCenters != null && Model.DealersServiceCenterPopularCities.DealerServiceCenters.TotalServiceCenterCount > 0)
{

    {
        <section>
            <div class="content-box-shadow card-bottom-margin content-inner-block-20">
                <div class="margin-bottom10">
                    <span class="bwmsprite service-center-grey"></span>
                    <div class="grid-11-inline padding-left10">
                        <h2>@string.Format("{0} service centers in {1}", @Model.Make.MakeName, Model.CityDetails.CityName)</h2>
                    </div>
                </div>
                <p class="font14 text-slate-grey margin-bottom15">Get in touch with your nearest @Model.Make.MakeName service centers in @Model.CityDetails.CityName for service enquiries, service and repair costs and more!</p>
                <a href="@string.Format("/m/service-centers/{0}/{1}/", Model.Make.MaskingName, Model.CityDetails.CityMaskingName)" title="@string.Format("{0} Service Center in {1}", Model.Make.MakeName, Model.CityDetails.CityName)" class="btn view-all-target-btn">View complete list<span class="bwmsprite teal-right"></span></a>
            </div>
        </section>



    }
}

@if (Model.LeadCapture != null)
{
    @Html.Partial("~/UI/Views/Shared/_LeadCapture_Mobile.cshtml", Model.LeadCapture)
}





<section>
    <div class="container margin-top10 margin-bottom30">
        <div class="grid-12 font12">
            <span class="font14"> <strong>Disclaimer</strong>:</span> The above mentioned information about @Model.Make.MakeName dealership showrooms in @Model.CityDetails.CityName is furnished to the best of our knowledge.
            All @Model.Make.MakeName bike models and colour options may not be available at each of the @Model.Make.MakeName dealers.
            We recommend that you call and check with your nearest @Model.Make.MakeName dealer before scheduling a showroom visit.
        </div>
        <div class="clear"></div>
    </div>
</section>
@Html.Partial("~/UI/Views/Make/_BrandCityPopup_Mobile.cshtml", Model.BrandCityPopupWidget)
@{Html.RenderAction("ChangeLocation_Mobile", "Location", new { cityId = Model.CityDetails.CityId, cityName = Model.CityDetails.CityName });}
<script>
    docReady(function () {
        if (FbPixelEvent) {
            fbq('track', FbPixelEvent.viewContent);
        }
    });
</script>
