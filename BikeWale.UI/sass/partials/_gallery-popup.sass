.black-window
	display: none
	background-color: rgba(0, 0, 0, 1)
	height: 100%
	width: 100%
	position: fixed
	left: 0
	top: 0
	right: 0
	bottom: 0
	z-index: 5

.gallery__close-btn
	width: 40px
	height: 40px
	text-align: center
	position: fixed
	top: 5px
	right: 5px
	cursor: pointer
	z-index: 10

.gallery-close-btn__icon
	@include cross-4d5057-icon
	background-size: 10px
	width: 30px
	height: 30px
	margin: 5px auto
	display: block
	background-color: rgba(245, 245, 245,.8)
	border-radius: 50%

// gallery active state
.gallery-popup--active
	.black-window
		display: block

.model-gallery-section
	height: 243px
	background-color: color('white')

.model-gallery__container
	position: relative
	z-index: 6

.model-gallery
	&.swiper-container
		overflow: hidden

	.swiper-slide
		@include flexbox
		@include justify-content(center)
		@include align-items(center)
		width: 100%
		height: 203px
		margin: 0

		img
			width: auto
			height: auto
			max-height: 203px

	.swiper--next,
	.swiper--prev
		top: 42%
		position: absolute
		width: 24px
		height: 43px
		z-index: 2
		display: inline-block
		background-position: center
		background-size: 8px
		background-color: color('border-light', .8)
		background-repeat: no-repeat

		&.swiper-button-disabled
			opacity: .4

	.swiper--next
		@include arrow-right
		right: 0
		border-top-left-radius: 4px
		border-bottom-left-radius: 4px

	.swiper--prev
		@include arrow-left
		left: 0
		border-top-right-radius: 4px
		border-bottom-right-radius: 4px

		&.swiper-button-disabled
			opacity: .4

.gallery-popup--active
	.model-gallery
		&.swiper-container
			overflow: visible

	~ .gallery-placeholder
			min-height: 243px
			margin-bottom: 60px

@media only screen and (min-width: 375px) and (max-width: 400px)
	.model-gallery-section
		height: 245px

	.model-gallery
		.swiper-slide
			height: 213px

			img
				max-height: 213px

@media only screen and (min-width: 410px) and (max-width: 420px)
	.model-gallery-section
		height: 268px

	.model-gallery
		.swiper-slide
			height: 234px

			img
				max-height: 234px

@media only screen and (max-width: 320px)
	.model-gallery-section
		height: 214px

	.model-gallery
		.swiper-slide
			height: 180px

			img
				max-height: 180px

// footer
.gallery-footer
	height: 40px
	background: color('bg-light-grey')

.gallery-footer__share
	position: relative
	top: 40px
	text-align: center
	background: rgba(0, 0, 0, .8)

	.share-list__item
		margin: 10px 15px

	.share-item__icon
		width: 26px
		height: 26px

.gallery-image__footer
	display: inline-block
	@include flexbox
	@include justify-content(space-between)
	@include align-items(center)
	background: color('border-light')
	padding-left: 15px
	width: 100%
	position: relative

.margin-bottom60
	margin-bottom: 60px

.gallery-image__count
	display: inline-block
	vertical-align: middle
	font-size: 12px
	color: color('light-grey')

.gallery-image__feature
	overflow: hidden

	.landscape-icon__container
		@include vendor-prefix('transition', width 1s)
		width: 0
		padding: 0
		display: inline-block
		vertical-align: middle

// footer icons
.gallery__download-icon
	@include download-2d2d2d-icon
	background-position: 11px 11px
	background-size: 18px
	display: inline-block
	vertical-align: middle	
	width: 40px
	height: 40px
	cursor: pointer

.gallery__share-icon
	@include share-2d2d2d-icon
	background-position: 11px 11px
	background-size: 17px
	display: inline-block
	vertical-align: middle
	width: 40px
	height: 40px
	cursor: pointer

.gallery__zoom-icon
	@include fullscreen-2d2d2d-icon
	background-position: 11px 11px
	background-size: 17px
	display: inline-block
	vertical-align: middle
	width: 40px
	height: 40px
	cursor: pointer

.screen--rotate
	display: none

.gallery__landscape-icon
	@include rotate-2d2d2d-icon
	background-position: 10px 10px
	background-size: 20px
	display: inline-block
	vertical-align: middle
	height: 40px
	width: 40px
	text-align: right
	cursor: pointer

.landscape-icon__container
	&[data-visible="false"]
		display: none
		width: 0

	&[data-visible="true"]
		display: inline-block
		width: 40px

// gallery active/popup state
.gallery-popup--active
	z-index: 8
	background: color('white')
	position: fixed
	left: 0
	width: 100%

	.model-gallery
		height: 100%

	.swiper-slide
		height: auto
		width: 100%

	.gallery__zoom-icon
		display: none

	.gallery__share-icon
		margin-right: 0

	.model-gallery__image-title
		background: color('dark-black')
		color: color('light-grey')
		width: 100%
		text-align: center
		font-size: 12px

// rotate slug
.gallery__landscape-slug
	@include vendor-prefix('border-radius', 2px)
	@include vendor-prefix('transform', translateX(-50%))
	left: 50%
	padding: 0
	border: 1px solid color('dandelion')
	color: color('dandelion')
	position: fixed
	bottom: 5%
	width: auto
	white-space: nowrap
	padding-right: 15px
	z-index: 8
	border-radius: 2px
	user-select: none
	background-color: color('dark-black')

	.landscape-text
		display: inline-block
		vertical-align: middle
		padding: 9px 14px 10px
		font-size: 12px

	.screen--rotate-slug__landscape-container
		height: 20px
		width: 20px
		display: inline-block

	.screen--rotate-slug__landscape-icon
		@include vendor-prefix('animation', rotate-icon 1.4s linear infinite)
		@include rotate-ffcf63-icon
		display: inline-block
		vertical-align: middle
		height: 20px
		width: 20px
		text-align: right
		background-size: 20px

	&.landscape-slug--inactive
		border: none
		z-index: 10

		.landscape-text
			visibility: hidden

		.screen--rotate-slug__landscape-container
			display: none

	@keyframes rotate-icon
		0%
			transform: rotate(0deg)
		50%
			transform: rotate(45deg)
		100%
			transform: rotate(0deg)
				
	@-webkit-keyframess rotate-icon
		0%
			transform: rotate(0deg)
		50%
			transform: rotate(45deg)
		100%
			transform: rotate(0deg)

@media only screen and (max-width: 320px)
	.gallery__landscape-slug
		.landscape-text
			font-size: 10px

	.gallery__color-floating-slug
		bottom: 5%

// color slug/button
.gallery-image__color
	@include color-palette-fff-icon
	background-position: left center
	padding-left: 25px
	color: color('white')
	font-size: 12px
	display: inline-block
	line-height: 40px
	cursor: pointer

.gallery__color-floating-slug
	@include vendor-prefix('border-radius', 16px)
	@include vendor-prefix('transform', translateX(-50%))
	@include color-palette-4d5057-icon
	background-color: color('white')
	background-position: 7%
	padding: 9px 14px 9px 34px
	color: color('default')
	font-size: 12px
	position: fixed
	bottom: 7%
	left: 50%
	text-transform: capitalize
	z-index: 8

.model-gallery__image-title
	@include text-truncate(100%)
	background: color('white')
	padding: 17px 15px
	font-size: 14px
	position: absolute
	top: 100%
	left: 0
	right: 0

// landscape mode
.orientation--landscape
	.gallery-popup--active
		.model-gallery
			margin-bottom: 0

			.swiper-slide
				height: 100vh
				background: color('dark-black')
					
				img
					max-height: 100%

		.gallery-footer
			position: fixed
			bottom: 0
			left: 0
			right: 0
			width: 100%
			z-index: 10

		.gallery-image__footer
			background: color('nero')

		.gallery__share-icon
			@include share-fff-icon
			background-position: 11px 11px
			background-size: 17px

		.gallery__download-icon
			@include download-fff-icon
			background-position: 11px 11px
			background-size: 18px
		
		.model-gallery__image-title
			padding: 0 20px
			display: inline-block
			vertical-align: middle
			position: static
			font-size: 12px
			background: transparent
			color: color('light-grey')
			text-align: left

		.landscape-icon__container
			&[data-visible="true"]
				width: 40px

		.swiper--next,
		.swiper--prev
			height: 43px
			width: 24px
			background-position: 9px 16px
			top: 43%

		.gallery-image__footer
			.gallery__landscape-icon
				@include rotate-fff-icon
				background-size: 20px

	.gallery-image__left-section
		@include text-truncate(40%)
		display: inline-block
		vertical-align: middle

.device--landscape-no-fullscreen
	.orientation--landscape
		.gallery-slide-slug__title
			margin-bottom: 15px

		.color-slide__list
			margin-bottom: 15px

		.color-slide__more-count
			margin-bottom: 10px

		.model-gallery__color-slide
			padding-bottom: 50px

// color slug
.gallery-color-slug--active
	.gallery__slide-slug
		opacity: 1
		z-index: 1

	.gallery-footer__content,
	.gallery__color-floating-slug
		display: none

.orientation--landscape
	.gallery__slide-slug
		padding-bottom: 50px

@include fadeIn

// colors slide
.gallery__slide-slug
	@include flexbox
	@include justify-content(center)
	@include align-items(center)
	@include flex-direction(column)
	opacity: 0
	width: 100%
	height: 100%
	padding: 10px
	position: absolute
	left: 0
	right: 0
	top: 0
	z-index: 0

.model-gallery__color-slide
	background: radial-gradient(color('aluminium'), color('white'))

.gallery-slide-slug__title
	color: color('black')
	font-size: 16px
	font-weight: 700
	margin-bottom: 30px

.color-slide__more-count
	color: color('white')
	font-size: 12px
	font-weight: 600
	user-select: none

.color-slide__list
	margin-bottom: 10px

.color-slide-list__item
	margin-left: 30px
	display: inline-block
	vertical-align: middle

	&:first-child
		margin-left: 0

	.color-box
		position: static

.slide__more-btn-content
	position: absolute
	bottom: -19px
	left: 0
	right: 0
	margin: 0 auto
	text-align: center
	z-index: 1

	.slide__more-btn
		font-size: 12px
		padding: 9px 25px
		border-radius: 20px

.gallery__single-color-title
	width: 100%
	padding-right: 30px
	padding-left: 30px
	font-size: 13px
	color: color('gainsboro')
	position: absolute
	top: 100%
	margin-top: 85px // footer height + swiper title height
	left: 0
	right: 0
	text-align: center
	background-color: rgba(0, 0, 0, .6)

// slug in landscape mode
.orientation--landscape
	.color-slide__more-count
		margin-bottom: 30px

	.color-slide__list
		margin-bottom: 25px

	.color-slide-list__item		
		margin-left: 40px

		&:first-child
			margin-left: 0

	.slide__more-btn-content
		position: relative
		bottom: 0

	.color-box
		width: 48px
		height: 48px

.browser--uc-fallback
	.orientation--landscape
		.gallery-image__left-section
			min-width: 220px

// video slug
.model-gallery__video-slide
	background-color: rgba(0, 0, 0, .6)

	.gallery-slide-slug__title
		margin-bottom: 20px
		color: color('white')
		z-index: 9

	.iframe-overlay
		background-color: rgba(0, 0, 0, .6)

.video-slug--single-video
	.video-slug__play
		margin-bottom: 20px

	.video-slug__description
		z-index: 9

.video-slug__iframe-container
	position: absolute
	top: 0
	left: 0
	width: 100%
	height: 100%

.video-slug__thumbnail
	position: absolute
	top: 0
	left: 0
	width: 100%

.video-slug__play
	@include youtube-play-icon
	width: 48px
	height: 34px
	display: inline-block
	position: relative
	z-index: 9

.video-slug__description
	max-width: 85%
	font-size: 14px
	color: color('white')
	margin-bottom: 10px
	text-align: center

.gallery-video-slug--active
	.gallery__slide-slug
		opacity: 1
		z-index: 1

	.gallery-footer__content
		display: none

.model--single-video
	.orientation--landscape
		.gallery-video-slug--active
			.gallery__continue-swipe-info
				display: none

// video playing state
.video-slug--video-playing
	.gallery-slide-slug__title,
	.video-slug__play,
	.video-slug__description,
	.video-slug__thumbnail
		display: none

	.iframe-overlay
		background-color: transparent

// swipe to continue
.gallery__continue-swipe-info
	position: fixed
	right: 0
	bottom: 0
	left: 0
	width: 100%
	line-height: 40px
	background: color('dark-black')
	text-align: center
	z-index: 8
	
.continue-info__label
	font-size: 12px
	color: color('mona-lisa')
	padding-right: 5px
	text-decoration: underline
	display: inline-block
	vertical-align: middle

.continue-info__arrow
	@include arrow-forward-fd8d81-icon
	background-size: 17px
	width: 17px
	height: 15px
	display: inline-block
	vertical-align: middle
	@include vendor-prefix('animation', animateRight 1s infinite alternate)

@-webkit-keyframes animateRight
	0
		-webkit-transform: translateX(0)
	100%
		-webkit-transform: translateX(5px)

@keyframes animateRight
	0
		transform: translateX(0)
	100%
		transform: translateX(5px)

// loader
.loader__spin
	width: 40px
	height: 40px
	display: inline-block
	margin: 0 auto
	border: 3px solid color('bg-light-grey')
	border-top-color: transparent
	border-radius: 50%
	@include vendor-prefix('animation', spin 1.1s infinite linear)

.loader--fixed
	position: fixed
	top: 44%
	right: 0
	left: 0

.gallery__loader
	&.black-window
		display: none
		z-index: 10
		background-color: rgba(0, 0, 0, .8)

@include spin
