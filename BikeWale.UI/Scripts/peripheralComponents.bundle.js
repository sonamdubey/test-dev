webpackJsonp([0],{340:function(e,t,n){"use strict";function a(){d(document.getElementById("global-search-popup")),u()}function o(){d(document.getElementById("globalcity-popup")),u()}function i(){E(),d(document.getElementById("popupWrapper")),l(),u()}function l(){var e=document.getElementById("popupContent");e.style.left="100%",e.classList.remove("fix-input-field")}function r(){var e=document.getElementById("popupContent");e.style.left="0",setTimeout(function(){e.classList.add("fix-input-field")},500)}function s(){d(document.getElementById("globalcity-popup")),u(),window.history.back()}function c(){document.body.classList.add("lock-browser-scroll"),p(document.getElementsByClassName("blackOut-window")[0])}function u(){document.body.classList.remove("lock-browser-scroll"),d(document.getElementsByClassName("blackOut-window")[0])}function d(e){try{e.style.display="none"}catch(e){}}function p(e){try{e.style.display="block"}catch(e){}}function h(){if((0,B.isServer)())return null;var e=f("location");return e?(e=e.replace("-"," ").split("_"),{name:e[1],id:parseInt(e[0])}):null}function f(e){var t=document.cookie.match("(^|;) ?"+e+"=([^;]*)(;|$)");return t?t[2]:null}function m(){var e=document.domain;return e.match("bikewale.com$")&&(e=".bikewale.com"),e}function y(e,t,n){var a=new Date,o=new Date;o.setTime(a.getTime()+864e5*n),t=t.replace(/\s+/g,"-"),/MSIE (\d+\.\d+);/.test(navigator.userAgent)||/Trident\//.test(navigator.userAgent)?document.cookie=e+"="+t+";expires="+o.toGMTString()+"; path =/":document.cookie=e+"="+t+";expires="+o.toGMTString()+";domain="+m()+"; path =/",bwcache.remove("userchangedlocation",!0)}function g(e,t){t?(document.getElementById("error-icon").classList.remove("hide"),document.getElementById("bw-blackbg-tooltip").classList.remove("hide"),e.classList.add("border-red")):(document.getElementById("error-icon").classList.add("hide"),document.getElementById("bw-blackbg-tooltip").classList.add("hide"),e.classList.remove("border-red"))}function b(e){switch(e){case"globalCity":o();break;case"onRoadPrice":i();break;default:return!0}}function v(e){try{return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"").replace(/-/g," ").replace(/[^A-Za-z0-9 ]/g,"").toLowerCase().trim()}catch(e){return""}}function S(e,t){var n=t,a=v(n),o=e.year;o=null!=o&&void 0!=o&&""!=o?o.val():"";var i=a+"_"+o;if(!(i in e.cache)&&a.length>0){p(document.getElementById("loaderGlobalCity"));var l=e.source,r=e.recordCount,s="/api/AutoSuggest/?source="+l+"&inputText="+encodeURIComponent(a)+"&noofrecords="+r;e.cache[i]=new Array;var c=new XMLHttpRequest;c.open("GET",s),c.setRequestHeader("Content-Type","application/json; charset=utf-8"),null!=e.loaderStatus&&"function"==typeof e.loaderStatus&&e.loaderStatus(!1),c.onreadystatechange=function(){if(4==c.readyState){if(200==c.status){d(document.getElementById("loaderGlobalCity"));var t=JSON.parse(c.responseText),n=t.suggestionList;e.cache[a+"_"+o]=n.map(function(e){return{label:e.text,payload:e.payload}});var l=e.cache[i];null!=e.afterfetch&&"function"==typeof e.afterfetch&&e.afterfetch(l,a)}else{var l=void 0;e.afterfetch(l,a)}null!=e.loaderStatus&&"function"==typeof e.loaderStatus&&e.loaderStatus(!0)}},c.send()}else{var u=e.cache[i];null!=e.afterfetch&&"function"==typeof e.afterfetch&&e.afterfetch(u,a)}}function I(e,t){var n=new RegExp("("+t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")+")","ig");return e.replace(n,"<strong>$1</strong>")}function C(){d(document.getElementById("global-search-popup")),u(),j=!0}function w(){for(var e=document.cookie.split("; "),t=e.length-1;t>=0;t--){var n=e[t].split("=");if("location"==n[0]){var a=String(n[1]).split("_");D.PQCitySelectedId=parseInt(a[0])||0,D.PQCitySelectedName=a[1]?a[1].replace(/-/g," "):"",D.PQAreaSelectedId=parseInt(a[2])||0,D.PQAreaSelectedName=a[3]?a[3].replace(/-/g," "):""}}}function k(e,t){w();var n=t;null==t||null==t.payload&&void 0==t.payload||(n=t.payload),_.SelectedModelId=null!=n.modelId&&void 0!=n.modelId?n.modelId:0,_.SelectedCity=D.PQCitySelectedId>0?{id:D.PQCitySelectedId,name:D.PQCitySelectedName}:null,_.SelectedArea=D.PQAreaSelectedId>0?{id:D.PQAreaSelectedId,name:D.PQAreaSelectedName}:null,_.SelectedCityId=(null!=n.preselcity&&void 0!=n.preselcity?n.preselcity:0)||D.PQCitySelectedId||0,_.SelectedAreaId=D.PQAreaSelectedId||0,_.BookingCities=[],_.BookingAreas=[],_.ModelName=null!=n.modelName&&null!=n.modelName?n.modelName:"",_.MakeName=null!=n.makeName&&null!=n.makeName?n.makeName:"",_.PageCatId=null!=n.pagecatId&&null!=n.pagecatId?n.makeName:"",_.IsPersistence=void 0!=n.persistent&&null!=n.persistent&&n.persistent,_.IsReload=void 0!=n.reload&&null!=n.reload&&n.reload,0==_.SelectedCityId&&(_.LoadingText="Fetching Cities..."),_.IsPersistence&&(_.LoadingText="Loading locations..."),p(document.getElementById("popupWrapper")),p(document.getElementById("popupContent")),document.getElementById("popupWrapper").classList.add("loader-active"),""!=window.location.hash&&(window.location.hash=""),L("onRoadPrice")}function E(){_.SelectedModelId=0,_.SelectedCity=null,_.SelectedArea=null,_.HasAreas=!1,_.SelectedCityId=0,_.SelectedAreaId=0,_.BookingCities=[],_.BookingAreas=[],_.MakeName="",_.ModelName="",_.PageCatId="",_.DealerId="",_.VersionId="",_.IsPersistence=!1,_.IsReload=!1,_.LoadingText="",_.state=N.cityPopupOpen}function P(){var e=f("location");return e=null!=e?e.replace(/[0-9](_)*/g,"").replace(/-+/g," "):""}function O(e,t,n){var a="";if(null!=e){switch(e){case"1":a="Make_Page";break;case"2":a="CheckPQ_Series",t="CheckPQ_Series_"+t;break;case"3":a="Model_Page",t="CheckPQ_Model_"+t;break;case"4":a="New_Bikes_Page";break;case"5":a="HP";break;case"6":a="Search_Page"}n?dataLayer.push({event:"Bikewale_all",cat:a,act:t,lab:n}):dataLayer.push({event:"Bikewale_all",cat:a,act:t})}}function A(e,t){if(void 0==e||null==e||""==e.trim()){if(!j){var n=bwcache.get(x.searchKey)||{},o=t.makeId,i=t.modelId,l=x.objectIndexOf(n.searches,{makeId:o,modelId:i}),r=n.searches[l];null!=n.searches&&l>-1&&n.searches.splice(l,1),n.searches.unshift(r),bwcache.set(x.searchKey,n),a(),window.location.href="/m/"+t.makeMaskingName+"-bikes/"+t.modelMaskingName}}else if(!j){var s=new Object;s.maskingName=t.payload.makeMaskingName,s.id=t.payload.makeId;var c=null;if(t.payload.modelId>0&&(c=new Object,c.maskingName=t.payload.modelMaskingName,c.id=t.payload.modelId,c.futuristic=t.payload.futuristic),x.saveRecentSearches(t),a(),null!=c&&void 0!=c)return window.location.href="/m/"+s.maskingName+"-bikes/"+c.maskingName+"/",!0;if(null!=s&&void 0!=s)return window.location.href="/m/"+s.maskingName+"-bikes/",!0}j&&(j=!1)}var B=n(7),L=function(e){window.location.hash=e};if(!(0,B.isServer)())try{docReady(function(){document.getElementsByClassName("blackOut-window")[0].addEventListener("mouseup",function(e){var t=document.getElementById("global-search-popup");e.target.id!==t.getAttribute("id")&&(d(t),u())}),window.addEventListener("hashchange",function(e){var t,n;(t=e.oldURL)&&t.indexOf("#")>0&&(n=t.split("#")[1],b(n))})})}catch(e){}var x={searchKey:"recentsearches",options:{bikeSearchEle:(0,B.isServer)()?null:document.getElementById("globalSearch"),recentSearchesEle:(0,B.isServer)()?null:document.getElementById("new-global-recent-searches")&&document.getElementById("new-global-recent-searches").length?document.getElementById("new-global-recent-searches"):document.getElementById("global-recent-searches"),recentSearchesLoaded:!1},saveRecentSearches:function(e){if(e&&e.payload&&e.payload.makeId>0){var t=bwcache.get(this.searchKey)||{};e.payload.name=e.label,t.searches=t.searches||[];var n=this.objectIndexOf(t.searches,e.payload);null!=t.searches&&n>-1&&t.searches.splice(n,1),t.searches.unshift(e.payload),t.lastModified=(new Date).getTime(),t.searches.length>5&&t.searches.pop(),t.noOfSearches=t.searches.length,bwcache.set(this.searchKey,t)}},showRecentSearches:function(e){var t=bwcache.get(this.searchKey);t&&t.searches&&e(t.searches)},getRecentSearches:function(e){var t=bwcache.get(this.searchKey);return t&&t.searches?t.searches:null},objectIndexOf:function(e,t){for(var n=(t.makeId,t.modelId,0),a=e.length;n<a;n++)if(e[n].makeId===t.makeId&&e[n].modelId===t.modelId)return n;return-1}},N={popupClosed:"popup-closed",cityPopupOpen:"city-popup-open",areaPopupOpen:"area-popup-open"},_={SelectedModelId:0,SelectedCity:null,SelectedArea:null,HasAreas:!1,SelectedCityId:0,SelectedAreaId:0,BookingCities:[],BookingAreas:[],MakeName:"",ModelName:"",PageCatId:"",DealerId:"",VersionId:"",IsPersistence:!1,IsReload:!1,LoadingText:"",state:N.cityPopupOpen},R=new Object,T=new Object,M={RESET:0,ERROR:1,RECENTSEARCH:2,AUTOCOMPLETE:3},j=!1,D=new Object;e.exports={closeGlobalSearchPopUp:a,closeGlobalCityPopUp:o,closeGlobalCityPopUpByButtonClick:s,lockPopup:c,unlockPopup:u,hideElement:d,showElement:p,recentSearches:x,SetCookieInDays:y,autocomplete:S,showHideMatchError:g,globalCityCache:R,globalSearchCache:T,pqSourceId:"38",getGlobalCity:h,highlightText:I,getStrippedTerm:v,setPriceQuoteFlag:C,MakeModelRedirection:A,globalSearchStatus:M,onCookieObj:D,setDataForPriceQuotePopup:k,onRoadPricePopupDataObject:_,getCookie:f,GetGlobalCityArea:P,gtmCodeAppender:O,popupState:N,resetOnRoadPricePopup:E,closeCityAreaSelectionPopup:l,openCityAreaSelectionPopup:r}},341:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),c=a(s),u=n(344),d=a(u),p=n(340),h=n(7),f=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),a=(0,p.getGlobalCity)(),l=a&&a.id>0?a.id:null,r=a&&a.name.length>0?a.name:"";return n.state={value:r,cityList:[],globalCityId:l,strippedValue:(0,p.getStrippedTerm)(r)},n.submitCity=n.submitCity.bind(n),n.closeGlobalCityPopUpByButtonClick=n.closeGlobalCityPopUpByButtonClick.bind(n),n}return l(t,e),r(t,[{key:"componentDidMount",value:function(){this.input.handleKeyUp=this.handleKeyUp.bind(this),this.input.handleInputBlur=this.handleInputBlur.bind(this)}},{key:"submitCity",value:function(){var e=document.getElementById("globalCityPopUp");return this.state.globalCityId>0&&""!=this.state.value?((0,p.showHideMatchError)(e,!1),(0,p.closeGlobalCityPopUpByButtonClick)()):(0,p.showHideMatchError)(e,!0),!1}},{key:"onSelect",value:function(e,t){var n=new Object;n.cityId=t.payload.cityId,n.maskingName=t.payload.cityMaskingName;var a=t.label.split(",")[0];n.cityId!=this.state.globalCityId&&((0,p.SetCookieInDays)("location",n.cityId+"_"+a,365),bwcache.set("userchangedlocation",window.location.href,!0)),(0,p.closeGlobalCityPopUpByButtonClick)(),dataLayer.push({event:"Bikewale_all",cat:(0,h.GetCatForNav)(),act:"City_Popup_Default",lab:a}),n.cityId&&location.reload()}},{key:"handleInputBlur",value:function(e){e.preventDefault()}},{key:"handleKeyUp",value:function(e){13==e.keyCode&&e.preventDefault(),0==this.state.value.replace(/\s/g,"").length&&(this.state.cityList=[])}},{key:"onChange",value:function(e,t){this.setState({value:t,strippedValue:(0,p.getStrippedTerm)(t)}),0!=t.replace(/\s/g,"").length&&(0,p.autocomplete)({year:"",recordCount:5,source:3,afterfetch:this.afterfetch.bind(this),cache:p.globalCityCache},t)}},{key:"afterfetch",value:function(e,t){var n=document.getElementById("globalCityPopUp");void 0!=e&&e.length>0?((0,p.showHideMatchError)(n,!1),this.setState({cityList:e})):((0,p.showHideMatchError)(n,!0),this.setState({cityList:[]}))}},{key:"closeGlobalCityPopUpByButtonClick",value:function(){(0,p.closeGlobalCityPopUpByButtonClick)();var e=(0,p.getGlobalCity)(),t=e&&e.id>0?e.id:null,n=e&&e.name.length>0?e.name:"";this.setState({value:n,cityList:[],globalCityId:t,strippedValue:(0,p.getStrippedTerm)(n)})}},{key:"shouldComponentUpdate",value:function(e,t){if("none"==document.getElementById("globalcity-popup").style.display){try{if(null!=this.state.value&&null!=t.value&&this.state.value!==t.value)return!0}catch(e){return!1}return!1}return!0}},{key:"render",value:function(){var e=this;return c.default.createElement("div",{className:"globalcity-popup bwm-fullscreen-popup hide",id:"globalcity-popup"},c.default.createElement("div",{className:"globalcity-popup-data text-center"},c.default.createElement("div",{id:"globalcity-close-btn",className:"globalcity-close-btn position-abt pos-top10 pos-right10 bwmsprite cross-lg-lgt-grey cur-pointer",onClick:this.closeGlobalCityPopUpByButtonClick}),c.default.createElement("p",{className:"font20 margin-bottom5 text-capitalize"},"Please tell us your city"),c.default.createElement("p",{className:"text-light-grey margin-bottom5"},"This allows us to provide relevant content for you."),c.default.createElement("div",{className:"autocomplete-wrapper form-control-box margin-bottom20"},c.default.createElement(d.default,{ref:function(t){return e.input=t},getItemValue:function(e){return e.label},value:this.state.value,items:this.state.cityList,inputProps:{name:"globalCityPopUp",placeholder:"Type to select city",id:"globalCityPopUp",className:"form-control padding-right30"},renderItem:function(t,n){return c.default.createElement("li",{className:"autocomplete-menu--item"+(n?" menu--item-focus":"")},c.default.createElement("span",{className:"menu--item-icon bwmsprite search-icon"}),c.default.createElement("a",{className:"menu--item-label",dangerouslySetInnerHTML:{__html:(0,p.highlightText)(t.label,e.state.strippedValue)}}))},autoHighlight:!0,onSelect:function(t,n){return e.onSelect(t,n)},onChange:function(t,n){return e.onChange(t,n)},renderMenu:function(e,t,n){return""===t?c.default.createElement("ul",null):c.default.createElement("ul",{className:"autocomplete-menu menu--full-width-item menu--no-item-icon",children:e})},wrapperStyle:{width:"100%"}}),c.default.createElement("span",{id:"loaderGlobalCity",className:"fa fa-spinner fa-spin position-abt pos-right10 pos-top15 text-black",style:{display:"none"}}),c.default.createElement("span",{id:"error-icon",className:"bwmsprite error-icon hide"}),c.default.createElement("div",{id:"bw-blackbg-tooltip",className:"bw-blackbg-tooltip hide"},"No city found. Try a different search.")),c.default.createElement("div",null,c.default.createElement("button",{id:"btnGlobalCityPopup",className:"btn btn-orange btn-full-width font18",onClick:this.submitCity},"Confirm city"))),c.default.createElement("div",{className:"clear"}))}}]),t}(c.default.Component);e.exports=f},342:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),c=a(s),u=n(344),d=a(u),p=n(340),h=n(7),f=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={status:p.globalSearchStatus.RESET,value:"",autocompleteList:[],recentSearchList:[],strippedValue:""},n.renderRecentSearchItems=n.renderRecentSearchItems.bind(n),n.renderAutocompleteItems=n.renderAutocompleteItems.bind(n),n.showRecentSearchList=n.showRecentSearchList.bind(n),n.showAutocompleteList=n.showAutocompleteList.bind(n),n.resetList=n.resetList.bind(n),n.showErrorMessage=n.showErrorMessage.bind(n),n.clickClearButton=n.clickClearButton.bind(n),n.getListByStatus=n.getListByStatus.bind(n),n.loaderStatus=n.loaderStatus.bind(n),n.afterfetch=n.afterfetch.bind(n),n.checkOnRoadLinkClick=n.checkOnRoadLinkClick.bind(n),n.resetListOnEmptyInput=n.resetListOnEmptyInput.bind(n),n}return l(t,e),r(t,[{key:"componentDidMount",value:function(){this.input.handleKeyUp=this.handleKeyUp.bind(this),this.input.focus=this.focus.bind(this),this.input.handleInputBlur=this.handleInputBlur.bind(this),this.focus()}},{key:"handleInputBlur",value:function(e){}},{key:"handleKeyUp",value:function(e){var t=this.state.value?this.state.value:"";""!=t.trim()&&27!=e.keyCode&&13!=e.keyCode||(""!=t.trim()?this.showErrorMessage():this.resetListOnEmptyInput(),(0,p.hideElement)(document.getElementById("gs-text-clear")))}},{key:"focus",value:function(e){""==this.state.value.trim()&&this.resetListOnEmptyInput()}},{key:"showRecentSearchList",value:function(e){e&&e.length>0?this.setState({status:p.globalSearchStatus.RECENTSEARCH,recentSearchList:e}):this.resetList()}},{key:"showAutocompleteList",value:function(e){this.setState({status:p.globalSearchStatus.AUTOCOMPLETE,autocompleteList:e})}},{key:"resetList",value:function(){this.setState({status:p.globalSearchStatus.RESET})}},{key:"showErrorMessage",value:function(){this.setState({status:p.globalSearchStatus.ERROR})}},{key:"onChange",value:function(e,t){this.setState({value:t,strippedValue:(0,p.getStrippedTerm)(t)}),0!=t.replace(/\s/g,"").length&&(0,p.autocomplete)({year:"",recordCount:5,source:1,afterfetch:this.afterfetch,cache:p.globalSearchCache,loaderStatus:this.loaderStatus},t)}},{key:"resetListOnEmptyInput",value:function(){var e=p.recentSearches.getRecentSearches();null!=e&&e.length>0?this.setState({value:"",strippedValue:"",status:p.globalSearchStatus.RECENTSEARCH,recentSearchList:e}):this.setState({value:"",strippedValue:"",status:p.globalSearchStatus.RESET})}},{key:"loaderStatus",value:function(e){e?((0,p.hideElement)(document.getElementById("loaderGlobalSearch")),document.getElementById("gs-text-clear").style.display="inline"):(0,p.showElement)(document.getElementById("loaderGlobalSearch"))}},{key:"clickClearButton",value:function(){this.resetListOnEmptyInput(),(0,p.hideElement)(document.getElementById("gs-text-clear")),this.focus()}},{key:"onSelect",value:function(e,t){var n=t.label+"_"+this.state.value,a=(0,h.GetCatForNav)();dataLayer.push({event:"Bikewale_all",cat:a,act:"Search_Keyword_Present_in_Autosuggest",lab:n}),this.setState({value:t.label,strippedValue:(0,p.getStrippedTerm)(t.label)}),(0,p.MakeModelRedirection)(this.state.value,t)}},{key:"afterfetch",value:function(e,t){if(void 0!=e&&e.length>0&&""!=t.trim())this.showAutocompleteList(e);else{this.setState({focusedMakeModel:null}),""!=t.trim()&&this.showErrorMessage();var n=this.state.value,a=(0,h.GetCatForNav)();dataLayer.push({event:"Bikewale_all",cat:a,act:"Search_Keyword_Not_Present_in_Autosuggest",lab:n})}}},{key:"checkOnRoadLinkClick",value:function(e,t){t.preventDefault(),(0,p.setDataForPriceQuotePopup)(t,e),(0,p.setPriceQuoteFlag)()}},{key:"renderRecentSearchItems",value:function(e){var t=null,n=e.name||"";return e.modelId>0&&(t="True"==e.futuristic?c.default.createElement("span",{className:"menu--right-align-label"},"coming soon"):"True"==e.isNew?c.default.createElement("a",{"data-pqSourceId":p.pqSourceId,"data-modelId":e.modelId,className:"getquotation menu--right-align-label text-blue",onClick:this.checkOnRoadLinkClick.bind(this,e)},"Check On-Road Price"):c.default.createElement("span",{className:"menu--right-align-label"},"discontinued")),c.default.createElement("li",{"data-makeid":e.makeId,"data-modelid":e.modelId,className:"autocomplete-menu--item"},c.default.createElement("span",{className:"menu--item-icon bwmsprite history-icon"}),c.default.createElement("a",{className:"menu--item-label",href:"javascript:void(0)","data-href":"/m/"+e.makeMaskingName+"-bikes/"+e.modelMaskingName,rel:"nofollow"},n),t)}},{key:"renderAutocompleteItems",value:function(e,t){var n=null;return e.payload.modelId>0&&(n="True"==e.payload.futuristic?c.default.createElement("span",{className:"menu--right-align-label"},"coming soon"):"True"==e.payload.isNew?c.default.createElement("a",{href:"javascript:void(0)","data-pqSourceId":p.pqSourceId,"data-modelId":e.payload.modelId,className:"getquotation menu--right-align-label text-blue",onClick:this.checkOnRoadLinkClick.bind(this,e)},"Check On-Road Price"):c.default.createElement("span",{className:"menu--right-align-label"},"discontinued")),c.default.createElement("li",{className:"autocomplete-menu--item"+(t?" menu--item-focus":"")},c.default.createElement("span",{className:"menu--item-icon bwmsprite search-icon"}),c.default.createElement("a",{className:"menu--item-label",dangerouslySetInnerHTML:{__html:(0,p.highlightText)(e.label,this.state.strippedValue)}}),n)}},{key:"getListByStatus",value:function(){return this.state.status==p.globalSearchStatus.RESET?[]:this.state.status==p.globalSearchStatus.ERROR?[]:this.state.status==p.globalSearchStatus.AUTOCOMPLETE?this.state.autocompleteList:this.state.status==p.globalSearchStatus.RECENTSEARCH?this.state.recentSearchList:[]}},{key:"shouldComponentUpdate",value:function(e,t){return"none"!=document.getElementById("global-search-popup").style.display||this.state.status!==t.status}},{key:"render",value:function(){var e=this;return c.default.createElement("div",{id:"global-search-popup",className:"global-search-popup",style:{display:"none"}},c.default.createElement("div",{className:"form-control-box"},c.default.createElement("span",{className:"back-arrow-box",id:"gs-close",onClick:p.closeGlobalSearchPopUp},c.default.createElement("span",{className:"bwmsprite back-long-arrow-left"})),c.default.createElement("span",{className:"cross-box hide",id:"gs-text-clear",onClick:this.clickClearButton},c.default.createElement("span",{className:"bwmsprite cross-md-dark-grey"})),c.default.createElement(d.default,{ref:function(t){return e.input=t},getItemValue:function(t){return e.state.status==p.globalSearchStatus.RECENTSEARCH?t.name:t.label},value:this.state.value,items:this.getListByStatus(),inputProps:{name:"globalSearch",placeholder:"Search",id:"globalSearch",className:"form-control padding-right30"},renderItem:function(t,n){return e.state.status===p.globalSearchStatus.AUTOCOMPLETE?e.renderAutocompleteItems(t,n):e.state.status===p.globalSearchStatus.RECENTSEARCH?e.renderRecentSearchItems(t):void 0},autoHighlight:!0,onSelect:function(t,n){return e.onSelect(t,n)},onChange:function(t,n){return e.onChange(t,n)},renderMenu:function(t,n,a){return e.state.status===p.globalSearchStatus.RESET?c.default.createElement("ul",null):e.state.status===p.globalSearchStatus.ERROR?c.default.createElement("ul",{className:"autocomplete-menu"},c.default.createElement("li",{className:"autocomplete-menu--item"},c.default.createElement("strong",null,"Oops! No suggestions found"),c.default.createElement("br",null),c.default.createElement("span",{className:"text-light-grey font12"},"Search by bike name e.g: Honda Activa"))):c.default.createElement("ul",{className:"autocomplete-menu",children:t})},wrapperStyle:{width:"100%"}}),c.default.createElement("span",{id:"loaderGlobalSearch",className:"fa fa-spinner fa-spin position-abt pos-right10 pos-top15 text-black",style:{display:"none",right:"35px",top:"13px"}}),c.default.createElement("ul",{id:"global-recent-searches",style:{position:"relative",margin:"0",textAlign:"left",height:"auto !important",background:"#fff"},className:"hide"})))}}]),t}(c.default.Component);e.exports=f},343:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(1),u=a(c),d=n(12),p=n(340),h=n(345),f=a(h),m=n(47),y=a(m),g=!1,b=function(e){function t(e){i(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n.showCitySelectionPopup=n.showCitySelectionPopup.bind(n),n.showAreaSelectionPopup=n.showAreaSelectionPopup.bind(n),n.closeCityAreaSelectionPopup=n.closeCityAreaSelectionPopup.bind(n),n.priceLoaderBtnClicked=n.priceLoaderBtnClicked.bind(n),n.initializePQ=n.initializePQ.bind(n),n.findCityById=n.findCityById.bind(n),n.findAreaById=n.findAreaById.bind(n),n.createMPQ=n.createMPQ.bind(n),n.closeOnRoadPricePopUp=n.closeOnRoadPricePopUp.bind(n),n.citySelect=n.citySelect.bind(n),n.areaSelect=n.areaSelect.bind(n),n.formPostDataString=n.formPostDataString.bind(n),n.resetPopup=n.resetPopup.bind(n),n}return r(t,e),s(t,[{key:"citySelect",value:function(e){var t=e.id,n="",a=this.state.IsPersistence;null==e||e.hasAreas?n="Loading areas for "+e.name:(n="Fetching on-road price for "+e.name,a=!1),this.setState({SelectedCity:e,SelectedCityId:t,SelectedArea:null,SelectedAreaId:0,BookingAreas:[],IsPersistence:a,LoadingText:n,state:p.popupState.areaPopupOpen}),e&&(e.hasAreas||e.id!=p.onCookieObj.PQCitySelectedId)&&(g=!1),this.closeCityAreaSelectionPopup()}},{key:"areaSelect",value:function(e){var t=(e.id,"");e.id!=p.onCookieObj.PQAreaSelectedId&&(g=!1,t="Fetching on-road price for "+e.name+", "+this.state.SelectedCity.name),this.setState({SelectedArea:e,SelectedAreaId:e.id,IsPersistence:!1,LoadingText:t,state:p.popupState.cityPopupOpen}),this.closeCityAreaSelectionPopup()}},{key:"closeOnRoadPricePopUp",value:function(){(0,p.hideElement)(document.getElementById("popupWrapper")),this.resetPopup(),window.history.back()}},{key:"showCitySelectionPopup",value:function(){(0,p.showElement)(document.getElementById("popupContent")),(0,p.showElement)(document.getElementById("bw-city-popup-box")),(0,p.openCityAreaSelectionPopup)(),this.setState({state:p.popupState.cityPopupOpen})}},{key:"closeCityAreaSelectionPopup",value:function(){(0,p.closeCityAreaSelectionPopup)()}},{key:"showAreaSelectionPopup",value:function(){(0,p.showElement)(document.getElementById("popupContent")),(0,p.showElement)(document.getElementById("bw-area-popup-box")),(0,p.openCityAreaSelectionPopup)(),this.setState({state:p.popupState.areaPopupOpen})}},{key:"priceLoaderBtnClicked",value:function(){this.setState({IsPersistence:!1}),this.initializePQ()}},{key:"findCityById",value:function(e,t){if(e&&e.length>0){var n=e.filter(function(e){return e.id==t});return n&&n.length>0?n[0]:null}return null}},{key:"findAreaById",value:function(e,t){if(e&&e.length>0){var n=e.filter(function(e){return e.id==t});return n&&n.length>0?n[0]:null}return null}},{key:"createMPQ",value:function(e){if(this.state.SelectedCityId&&this.state.SelectedModelId&&this.state.VersionId&&e)return btoa("CityId="+this.state.SelectedCityId+"&AreaId="+this.state.SelectedAreaId+"&PQId="+e+"&VersionId="+this.state.VersionId+"&DealerId="+this.state.DealerId)}},{key:"resetPopup",value:function(){(0,p.resetOnRoadPricePopup)()}},{key:"initializePQ",value:function(e){var t=this.state;if(null!=t.SelectedModelId&&t.SelectedModelId>0){var n={CityId:t.SelectedCityId,AreaId:t.SelectedAreaId,ModelId:t.SelectedModelId,ClientIP:"",SourceType:"2",VersionId:t.VersionId,pQLeadId:t.PageSourceId,deviceId:(0,p.getCookie)("BWC"),isPersistance:t.IsPersistance,refPQId:"undefined"!=typeof pqId?pqId:"",isReload:t.IsReload},a=new XMLHttpRequest;a.open("POST","/api/generatepq/"),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.setRequestHeader("utma",(0,p.getCookie)("__utma")),a.setRequestHeader("utmz",(0,p.getCookie)("_bwutmz")),a.onreadystatechange=function(){if(4==a.readyState&&200==a.status){var e=JSON.parse(a.responseText),t=this.state.SelectedCity,n=this.state.SelectedArea,o=this.state.SelectedAreaId,i=this.state.BookingCities,l=this.state.BookingAreas,r=this.state.HasAreas;if(e&&e.pqCities&&e.pqCities.length>0){var s=e.pqCities;if(null!=s&&s.length>0&&(i=s,r=!(null==this.state.SelectedCity||!this.state.SelectedCity.hasAreas),this.state.SelectedCityId>0)){t=this.findCityById(i,this.state.SelectedCityId);var c=e.pqAreas;null!=c&&c.length>0?(l=c,n=this.state.SelectedAreaId>0?findAreaById(l,this.state.SelectedAreaId):null):(l=[],n=null,o=0)}this.setState({SelectedCity:t,SelectedArea:n,SelectedAreaId:o,BookingCities:i,BookingAreas:l,HasAreas:r,LoadingText:""})}else if(null!=e.priceQuote){var u=e.priceQuote,d=(0,p.GetGlobalCityArea)()+", ";if((this.state.MakeName||this.state.ModelName)&&(d+=this.state.MakeName+","+this.state.ModelName+","),this.state.SelectedCityId>0&&this.state.SelectedCity&&this.state.SelectedCity.id>0){var h="Fetching on-road price for "+this.state.SelectedCity.name,f=this.state.SelectedCity.id+"_"+this.state.SelectedCity.name;this.state.SelectedArea&&u.isDealerAvailable&&(f+="_"+this.state.SelectedArea.id+"_"+this.state.SelectedArea.name,this.state.SelectedArea.name,this.state.SelectedCity.name),(this.state.SelectedCityId!=p.onCookieObj.PQCitySelectedId||this.state.SelectedAreaId>0&&u.isDealerAvailable)&&(0,p.SetCookieInDays)("location",f,365)}u.dealerId>0?(0,p.gtmCodeAppender)(this.state.PageCatId,"Dealer_PriceQuote_Success_Submit",d):(0,p.gtmCodeAppender)(this.state.PageCatId,"BW_PriceQuote_Success_Submit",d),this.state.DealerId>0&&e.qStr.length&&(e.qStr=this.createMPQ(e.priceQuote.quoteId)),this.state.IsReload||""==e.qStr?window.location.reload(!0):(this.resetPopup(),window.location.hash="",window.location.href="/m/pricequote/dealer/?MPQ="+e.qStr)}else{if(this.state.SelectedCityId>0&&this.state.SelectedCity&&this.state.SelectedCity.id>0){var f=(this.state.SelectedCity.name,this.state.SelectedCity.id+"_"+this.state.SelectedCity.name);this.state.SelectedArea&&this.state.SelectedArea.id>0&&(f+="_"+this.state.SelectedArea.id+"_"+this.state.SelectedArea.name,this.state.SelectedArea.name,this.state.SelectedCity.name),(this.state.state.SelectedCityId!=p.onCookieObj.PQCitySelectedId||this.state.SelectedAreaId>0)&&(0,p.SetCookieInDays)("location",f,365),this.setState({LoadingText:h})}window.location.reload(!0)}}}.bind(this),a.send(this.formPostDataString(n))}}},{key:"formPostDataString",value:function(e){for(var t="",n=Object.keys(e),a=0;a<n.length;a++)t+=n[a]+"=",t+=(null==e[n[a]]||void 0==e[n[a]]?"":e[n[a]])+"&";return t}},{key:"componentWillReceiveProps",value:function(e){try{null==this.state.SelectedModelId||this.state.SelectedModelId<=0||null!=this.state.SelectedModelId&&null!=e.onRoadPriceDataObject&&this.state.SelectedModelId!=e.onRoadPriceDataObject.SelectedModelId?(g=!1,this.setState(e.onRoadPriceDataObject)):null!=this.props.location&&void 0!=this.props.location&&null!=e.location&&void 0!=e.location&&"#onRoadPrice"==this.props.location.hash&&""==e.location.hash&&(g=!1,this.setState({SelectedModelId:0}))}catch(e){}}},{key:"render",value:function(){var e,t=this.state;if(!t)return null;!g&&null!=t.SelectedModelId&&t.SelectedModelId>0&&(g=!0,this.initializePQ());var n=null!=t.SelectedCity&&""!=t.SelectedCity.name?t.SelectedCity.name:"Select City",a=null!=t.SelectedArea&&""!=t.SelectedArea.name?t.SelectedArea.name:"Select Area",i=t.SelectedCityId>0&&t.IsPersistence&&(!t.HasAreas||t.SelectedAreaId>0)?"":"hide",l=this.state.state==p.popupState.areaPopupOpen?u.default.createElement(f.default,{completeCityAreaList:t.BookingAreas,type:"area",areaSelect:this.areaSelect}):u.default.createElement(f.default,{completeCityAreaList:t.BookingCities,type:"city",citySelect:this.citySelect}),r=u.default.createElement("div",null,u.default.createElement("div",{className:"city-area-banner"}),u.default.createElement("div",{className:"popup-inner-container"},u.default.createElement("div",(e={id:"onroad-price-close-btn",className:"bwmsprite onroad-price-close-btn close-btn position-abt pos-top10 pos-right10 cur-pointer"},o(e,"id","onroad-price-close-btn"),o(e,"onClick",this.closeOnRoadPricePopUp),e)),u.default.createElement("div",{id:"popupHeading",className:"content-inner-block-20"},u.default.createElement("p",{className:"font18 margin-bottom5 text-capitalize"},"Please Tell Us Your Location"),u.default.createElement("div",{className:"text-light-grey margin-bottom5"},u.default.createElement("span",{className:"red"},"*"),"Get on-road prices by just sharing your location!"),u.default.createElement("div",{id:"citySelection",className:"form-control text-left input-sm position-rel margin-bottom10",onClick:this.showCitySelectionPopup},u.default.createElement("div",{className:"selected-city "},n),u.default.createElement("span",{className:"bwmsprite fa-angle-right position-abt pos-top10 pos-right10"})),u.default.createElement("div",{id:"areaSelection",className:"form-control text-left input-sm position-rel margin-bottom10 "+(null!=t.BookingAreas&&0==t.BookingAreas.length?"hide":""),onClick:this.showAreaSelectionPopup},u.default.createElement("div",{className:"selected-area"},a),u.default.createElement("span",{className:"bwmsprite fa-angle-right position-abt pos-top10 pos-right10"})),u.default.createElement("div",{id:"btnPriceLoader",className:"center-align margin-top20 text-center position-rel"},u.default.createElement("a",{href:"javascript:void(0)",id:"btnDealerPricePopup",className:"btn btn-orange btn-full-width font18 "+i,onClick:this.priceLoaderBtnClicked,rel:"nofollow"},"Show on-road price")),u.default.createElement("div",{id:"popupContent",className:"bwm-city-area-popup-wrapper"},l)))),s=u.default.createElement("div",{id:"popup-loader-container",style:{display:""===this.state.LoadingText?"none":"block"}},u.default.createElement(y.default,null),u.default.createElement("div",{id:"popup-loader-text"},u.default.createElement("p",{className:"font14"},this.state.LoadingText)));return u.default.createElement("div",{className:"bw-city-popup bwm-fullscreen-popup bw-popup-sm text-center hide",id:"popupWrapper"},r,s)}}]),t}(u.default.Component);e.exports=(0,d.withRouter)(b)},344:function(e,t,n){"use strict";(function(t){function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),c=n(6),u=n(25),d=u.findDOMNode,p=n(346),h=[],f=["blur","checkValidity","click","focus","select","setCustomValidity","setSelectionRange","setRangeText"],m=function(e){function n(e){a(this,n);var t=o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.state={isOpen:!1,highlightedIndex:null},t.exposeAPI=t.exposeAPI.bind(t),t.handleInputFocus=t.handleInputFocus.bind(t),t.handleInputBlur=t.handleInputBlur.bind(t),t.handleChange=t.handleChange.bind(t),t.handleKeyDown=t.handleKeyDown.bind(t),t.handleKeyUp=t.handleKeyUp.bind(t),t.handleInputClick=t.handleInputClick.bind(t),t}return i(n,e),r(n,[{key:"componentWillMount",value:function(){this.refs={},this._ignoreBlur=!1,this._performAutoCompleteOnUpdate=!1,this._performAutoCompleteOnKeyUp=!1}},{key:"componentWillReceiveProps",value:function(e){this._performAutoCompleteOnUpdate=!0,(this.props.items!==e.items||this.state.highlightedIndex>=e.items.length)&&this.setState({highlightedIndex:null})}},{key:"componentDidMount",value:function(){this.isOpen()&&this.setMenuPositions()}},{key:"componentDidUpdate",value:function(e,t){(this.state.isOpen&&!t.isOpen||"open"in this.props&&this.props.open&&!e.open)&&this.setMenuPositions(),this.isOpen()&&this._performAutoCompleteOnUpdate&&(this._performAutoCompleteOnUpdate=!1,this.maybeAutoCompleteText()),this.maybeScrollItemIntoView(),t.isOpen!==this.state.isOpen&&this.props.onMenuVisibilityChange(this.state.isOpen),this._ignoreBlur&&this.refs.input.focus()}},{key:"exposeAPI",value:function(e){var t=this;this.refs.input=e,f.forEach(function(n){return t[n]=e&&e[n]&&e[n].bind(e)})}},{key:"maybeScrollItemIntoView",value:function(){if(this.isOpen()&&null!==this.state.highlightedIndex){var e=this.refs["item-"+this.state.highlightedIndex],t=this.refs.menu;e&&p(d(e),d(t),{onlyScrollIfNeeded:!0})}}},{key:"handleKeyDown",value:function(e){n.keyDownHandlers[e.key]?n.keyDownHandlers[e.key].call(this,e):this.isOpen()||this.setState({isOpen:!0})}},{key:"handleChange",value:function(e){this._performAutoCompleteOnKeyUp=!0,this.setState({highlightedIndex:null}),this.props.onChange(e,e.target.value)}},{key:"handleKeyUp",value:function(){this._performAutoCompleteOnKeyUp&&(this._performAutoCompleteOnKeyUp=!1,this.maybeAutoCompleteText())}},{key:"getFilteredItems",value:function(){var e=this,t=this.props.items;return this.props.shouldItemRender&&(t=t.filter(function(t){return e.props.shouldItemRender(t,e.props.value)})),this.props.sortItems&&t.sort(function(t,n){return e.props.sortItems(t,n,e.props.value)}),t}},{key:"maybeAutoCompleteText",value:function(){if(this.props.autoHighlight&&""!==this.props.value){var e=this.state.highlightedIndex,t=this.getFilteredItems();if(0!==t.length){var n=null!==e?t[e]:t[0];0===this.props.getItemValue(n).toLowerCase().indexOf(this.props.value.toLowerCase())&&null===e&&this.setState({highlightedIndex:0})}}}},{key:"setMenuPositions",value:function(){var e=this.refs.input,n=e.getBoundingClientRect(),a=t.window.getComputedStyle(e),o=parseInt(a.marginBottom,10)||0,i=parseInt(a.marginLeft,10)||0,l=parseInt(a.marginRight,10)||0;this.setState({menuTop:n.bottom+o,menuLeft:n.left+i,menuWidth:n.width+i+l})}},{key:"highlightItemFromMouse",value:function(e){this.setState({highlightedIndex:e})}},{key:"selectItemFromMouse",value:function(e){var t=this,n=this.props.getItemValue(e);this.setState({isOpen:!1,highlightedIndex:null},function(){t.setIgnoreBlur(!1),t.props.onSelect(n,e)})}},{key:"setIgnoreBlur",value:function(e){this._ignoreBlur=e}},{key:"renderMenu",value:function(){var e=this,t=this.getFilteredItems().map(function(t,n){var a=e.props.renderItem(t,e.state.highlightedIndex===n,{cursor:"default"});return s.cloneElement(a,{onMouseEnter:function(){return e.highlightItemFromMouse(n)},onClick:function(){return e.selectItemFromMouse(t)},ref:function(t){return e.refs["item-"+n]=t}})}),n={left:this.state.menuLeft,top:this.state.menuTop,minWidth:this.state.menuWidth},a=this.props.renderMenu(t,this.props.value,n);return s.cloneElement(a,{ref:function(t){return e.refs.menu=t},onMouseEnter:function(){return e.setIgnoreBlur(!0)},onMouseLeave:function(){return e.setIgnoreBlur(!1)}})}},{key:"handleInputBlur",value:function(e){if(!this._ignoreBlur){this.setState({isOpen:!1,highlightedIndex:null});var t=this.props.inputProps.onBlur;t&&t(e)}}},{key:"handleInputFocus",value:function(e){if(!this._ignoreBlur){this.setState({isOpen:!0});var t=this.props.inputProps.onFocus;t&&t(e)}}},{key:"isInputFocused",value:function(){var e=this.refs.input;return e.ownerDocument&&e===e.ownerDocument.activeElement}},{key:"handleInputClick",value:function(){this.isInputFocused()&&!this.isOpen()&&this.setState({isOpen:!0})}},{key:"composeEventHandlers",value:function(e,t){return t?function(n){e(n),t(n)}:e}},{key:"isOpen",value:function(){return"open"in this.props?this.props.open:this.state.isOpen}},{key:"render",value:function(){this.props.debug&&h.push({id:h.length,state:this.state});var e=this.props.inputProps,t=this.isOpen();return s.createElement("div",l({style:l({},this.props.wrapperStyle)},this.props.wrapperProps),s.createElement("input",l({},e,{role:"combobox","aria-autocomplete":"list","aria-expanded":t,autoComplete:"off",ref:this.exposeAPI,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,onChange:this.handleChange,onKeyDown:this.composeEventHandlers(this.handleKeyDown,e.onKeyDown),onKeyUp:this.composeEventHandlers(this.handleKeyUp,e.onKeyUp),onClick:this.composeEventHandlers(this.handleInputClick,e.onClick),value:this.props.value})),t&&this.renderMenu(),this.props.debug&&s.createElement("pre",{style:{marginLeft:300}},JSON.stringify(h.slice(h.length-5,h.length),null,2)))}}]),n}(s.Component);m.propTypes={items:c.array.isRequired,value:c.any,onChange:c.func,onSelect:c.func,shouldItemRender:c.func,sortItems:c.func,getItemValue:c.func.isRequired,renderItem:c.func.isRequired,renderMenu:c.func,menuStyle:c.object,inputProps:c.object,wrapperProps:c.object,wrapperStyle:c.object,autoHighlight:c.bool,onMenuVisibilityChange:c.func,open:c.bool,debug:c.bool},m.defaultProps={value:"",wrapperProps:{},wrapperStyle:{display:"inline-block"},inputProps:{},onChange:function(){},onSelect:function(){},renderMenu:function(e,t,n){return s.createElement("div",{style:l({},n,this.menuStyle),children:e})},menuStyle:{borderRadius:"3px",boxShadow:"0 2px 12px rgba(0, 0, 0, 0.1)",background:"rgba(255, 255, 255, 0.9)",padding:"2px 0",fontSize:"90%",position:"fixed",overflow:"auto",maxHeight:"50%"},autoHighlight:!0,onMenuVisibilityChange:function(){}},m.keyDownHandlers={ArrowDown:function(e){e.preventDefault();var t=this.getFilteredItems().length;if(t){var n=this.state.highlightedIndex,a=null===n||n===t-1?0:n+1;this._performAutoCompleteOnKeyUp=!0,this.setState({highlightedIndex:a,isOpen:!0})}},ArrowUp:function(e){e.preventDefault();var t=this.getFilteredItems().length;if(t){var n=this.state.highlightedIndex,a=0===n||null===n?t-1:n-1;this._performAutoCompleteOnKeyUp=!0,this.setState({highlightedIndex:a,isOpen:!0})}},Enter:function(e){var t=this;if(this.isOpen())if(null==this.state.highlightedIndex)this.setState({isOpen:!1},function(){t.refs.input.select()});else{e.preventDefault();var n=this.getFilteredItems()[this.state.highlightedIndex],a=this.props.getItemValue(n);this.setState({isOpen:!1,highlightedIndex:null},function(){t.refs.input.setSelectionRange(a.length,a.length),t.props.onSelect(a,n)})}},Escape:function(){this.setIgnoreBlur(!1),this.setState({highlightedIndex:null,isOpen:!1})},Tab:function(){this.setIgnoreBlur(!1)}},e.exports=m}).call(t,n(27))},345:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),c=a(s),u=n(344),d=a(u),p=n(340),h=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={type:"city",completeCityAreaList:[],displayedCityAreaList:[],value:""},n.filterData=n.filterData.bind(n),n}return l(t,e),r(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({completeCityAreaList:e.completeCityAreaList,displayedCityAreaList:e.completeCityAreaList,type:e.type,value:""})}},{key:"onSelect",value:function(e,t){null!==this.props.citySelect&&void 0!==this.props.citySelect&&"function"==typeof this.props.citySelect?this.props.citySelect(t):null!==this.props.areaSelect&&void 0!==this.props.areaSelect&&"function"==typeof this.props.areaSelect&&this.props.areaSelect(t),this.input.blur()}},{key:"onChange",value:function(e,t){var n=this.filterData(this.state.completeCityAreaList,t);this.setState({value:t,displayedCityAreaList:n})}},{key:"filterData",value:function(e,t){if(!(t&&t.length>0))return e;var n=new RegExp(t,"i");return e.filter(function(e){if(n.test(e.name))return e})}},{key:"render",value:function(){var e=this;return null==this.state.type||""==this.state.type?null:c.default.createElement("div",{id:"bw-"+this.state.type+"-popup-box",className:"bw-"+this.state.type+"-popup-box bwm-city-area-box "+this.state.type+"-list-container form-control-box text-left"},c.default.createElement("div",{className:"user-input-box"},c.default.createElement("span",{className:"back-arrow-box",onClick:p.closeCityAreaSelectionPopup},c.default.createElement("span",{className:"bwmsprite back-long-arrow-left"})),c.default.createElement(d.default,{ref:function(t){return e.input=t},getItemValue:function(e){return e.name},value:this.state.value,items:this.state.displayedCityAreaList,inputProps:{className:"form-control padding-right40 ",placeholder:"Type to select "+this.state.type,id:"popup"+("area"==this.state.type?"Area":"City")+"Input"},renderItem:function(e,t){return c.default.createElement("li",{id:e.id},e.name)},autoHighlight:!1,open:!0,onSelect:function(t,n){return e.onSelect(t,n)},onChange:function(t,n){return e.onChange(t,n)},renderMenu:function(t,n,a){return c.default.createElement("ul",{id:"popup"+("area"==e.state.type?"Area":"City")+"List",children:t})},wrapperStyle:{position:"relative"}})))}}]),t}(c.default.Component);e.exports=h},346:function(e,t,n){e.exports=n(347)},347:function(e,t,n){function a(e,t,n){n=n||{},9===t.nodeType&&(t=o.getWindow(t));var a=n.allowHorizontalScroll,i=n.onlyScrollIfNeeded,l=n.alignWithTop,r=n.alignWithLeft;a=void 0===a||a;var s,c,u,d,p,h,f,m,y,g,b=o.isWindow(t),v=o.offset(e),S=o.outerHeight(e),I=o.outerWidth(e);b?(f=t,g=o.height(f),y=o.width(f),m={left:o.scrollLeft(f),top:o.scrollTop(f)},p={left:v.left-m.left,top:v.top-m.top},h={left:v.left+I-(m.left+y),top:v.top+S-(m.top+g)},d=m):(s=o.offset(t),c=t.clientHeight,u=t.clientWidth,d={left:t.scrollLeft,top:t.scrollTop},p={left:v.left-(s.left+(parseFloat(o.css(t,"borderLeftWidth"))||0)),top:v.top-(s.top+(parseFloat(o.css(t,"borderTopWidth"))||0))},h={left:v.left+I-(s.left+u+(parseFloat(o.css(t,"borderRightWidth"))||0)),top:v.top+S-(s.top+c+(parseFloat(o.css(t,"borderBottomWidth"))||0))}),p.top<0||h.top>0?!0===l?o.scrollTop(t,d.top+p.top):!1===l?o.scrollTop(t,d.top+h.top):p.top<0?o.scrollTop(t,d.top+p.top):o.scrollTop(t,d.top+h.top):i||(l=void 0===l||!!l,l?o.scrollTop(t,d.top+p.top):o.scrollTop(t,d.top+h.top)),a&&(p.left<0||h.left>0?!0===r?o.scrollLeft(t,d.left+p.left):!1===r?o.scrollLeft(t,d.left+h.left):p.left<0?o.scrollLeft(t,d.left+p.left):o.scrollLeft(t,d.left+h.left):i||(r=void 0===r||!!r,r?o.scrollLeft(t,d.left+p.left):o.scrollLeft(t,d.left+h.left)))}var o=n(348);e.exports=a},348:function(e,t){function n(e){var t,n,a,o=e.ownerDocument,i=o.body,l=o&&o.documentElement;return t=e.getBoundingClientRect(),n=t.left,a=t.top,n-=l.clientLeft||i.clientLeft||0,a-=l.clientTop||i.clientTop||0,{left:n,top:a}}function a(e,t){var n=e["page"+(t?"Y":"X")+"Offset"],a="scroll"+(t?"Top":"Left");if("number"!=typeof n){var o=e.document;"number"!=typeof(n=o.documentElement[a])&&(n=o.body[a])}return n}function o(e){return a(e)}function i(e){return a(e,!0)}function l(e){var t=n(e),a=e.ownerDocument,l=a.defaultView||a.parentWindow;return t.left+=o(l),t.top+=i(l),t}function r(e,t,n){var a="",o=e.ownerDocument;return(n=n||o.defaultView.getComputedStyle(e,null))&&(a=n.getPropertyValue(t)||n[t]),a}function s(e,t){var n=e[w]&&e[w][t];if(I.test(n)&&!C.test(t)){var a=e.style,o=a[E],i=e[k][E];e[k][E]=e[w][E],a[E]="fontSize"===t?"1em":n||0,n=a.pixelLeft+P,a[E]=o,e[k][E]=i}return""===n?"auto":n}function c(e,t){"static"===g(e,"position")&&(e.style.position="relative");var n,a,o=l(e),i={};for(a in t)n=parseFloat(g(e,a))||0,i[a]=n+t[a]-o[a];g(e,i)}function u(e,t){for(var n=0;n<e.length;n++)t(e[n])}function d(e){return"border-box"===v(e,"boxSizing")}function p(e,t,n){var a,o={},i=e.style;for(a in t)o[a]=i[a],i[a]=t[a];n.call(e);for(a in t)i[a]=o[a]}function h(e,t,n){var a,o,i,l=0;for(o=0;o<t.length;o++)if(a=t[o])for(i=0;i<n.length;i++){var r;r="border"===a?a+n[i]+"Width":a+n[i],l+=parseFloat(v(e,r))||0}return l}function f(e){return null!=e&&e==e.window}function m(e,t,n){if(f(e))return"width"===t?x.viewportWidth(e):x.viewportHeight(e);if(9===e.nodeType)return"width"===t?x.docWidth(e):x.docHeight(e);var a="width"===t?["Left","Right"]:["Top","Bottom"],o="width"===t?e.offsetWidth:e.offsetHeight,i=v(e),l=d(e,i),r=0;(null==o||o<=0)&&(o=void 0,r=v(e,t),(null==r||Number(r)<0)&&(r=e.style[t]||0),r=parseFloat(r)||0),void 0===n&&(n=l?L:A);var s=void 0!==o||l,c=o||r;return n===A?s?c-h(e,["border","padding"],a,i):r:s?c+(n===L?0:n===B?-h(e,["border"],a,i):h(e,["margin"],a,i)):r+h(e,O.slice(n),a,i)}function y(e){var t,n=arguments;return 0!==e.offsetWidth?t=m.apply(void 0,n):p(e,N,function(){t=m.apply(void 0,n)}),t}function g(e,t,n){if("object"!=typeof t){if(void 0===n)return v(e,t);"number"==typeof n&&(n+="px"),e.style[t]=n}else for(var a in t)g(e,a,t[a])}function b(e,t){for(var n in t)e[n]=t[n];return e}var v,S=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,I=new RegExp("^("+S+")(?!px)[a-z%]+$","i"),C=/^(top|right|bottom|left)$/,w="currentStyle",k="runtimeStyle",E="left",P="px";"undefined"!=typeof window&&(v=window.getComputedStyle?r:s);var O=["margin","border","padding"],A=-1,B=2,L=1,x={};u(["Width","Height"],function(e){x["doc"+e]=function(t){var n=t.document;return Math.max(n.documentElement["scroll"+e],n.body["scroll"+e],x["viewport"+e](n))},x["viewport"+e]=function(t){var n="client"+e,a=t.document,o=a.body,i=a.documentElement,l=i[n];return"CSS1Compat"===a.compatMode&&l||o&&o[n]||l}});var N={position:"absolute",visibility:"hidden",display:"block"};u(["width","height"],function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);x["outer"+t]=function(t,n){return t&&y(t,e,n?0:L)};var n="width"===e?["Left","Right"]:["Top","Bottom"];x[e]=function(t,a){if(void 0===a)return t&&y(t,e,A);if(t){var o=v(t);return d(t)&&(a+=h(t,["padding","border"],n,o)),g(t,e,a)}}});var _=e.exports={getWindow:function(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},offset:function(e,t){if(void 0===t)return l(e);c(e,t)},isWindow:f,each:u,css:g,clone:function(e){var t={};for(var n in e)t[n]=e[n];if(e.overflow)for(n in e)t.overflow[n]=e.overflow[n];return t},mix:b,scrollLeft:function(e,t){if(f(e)){if(void 0===t)return o(e);window.scrollTo(t,i(e))}else{if(void 0===t)return e.scrollLeft;e.scrollLeft=t}},scrollTop:function(e,t){if(f(e)){if(void 0===t)return i(e);window.scrollTo(o(e),t)}else{if(void 0===t)return e.scrollTop;e.scrollTop=t}},merge:function(){for(var e={},t=0;t<arguments.length;t++)_.mix(e,arguments[t]);return e},viewportWidth:0,viewportHeight:0};b(_,x)}});