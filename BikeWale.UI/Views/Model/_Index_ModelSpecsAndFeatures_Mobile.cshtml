@model Bikewale.Models.BikeModels.ModelPageVM
@using Bikewale.Entities.BikeData
@{

    if (Model.ModelPageEntity != null && Model.ModelPageEntity.VersionSpecsFeatures != null)
    {
        var specsCategories = Model.ModelPageEntity.VersionSpecsFeatures.Specs;
        var features = Model.ModelPageEntity.VersionSpecsFeatures.Features;
        string itemValue, featureValue;

        <div id="specsFeaturesContent" class="padding-top15 padding-bottom20 content-box-shadow card-bottom-margin content-details-wrapper font14">
        @if (specsCategories != null)
        {
            <h2 class="padding-right20 padding-left20">@Model.ModelPageEntity.ModelDetails.ModelName Specifications & Features</h2>
            <h3 class="padding-right20 padding-left20 model-specs-header">Specifications</h3>

            <ul id="model-specs-list">
                @{
                    var isCategoryActive = true;
                }
                @foreach (var category in specsCategories)
                {

                    <li>
                        <div class="model-accordion-tab @(isCategoryActive ? "active" : "")">
                            <span class="offers-sprite engine-sm-icon margin-right10"></span>
                            <span>@category.DisplayText</span>
                            <span class="bwmsprite fa-angle-down"></span>
                        </div>
                        <ul class="specs-features-list">
                            @foreach (var item in category.SpecsItemList)
                            {
                                itemValue = item.ItemValues.FirstOrDefault();
                                <li>
                                    <div class="specs-features-label">@item.DisplayText</div>
                                    <div class="text-bold">@itemValue @(itemValue.Equals("-") ? "" : item.UnitTypeText)</div>
                                </li>
                            }
                        </ul>
                    </li>
                    {isCategoryActive = false;}
                }
            </ul>
        }
        
        @if (features != null)
        {
            <h3 id="model-features-heading" class="margin-top20 padding-right20 padding-left20">Features</h3>

            <ul class="specs-features-list model-features-list" id="model-main-features-list">
                @{
                    var shownFeaturesHeight = 6;
                }
                @foreach (var feature in features.Take(shownFeaturesHeight))
                {
                    featureValue = feature.ItemValues.FirstOrDefault();
                    <li>
                        <div class="specs-features-label">@feature.DisplayText</div>
                        <div class="text-bold">@featureValue @(featureValue.Equals("-") ? "" : feature.UnitTypeText)</div>
                    </li>
                }
            </ul>
            <ul id="model-more-features-list" class="specs-features-list model-features-list">
                @foreach (var feature in features.Skip(shownFeaturesHeight))
                {
                    featureValue = feature.ItemValues.FirstOrDefault();
                    <li>
                        <div class="specs-features-label">@feature.DisplayText</div>
                        <div class="text-bold">@featureValue @(featureValue.Equals("-") ? "" : feature.UnitTypeText)</div>
                    </li>
                }
            </ul>
            <div class="padding-top10 padding-right20 padding-left20">
                <a href="javascript:void(0)" class="view-features-link bw-ga" data-cat="Model_Page" data-act="View_all_features_link_cliked" data-var="myBikeName" title="@Model.BikeName Features" rel="nofollow">View all features</a>
            </div>
        }
        
    </div>
    }
}

