@model Bikewale.Models.BikeModels.ModelPageVM
@using Bikewale.Common;
@using Bikewale.BikeBooking;

<section>
    <div class="container" id="modelDetailsContainer">
        <div id="modelSummaryContent" class="bw-model-tabs-data">
            <div class="grid-12 card-bottom-margin">
                <div class="content-box-shadow">
                    <div class="padding-top15 padding-left20">
                        <h1 class="inline-block margin-right15">@Model.BikeName</h1>
                        <div class="inline-block">
                            @Html.Partial("~/Views/Model/_Index_Reviews.cshtml", Model)
                        </div>
                    </div>
                    
                    <div id="overallTabsWrapper" class="overall-tabs position-rel">
                        <div id="overallSpecsTab" class="overall-specs-tabs-container">
                            <div class="overall-specs-tabs-wrapper">
                                @Html.Partial("~/Views/Model/_Index_Tabs.cshtml", Model)
                            </div>
                        </div>
                    </div>

                    <div class="padding-top20 padding-right20 padding-bottom10 padding-left20">
                        <div id="model-right-grid" class="grid-7 alpha omega rightfloat">

                            @Html.Partial("~/Views/Model/_Index_VersionsAndSpecs.cshtml", Model)

                            <div id="modelPriceContainer">
                                <p class="font14 text-light-grey">@(Model.IsLocationSelected ? "On-road" : "Ex-showroom ") price in @Model.Location<a data-persistent="true" data-reload="true" data-modelid="@Model.ModelId" class="margin-left5 getquotation changeCity"><span class="bwsprite loc-change-blue"></span></a></p>

                                @if (Model.BikePrice > 0)
                                {
                                    <div itemprop="offers" itemscope itemtype="http://schema.org/Offer">
                                        <span itemprop="priceCurrency" content="INR">
                                            <span class="bwsprite inr-md-lg margin-right5"></span>
                                        </span>
                                        <span id="new-bike-price" class="font22 font-bold" itemprop="price" content="@Model.BikePrice">@Bikewale.Utility.Format.FormatPrice(Model.BikePrice.ToString())</span>
                                        @if ((Model.City!=null && Model.IsLocationSelected && !Model.ShowOnRoadButton) && Model.BikePrice > 0 && Model.IsNewBike)
                                        {
                                            <a id="viewBreakupText" href="/pricequote/dealer/?MPQ=@Model.MPQString" rel="nofollow" class="font14 text-bold viewBreakupText">View detailed price</a>
                                            <br>
                                        }
                                    </div>
                                }
                                else
                                {
                                    <span class="font16">Price not available</span>
                                }
                                
                                <div class="font12 margin-top5 position-rel">
                                    <span class="text-light-grey">EMI stating at</span>
                                    <span class="text-default"><span class="bwsprite inr-12-default"></span>5,000/month</span>
                                    
                                    <span class="bwsprite emi-info">
                                    <span class="bw-tooltip emi-tooltip tooltip-white tooltip-left text-slate-grey font12"><span class="bw-tooltip-text">'EMI is calculated based on y % for a tenure of z months'</span></span></span>
                                </div>

                                @if (!Model.IsLocationSelected || Model.ShowOnRoadButton)
                                {
                                    <a id="btnGetOnRoadPrice" href="javascript:void(0)" data-persistent="true" data-reload="true" data-modelid="@Model.ModelId" class="btn btn-orange margin-top10 getquotation">Check on-road price</a>
                                    <div class="clear"></div>
                                }
                            </div>

                            @if (Model.IsPrimaryDealer)
                            {
                                @Html.Partial("~/Views/Model/_Index_DealerDetails_TopCard_Right.cshtml", Model)
                            }
                        </div>
                        <div class="grid-5 alpha margin-bottom20">
                            @if (Model.AreModelPhotosAvailable)
                            {
                                @Html.Partial("~/Views/Model/_Index_ModelGallery.cshtml", Model)
                            }
                        </div>
                        <div class="clear"></div>
                        @if (Model.IsDealerDetailsExists != null && Model.IsPremiumDealer)
                        {
                            @Html.Partial("~/Views/Model/_Index_DealerDetails_TopCard.cshtml", Model)
                        }
                    </div>
                </div>
            </div>
            <div class="clear"></div>

            @if (Model.DetailedDealer != null && Model.DetailedDealer.SecondaryDealerCount > 0 && Model.City!=null)
            {            
            <div class="grid-12 margin-bottom20">
                <div class="content-box-shadow">
                    <div id="partner-dealer-panel" class="content-box-shadow padding-14-20 font18 text-bold text-black position-rel cur-pointer"> Prices from @Model.DetailedDealer.SecondaryDealerCount more partner dealer@(Model.DetailedDealer.SecondaryDealerCount > 1 ? "s" : "") in @Model.City.CityName<span class="model-sprite plus-icon"></span></div>
                    <div id="moreDealersList" class="jcarousel-wrapper inner-content-carousel">
                        @Html.Partial("~/Views/Price/_SecondaryDealers.cshtml", Model.DetailedDealer.SecondaryDealers)
                    </div>
                </div>
            </div>
            <div class="clear"></div>                
            }
        </div>

        @Html.Partial("~/Views/Model/_Index_DetailsCard.cshtml", Model)
    </div>
</section>

@if (Model.ManufacturerCampaign != null && Model.ManufacturerCampaign.ShowAd && Model.IsLocationSelected && !Model.ShowOnRoadButton)
{
    @Html.Partial("~/Views/Price/_ManufacturerCampaign.cshtml", Model.ManufacturerCampaign)
}

@if (Model.LeadCapture != null && Model.IsLocationSelected)
{
    @Html.Partial("~/Views/Shared/_LeadCapture.cshtml", Model.LeadCapture)
}




