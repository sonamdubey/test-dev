@model Bikewale.Models.UserReviews.UserReviewsOtherDetailsPageVM

@{
    Model.IsHeaderFix = false;
    Model.Page_ATF_CSS = "<link rel='stylesheet' type='text/css' href='/sass/user-review/write-review.css' />";
    Model.Page_JS_Path = "/src/user-review/write-review.js";
    Layout = "~/Views/Shared/_Layout.cshtml";
    Model.ExcludeContestSlug = true;
}
<section class="container padding-top10">
    <div class="grid-12">
        <div class="breadcrumb margin-bottom15">
            <ul>
                <li>
                    <a class="breadcrumb-link" href="" title="Home">
                        <span class="breadcrumb-link__label">Home</span>
                    </a>
                </li>
                <li>
                    <a class="breadcrumb-link" href="" title="User reviews">
                        <span class="breadcrumb-link__label">User reviews</span>
                    </a>
                </li>
                <li class="current">
                    <span class="breadcrumb-link__label">Write a other details</span>
                </li>
            </ul>
            <div class="clear"></div>
        </div>
    </div>
    <div class="clear"></div>
</section>


@*@if (Model != null && Model.Make != null && Model.Model != null)
{
    <form action="/user-reviews/save/" method="post">
        <section>
            <div id="write-review-form" class="container section-bottom-margin font14 margin-top20">
                <div class="grid-12">
                    <div class="content-box-shadow">
                        <div class="content-box-shadow padding-15-20 content-box-head">
                            <p class="font22 text-black text-bold inline-block">Write a review for @Model.Make.MakeName @Model.Model.ModelName</p>
                            <div class="inline-block user-rating-box">
                                    <span class="bwsprite star-one"></span>
                                    <span class="inline-block">
                                        <span class="font18 text-bold">@Model.Rating.Value</span>&nbsp;<span class="font12 text-xx-light">/&nbsp;5</span>
                                    </span>
                                </div>
                        </div>

                        <div class="contest-slug-sm contest-slug-container margin-bottom20">
                                <span class="trophy-fff-14"></span>
                                <p class="contest-slug__title">Rate &amp; write a detailed review and stand a chance to win Amazon vouchers worth &#x20B9; 2,000. Help others in making the right decision.</p>
                            </div>
                        <div class="padding-15-20">
                            <div class="padding-15-20 main-container">
                                <div class="grid-2">
                                        <ul class="review-progress">
                                            <li class="completed review-progress__rate-bike"><p class="review-progress__text">Rate this Bike</p></li>
                                            <li class="completed review-progress__write-review"><p class="review-progress__text">Write Review</p></li>
                                            <li class="active review-progress__other-details"><p class="review-progress__text">Other details</p></li>
                                        </ul>
                                    </div>
                                <div class="grid-12 alpha omega">
                                    <h3 class="font15 text-black margin-bottom10">Can you share a little more about this bike?<span class="text-light-grey text-unbold font14">&nbsp;(Optional)</span></h3>
                                    <p class="margin-bottom5 text-bold">Mileage</p>
                                    <p class="text-slate-grey margin-bottom20">What mileage does your bike offer? Enter a numeric value between 0 & 150.</p>
                                    <div class="input-box form-control-box" data-bind="css: bikeMileage() && bikeMileage().length > 0 ? 'not-empty' : ''">
                                        <input name="mileage" type="text" id="getMileage" data-bind="textInput: bikeMileage" maxlength="190">
                                        <label for="getMileage">Your mileage (kmpl)</label>
                                        <span class="boundary"></span>
                                        <span class="error-text"></span>
                                    </div>

                                    @if (Model.QuestionsList != null && Model.QuestionsList.Count() > 0)
                                        {
                                            var j = 0;
                                            <ul id="bike-review-questions" data-make-model="@string.Format("{0}_{1}_", Model.Make.MakeName, Model.Model.ModelName)" class="review-question-list margin-bottom20">
                                                @foreach (var ques in Model.QuestionsList)
                                                {
                                                    <li class="list-item question-type-text">
                                                        <p class="item-title">@ques.Heading</p>
                                                        <p class="item-subtitle">@ques.Description</p>

                                                        @if (ques.Rating != null && ques.Rating.Count() > 0)
                                                        {
                                                            var i = 1;
                                                            foreach (var rating in ques.Rating)
                                                            {

                                                                <div class="answer-radio-list">
                                                                    <input type="radio" ratingid="review-@ques.Id-@i" questiontId="@ques.Id" id="review-@j-@i" name="review-q-@j" value="@i" data-type="text" />
                                                                    <label for="review-@j-@i" name="review-q-@j" data-value="@i">@rating.Text</label>
                                                                </div>
                                                                i++;
                                                            }
                                                        }
                                                        <div class="clear"></div>
                                                    </li>
                                                    j++;
                                                }
                                            </ul>
                                        }

                                        <div class="clear"></div>

                                    <input type="hidden" id="reviewQuestion" name="reviewQuestion" />
                                    <input type="hidden" name="reviewDescription" value="" />
                                    <input type="hidden" id="reviewId" name="reviewId" value="@Model.ReviewId" />
                                    <input type="hidden" name="encodedId" value="@Utils.Utils.EncryptTripleDES(string.Format("customerid={0}&reviewid={1}", Model.CustomerId, Model.ReviewId))" />
                                    <input type="hidden" name="userName" value="@Model.UserName" />
                                    <input type="hidden" name="emailId" value="@Model.EmailId" />
                                    <input type="hidden" name="makeName" value="@Model.Make.MakeName" />
                                    <input type="hidden" name="modelName" value="@Model.Model.ModelName" />
                                    <input type="hidden" name="encodedString" value="@Model.EncodedWriteUrl" />
                                    <input type="hidden" name="queryEncoded" value="@Model.EncodedWriteUrl" />
                                    <input type="hidden" name="isDesktop" value="true" />
                                    <input type="hidden" id="overAllRatings" value="@Model.Rating.Value" />
                                    <input type="hidden" id="pageSourceId" value="@Model.PageSourceId" />
                                    <input type="hidden" id="contestSrc" value="@Model.ContestSrc" />
                                    <input type="hidden" name="fromParametersRatingScreen" value="true" />
                                    <h3 class="font15 margin-bottom10">Maintenance tips for other riders</h3>
                                    <p class="text-light-grey margin-bottom20">Share key tips which you think were useful while owning/riding this bike.</p>

                                    <div class="input-box form-control-box" data-bind="css: reviewTips().length > 0 ? 'not-empty' : ''">
                                        <input name="reviewTips" type="text" id="getReviewTip" maxlength="1000" data-bind="textInput: reviewTips" />
                                        <label for="getReviewTip">Eg. Change oil after 3,000 kms, Use tubeless tyres etc</label>
                                        <span class="boundary"></span>
                                    </div>

                                    @Html.AntiForgeryToken()
                                    <input id="submitReviewBtn" type="submit" class="btn btn-orange btn-220-40" value="Submit review" data-bind="click: submitReview" />

                                </div>
                                <div class="clear"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="clear"></div>
            </div>

            <span id="previousPageUrl" class="hide">@Model.PreviousPageUrl</span>
            <span id="returnUrl" class="hide">@Model.ReturnUrl</span>
        </section>
    </form>
}*@




@if (Model != null && Model.Make != null && Model.Model != null)
{
    <form action="/user-reviews/save/" method="post">
        <section>
            <div id="write-review-form" class="container section-bottom-margin font14 margin-top20">
                <div class="grid-12">
                    <div class="content-box-shadow">
                        <div class="content-box-shadow padding-15-20 content-box-head">
                            <p class="font22 text-black text-bold inline-block">Write a review for @Model.Make.MakeName @Model.Model.ModelName</p>
                        </div>

                        <div class="padding-15-20">
                            <div class="padding-15-20 main-container">

                                <div class="grid-12 alpha omega">
                                    <div class="font14 padding-top10 padding-bottom10">
                                        <span class="margin-left20 thumb-icon"></span>
                                        <span class="margin-left15 text-bold">Thank you, Sumanth!</span>
                                        <span class="margin-left10 text-light-grey">Your review has been recorded. We will inform you once it is published.</span>
                                    </div>
                                    <p class="text-center fotn14 text-slate-grey">So far so good! Tell us more about your bike.</p>

                                    @if (Model.QuestionsList != null && Model.QuestionsList.Count() > 0)
                                    {
                                        var j = 0;
                                        <ul id="bike-review-questions" data-make-model="@string.Format("{0}_{1}_", Model.Make.MakeName, Model.Model.ModelName)" class="review-question-list margin-bottom5">
                                            @foreach (var ques in Model.QuestionsList)
                                            {

                                                <li class="list-item question-type-text @(@j+1)" data-completed="0">
                                                    <p class="item-title">@ques.Heading</p>
                                                    <p class="item-subtitle">@ques.Description</p>
                                                    <div>
                                                        @if (ques.Rating != null && ques.Rating.Count() > 0)
                                                        {
                                                            var i = 1;
                                                            foreach (var rating in ques.Rating)
                                                            {

                                                                <div class="answer-radio-list inline-block">
                                                                    <input type="radio" ratingid="review-@ques.Id-@i" questiontId="@ques.Id" id="review-@j-@i" name="review-q-@j" value="@i" data-type="text" />
                                                                    <div class="answer-radio-block" data-number="@i">
                                                                        <label for="review-@j-@i" name="review-q-@j" data-value="@i">@rating.Text</label>
                                                                    </div>

                                                                </div>
                                                                i++;
                                                            }
                                                        }
                                                    </div>

                                                    <div class="clear"></div>
                                                </li>
                                                j++;
                                            }
                                        </ul>
                                    }

                                    <div class="clear"></div>
                                    <a href="javascript:void(0)" id="submitReviewBtn" class="btn btn-orange btn-220-40">Next</a>
                                    @*<input type="hidden" id="reviewQuestion" name="reviewQuestion" />
                                    <input type="hidden" name="reviewDescription" value="" />
                                    <input type="hidden" id="reviewId" name="reviewId" value="@Model.ReviewId" />
                                    <input type="hidden" name="encodedId" value="@Utils.Utils.EncryptTripleDES(string.Format("customerid={0}&reviewid={1}", Model.CustomerId, Model.ReviewId))" />
                                    <input type="hidden" name="userName" value="@Model.UserName" />
                                    <input type="hidden" name="emailId" value="@Model.EmailId" />
                                    <input type="hidden" name="makeName" value="@Model.Make.MakeName" />
                                    <input type="hidden" name="modelName" value="@Model.Model.ModelName" />
                                    <input type="hidden" name="encodedString" value="@Model.EncodedWriteUrl" />
                                    <input type="hidden" name="queryEncoded" value="@Model.EncodedWriteUrl" />
                                    <input type="hidden" name="isDesktop" value="true" />
                                    <input type="hidden" id="overAllRatings" value="@Model.Rating.Value" />
                                    <input type="hidden" id="pageSourceId" value="@Model.PageSourceId" />
                                    <input type="hidden" id="contestSrc" value="@Model.ContestSrc" />
                                    <input type="hidden" name="fromParametersRatingScreen" value="true" />*@
                                    @*<h3 class="font15 margin-bottom10">Maintenance tips for other riders</h3>
                                    <p class="text-light-grey margin-bottom20">Share key tips which you think were useful while owning/riding this bike.</p>

                                    <div class="input-box form-control-box" data-bind="css: reviewTips().length > 0 ? 'not-empty' : ''">
                                        <input name="reviewTips" type="text" id="getReviewTip" maxlength="1000" data-bind="textInput: reviewTips" />
                                        <label for="getReviewTip">Eg. Change oil after 3,000 kms, Use tubeless tyres etc</label>
                                        <span class="boundary"></span>
                                    </div>*@

                                    @Html.AntiForgeryToken()
                                    @*<input id="submitReviewBtn" type="submit" class="btn btn-orange btn-220-40" value="Submit review" data-bind="click: submitReview" />*@

                                </div>
                                <div class="clear"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="clear"></div>
            </div>
           
            <span id="previousPageUrl" class="hide">@Model.PreviousPageUrl</span>
            <span id="returnUrl" class="hide">@Model.ReturnUrl</span>
        </section>
    </form>
}

<script type="text/javascript">
    var page = "otherDetails";
    var vmWriteReview;
    window.addEventListener("beforeunload", function (event) {
        vmWriteReview.SaveToBwCache();
    });
</script>
