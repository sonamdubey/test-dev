@model Bikewale.Models.BikeInfoVM
@using Bikewale.Utility
@if (Model !=null && Model.BikeInfo != null)
{
    <div class="model-grid-8-slug">
        @if (Model.IsUpcoming)
        {
            <p class="model-ribbon-tag upcoming-ribbon">Upcoming</p>
        }
        else if (Model.IsDiscontinued)
        {
            <p class="model-ribbon-tag discontinued-ribbon">Discontinued</p>
        }
        <div class="clear"></div>
        <div class="grid-8 alpha border-solid-right">
            <a href="@Model.BikeUrl" title="@Model.BikeName" class="model-image-target vertical-top bw-ga" data-cat="@Model.Category" data-act="Clicked_Model_GenericSlug" data-lab="@Model.BikeName">
                <img class="lazy" data-original="@Image.GetPathToShowImages(Model.BikeInfo.OriginalImagePath, Model.BikeInfo.HostUrl, ImageSize._160x89, QualityFactor._70)" src="" alt="@Model.BikeName" />
            </a>
            <div class="model-details-block vertical-top">
                <a href="@Model.BikeUrl" title="@Model.BikeName" class="block text-default bw-ga" data-cat="@Model.Category" data-act="Clicked_Model_GenericSlug" data-lab="@Model.BikeName">
                    <h3>@Model.BikeName</h3>
                </a>
                @if (Model.BikeInfo.RatingCount > 0)
                {
                <div id="reviewRatingsDiv">
                    <span class="rate-count-@Math.Round(Model.BikeInfo.Rating)">
                        <span class="bwsprite star-icon star-size-16"></span>
                        <span class="font14 text-bold inline-block">@Model.BikeInfo.Rating.ToString("0.0").TrimEnd('0', '.')</span>
                    </span>
                    <span class='font11 text-xt-light-grey inline-block padding-left5'>(@string.Format("{0} {1}", Model.BikeInfo.RatingCount, Model.BikeInfo.RatingCount > 1 ? "ratings" : "rating"))</span>
                    @if (Model.BikeInfo.UserReviewCount > 0)
                    {
                        <a class='text-xt-light review-left-divider inline-block' href="@string.Format("{0}reviews/", Model.BikeUrl)" title="@Model.BikeName user reviews">@string.Format("{0} {1}", Model.BikeInfo.UserReviewCount, Model.BikeInfo.UserReviewCount > 1 ? "reviews" : "review")</a>
                    }
                </div>
                }
                <ul class="item-more-details-list inline-block bw-ga" data-cat="@Model.Category" data-act="Clicked_OtherElements_GenericSlug" data-lab="@Model.BikeName">
                    @if (Model.BikeInfo.Tabs != null)
                    {
                        foreach (var Tabsdetails in Model.BikeInfo.Tabs)
                        {
                            <li>
                                <a href="@Tabsdetails.URL" title="@String.Format(" {0} {1}",Model.BikeName, Tabsdetails.Title)">                                    
                                    <span class="bwsprite @Tabsdetails.IconText-sm"></span>
                                    <span class="icon-label">@Tabsdetails.TabText</span>
                                </a>
                            </li>
                        }
                    }
                </ul>
            </div>
        </div>
        <div class="grid-4 omega">
            @if (Model.IsDiscontinued)
            {
                <p class="font12 text-light-grey margin-bottom5 text-truncate" title="Last known Ex-showroom price">Last known Ex-showroom price</p>
                @Html.Raw("<span class='font16'>&#x20B9;</span>")<span class="font16 text-bold">&nbsp;@Bikewale.Utility.Format.FormatPrice(Convert.ToString(Model.BikeInfo.BikePrice))</span>
            }
            else if (Model.IsUpcoming)
            {
                <p class="font12 text-light-grey margin-bottom5 text-truncate" title="Expected price">Expected price</p>
                @Html.Raw("<span class='font16'>&#x20B9;</span>")<span class="font16 text-bold">&nbsp;@String.Format("{0} - {1}", Format.FormatNumeric(Convert.ToString(Model.BikeInfo.EstimatedPriceMin)), Format.FormatNumeric(Convert.ToString(Model.BikeInfo.EstimatedPriceMax)))</span>
            }
            else
            {
                if (Model.BikeInfo.PriceInCity > 0 && Model.CityDetails != null)
                {
                    <p class="font12 text-light-grey margin-bottom5 text-truncate" title="@String.Format("Ex-showroom, {0}",Model.CityDetails.CityName)">@String.Format("Ex-showroom, {0}", Model.CityDetails.CityName)</p>
                    @Html.Raw("<span class='font16'>&#x20B9;</span>")<span class="font16 text-bold">&nbsp;@Format.FormatPrice(Convert.ToString(Model.BikeInfo.PriceInCity))</span>
                }
                else
                {
                    <p class="font12 text-light-grey margin-bottom5 text-truncate" title="@String.Format("Ex-showroom, {0}",BWConfiguration.Instance.DefaultName)">@String.Format("Ex-showroom, {0}", BWConfiguration.Instance.DefaultName)</p>
           @Html.Raw("<span class='font16'>&#x20B9;</span>")<span class="font16 text-bold">&nbsp;@Format.FormatPrice(Convert.ToString(Model.BikeInfo.BikePrice))</span>
                }
            }
        </div>
        <div class="clear"></div>
        @if (Model.BikeInfo.UsedBikeCount > 0)
        {
            <div class="border-solid-bottom margin-top15 margin-bottom10"></div>
            <a href="@UrlFormatter.UsedBikesUrlNoCity(Model.BikeInfo.Make.MaskingName,Model.BikeInfo.Model.MaskingName,(Model.CityDetails!=null)?Model.CityDetails.CityMaskingName:"india")" title="@Model.BikeInfo.UsedBikeCount used @Model.BikeName bikes" class="block text-default hover-no-underline">
                <span class="used-target-label inline-block">
                    <span class="font14 text-bold margin-right5">@Model.BikeInfo.UsedBikeCount Used @Model.BikeName bikes</span><span class="font12 text-light-grey">starting at <span class="bwsprite inr-xsm-grey margin-right5"></span>@Format.FormatNumeric(Convert.ToString(Model.BikeInfo.UsedBikeMinPrice))</span>
                </span>
                <span class="bwsprite next-grey-icon"></span>
            </a>
        }
    </div>
}