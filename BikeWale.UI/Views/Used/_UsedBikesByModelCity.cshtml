@model Bikewale.Models.Used.UsedBikeByModelCityVM
@using Bikewale.Utility;

@if (Model != null && Model.City != null && Model.RecentUsedBikesList != null)
{
    <div class="grid-12 alpha omega text-black">
        @if (Model.City.CityId == 0)
        {
                <!-- when city is not selected -->
            foreach (var bike in Model.RecentUsedBikesList)
            {
                <div class="grid-4 margin-bottom20">
                    <a title="Used @Model.LinkHeading bikes in @bike.CityName" href="@UrlFormatter.UsedBikesUrlNoCity(bike.MakeMaskingName, bike.ModelMaskingName, bike.CityMaskingName)">Used @Model.LinkHeading bikes in @bike.CityName</a>
                    <p class="margin-top10">@Format.FormatPrice(Convert.ToString(bike.AvailableBikes)) @(bike.AvailableBikes == 1 ? " bike" : " bikes") available</p>
                </div>
            }
        }
        else
        {
                <!-- when city is selected -->
            foreach (var bike in Model.RecentUsedBikesList)
            {
                <div class="grid-4 margin-bottom20">
                    <a href="@UrlFormatter.UsedBikesUrl( bike.CityMaskingName, bike.MakeMaskingName, bike.ModelMaskingName, Convert.ToString(bike.ProfileId))"
                       title="@String.Format("{0}, {1} {2} {3}",Convert.ToString(@bike.MakeYear), bike.MakeName, bike.ModelName, bike.VersionName)">
                        @String.Format("{0}, {1} {2} {3}", Convert.ToString(bike.MakeYear), bike.MakeName, bike.ModelName, bike.VersionName)
                    </a>
                    <p class="margin-top10">
                        <span class="bwsprite inr-sm-dark"></span>
                        <span>@Format.FormatPrice(Convert.ToString(bike.BikePrice))</span>
                    </p>
                </div>
            }
        }
    </div>
}