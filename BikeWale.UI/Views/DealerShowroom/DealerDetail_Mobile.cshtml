@model  Bikewale.Models.DealerShowroomDealerDetailsVM
@{
    Layout = "~/Views/Shared/_Layout_Mobile.cshtml";
    Model.Page_ATF_CSS = "<link rel='stylesheet' type='text/css' href='/m/css/dealer/details.css' />";
    Model.Page_JS_Path = "/m/src/dealer/details.js";
    Model.PageMetaTags.CanonicalUrl = String.Format("https://www.bikewale.com/{0}-dealer-showrooms-in-{1}/{2}-{3}/", Model.Make.MaskingName, Model.CityDetails.CityMaskingName, Model.DealerDetails.DealerDetails.DealerId, Bikewale.Utility.UrlFormatter.RemoveSpecialCharUrl(Model.DealerDetails.DealerDetails.Name));
}
@if (Model.DealerDetails != null && Model.DealerDetails.DealerDetails != null)
{
    <section class="container bg-white margin-bottom10">
        <div class="bg-white box-shadow">
            @if (Model.DealerDetails.DealerDetails.Area != null && string.IsNullOrEmpty(Model.DealerDetails.DealerDetails.Area.AreaName))
            {
                <h1 class="box-shadow padding-15-20">@string.Format("{0}, {2}, {1}", Model.DealerDetails.DealerDetails.Name, Model.CityDetails.CityName, Model.DealerDetails.DealerDetails.Area.AreaName)</h1>
            }
            else
            {
                <h1 class="box-shadow padding-15-20">@string.Format("{0}, {1}", Model.DealerDetails.DealerDetails.Name, Model.CityDetails.CityName)</h1>
            }
            <div class="dealer-details position-rel pos-top-3 content-inner-block-20 font14">
                @if (Model.DealerDetails.DealerDetails.DealerType == (int)(Bikewale.Entities.PriceQuote.DealerPackageTypes.Premium) || Model.DealerDetails.DealerDetails.DealerType == (int)(Bikewale.Entities.PriceQuote.DealerPackageTypes.Deluxe))
                {
                    <span class="featured-tag inline-block margin-right10"><span class="bwmsprite star-white"></span>Featured</span>
                }
                else
                {
                    <div class="margin-bottom20">
                        <h2 class="font14 text-bold inline-block">@string.Format("Authorized {0} dealer in {1}", Model.Make.MakeName, Model.CityDetails.CityName) </h2>
                    </div>
                }
                @if (!string.IsNullOrEmpty(Model.DealerDetails.DealerDetails.Address))
                {
                    <p class="margin-bottom10">
                        <span class="bwmsprite dealership-loc-icon vertical-top"></span>
                        @if (String.IsNullOrEmpty(Model.DealerDetails.DealerDetails.Pincode))
                        {
                            <span class="vertical-top dealership-details text-light-grey">@string.Format("{0}, {1}", Model.DealerDetails.DealerDetails.Address, Model.CityDetails.CityName)</span>
                        }
                        else
                        {
                            <span class="vertical-top dealership-details text-light-grey">@string.Format("{0}, {1}, {2}", Model.DealerDetails.DealerDetails.Address, Model.DealerDetails.DealerDetails.Pincode, Model.CityDetails.CityName)</span>
                        }

                    </p>
                }
                @if (!string.IsNullOrEmpty(Model.DealerDetails.DealerDetails.MaskingNumber))
                {
                    <div class="margin-bottom10">
                        <a href="tel:= dealerDetails.MaskingNumber " class="text-default text-bold maskingNumber">
                            <span class="bwmsprite tel-sm-grey-icon vertical-top"></span>
                            <span class="vertical-top text-bold dealership-details">@Model.DealerDetails.DealerDetails.MaskingNumber </span>
                        </a>
                    </div>
                }
                @if (!string.IsNullOrEmpty(Model.DealerDetails.DealerDetails.EMail))
                {
                    <div class="margin-bottom10">
                        <a href="mailto:= dealerDetails.EMail " class="text-light-grey">
                            <span class="bwmsprite mail-grey-icon vertical-top"></span>
                            <span class="vertical-top dealership-details text-light-grey">@Model.DealerDetails.DealerDetails.EMail </span>
                        </a>
                    </div>
                }
                @if (!string.IsNullOrEmpty(Model.DealerDetails.DealerDetails.WorkingHours))
                {
                    <div class="margin-bottom10">
                        <span class="bwmsprite clock-icon vertical-top"></span>
                        <span class="vertical-top dealership-details text-light-grey">Working hours: @Model.DealerDetails.DealerDetails.WorkingHours </span>
                    </div>
                }
                @if (Model.DealerDetails.DealerDetails.Area != null && Model.DealerDetails.DealerDetails.Area.Latitude > 0 && Model.DealerDetails.DealerDetails.Area.Longitude > 0)
                {
                    <div class="border-solid-bottom margin-bottom15 padding-top10"></div>

                    <h2 class="font14 text-default margin-bottom15">Get commute distance and time:</h2>
                    <div class="form-control-box margin-bottom15">
                        <input id="locationSearch" data-lat="@Model.DealerDetails.DealerDetails.Area.Latitude" data-long="@Model.DealerDetails.DealerDetails.Area.Longitude" type="text" class="form-control padding-right40" placeholder="Enter your location" />
                        <span id="getUserLocation" class="crosshair-icon position-abt"></span>
                    </div>
                    <div class="location-details margin-bottom15">
                        Distance: <span id="commuteDistance" class="margin-right10"></span>
                        Time: <span id="commuteDuration"></span>
                    </div>
                    <div id="commuteResults"></div>
                    <a id="anchorGetDir" href="http://maps.google.com/maps?z=12&t=m&q=loc:=@Model.DealerDetails.DealerDetails.Area.Latitude ,@Model.DealerDetails.DealerDetails.Area.Longitude " target="_blank"><span class="bwmsprite get-direction-icon margin-right5"></span>Get directions</a>
                }
            </div>

            @if (Model.DealerDetails.DealerDetails.CampaignId > 0 && Model.DealerDetails.DealerDetails.DealerType != (int)(Bikewale.Entities.PriceQuote.DealerPackageTypes.Standard))
            {
                <div class="grid-12 float-button clearfix float-fixed">
                    @if (!string.IsNullOrEmpty(Model.DealerDetails.DealerDetails.MaskingNumber))
                    {
                        <div class="grid-6 alpha padding-right5">
                            <a data-leadsourceid="15" class=" btn btn-orange btn-full-width rightfloat leadcapturebtn" href="javascript:void(0);">@Model.DealerDetails.DealerDetails.DisplayTextSmall</a>
                        </div>
                        <div class="grid-6 omega padding-left5">
                            <a id="calldealer" class="btn btn-green btn-full-width rightfloat" href="tel:= dealerDetails.MaskingNumber ">
                                <span class="bwmsprite tel-white-icon margin-right5"></span>Call dealer
                            </a>
                        </div>
                    }
                    else
                    {
                        <div class="grid-12 alpha padding-right5">
                            <a data-leadsourceid="15" class=" btn btn-orange btn-full-width rightfloat leadcapturebtn" href="javascript:void(0);">@Model.DealerDetails.DealerDetails.DisplayTextSmall </a>
                        </div>
                    }
                    <div class="clear"></div>
                </div>
                <div class="clear"></div>

            }
    </section>
}

@if (Model.DealersList != null)
{
    <section class="container bg-white margin-bottom10">
        <div class="box-shadow">
            <div id="makeDealersContent" class="bw-model-tabs-data padding-bottom20 padding-top15 font14">
                <div class="carousel-heading-content">
                    <div class="swiper-heading-left-grid inline-block">
                        <h2>More @Model.Make.MakeName showrooms</h2>
                    </div><div class="swiper-heading-right-grid inline-block text-right">
                        <a href="/m/@Model.Make.MaskingName-dealer-showrooms-in-@Model.CityDetails.CityMaskingName/" title="@Model.Make.MakeName Showrooms in @Model.CityDetails.CityName" class="btn view-all-target-btn">View all</a>
                    </div>
                    <div class="clear"></div>
                </div>
                @Html.Partial("~/Views/DealerShowroom/_DealerCard_Mobile.cshtml", Model.DealersList)
            </div>
            <div class="clear"></div>
        </div>

    </section>
}
@if (Model.PopularBikes != null && Model.PopularBikes.Bikes != null && Model.PopularBikes.Bikes.Count() > 0)
{
    <div class="container bg-white box-shadow margin-bottom15">
        <div class="carousel-heading-content padding-top15">
            <div class="swiper-heading-left-grid inline-block"><h2>Popular @Model.Make.MakeName bikes in @Model.CityDetails.CityName</h2></div><div class="swiper-heading-right-grid inline-block text-right">
                <a href="/m/@Model.Make.MaskingName-bikes/" title="@Model.Make.MakeName Bikes" class="btn view-all-target-btn">View all</a>
            </div>
            <div class="clear"></div>
        </div>
        @Html.Partial("~/Views/BikeModels/_MostPopularBikes_Mobile.cshtml", Model.PopularBikes)
    </div>
}
@if (Model.ServiceCenterDetails != null && Model.ServiceCenterDetails.ServiceCentersList != null && Model.ServiceCenterDetails.ServiceCentersList.Count() > 0)
{
    <div class="container bg-white box-shadow padding-top15 margin-bottom10">
        <div class="container card-bottom-margin padding-bottom20">
            <div class="carousel-heading-content">
                <div class="swiper-heading-left-grid inline-block"><h2>@Model.Make.MakeName service centers in @Model.CityDetails.CityName</h2></div><div class="swiper-heading-right-grid inline-block text-right">
                    <a href="/m/@Model.Make.MakeName-service-center-in-@Model.CityDetails.CityName/" title="@Model.Make.MakeName Service Centers in @Model.CityDetails.CityName" class="btn view-all-target-btn">View all</a>
                </div>
                <div class="clear"></div>
            </div>
            <div class="swiper-container card-container margin-bottom15 dealer-horizontal-swiper font14">
                <div class="swiper-wrapper">
                    @Html.Partial("~/Views/ServiceCenters/_ServiceCentersCard_Mobile.cshtml", Model.ServiceCenterDetails)
                </div>
            </div>
            </div>
        </div>
}
<script defer src="https://maps.googleapis.com/maps/api/js?key=@Bikewale.Utility.BWConfiguration.Instance.GoogleMapApiKey&libraries=places"></script>