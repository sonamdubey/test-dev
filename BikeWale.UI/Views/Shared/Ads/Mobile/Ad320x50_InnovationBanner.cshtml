@model Bikewale.Models.AdTags
@{
    var currentTimestamp = DateTime.Now.ToString("o");
}
<style type="text/css">
    .animated{animation-duration:1s;animation-fill-mode:both}.animated.infinite{animation-iteration-count:infinite}.animated.hinge{animation-duration:2s}@@keyframes fadeInRight{from{opacity:0;transform:translate3d(100%,0,0)}to{opacity:1;transform:none}}.fadeInRight{animation-name:fadeInRight}@@keyframes zoomIn{from{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}.zoomIn{animation-name:zoomIn}


@@keyframes move_background {
    from {
        background-position: 0 0;
    } to {
        background-position: -1136px 0;
    }
}
@@-moz-keyframes spin { 100% { -moz-transform: rotate(360deg); } }
@@-webkit-keyframes spin { 100% { -webkit-transform: rotate(360deg); } }
@@keyframes spin { 100% { -webkit-transform: rotate(360deg); transform:rotate(360deg); } }
.container{
    overflow: hidden;
    position: relative;
}

.bg-animation {
    position: relative;
    width: 100%;
    height: 70px;
    background: url('https://imgd.aeplcdn.com/0x0/bw/es/html5-property/maestro/m/bg-animation.png') repeat-x;
    animation: move_background 5s linear infinite;
}
.vehicle-container {
    width: 98px;
    height: 70px;
    position: relative;
    left: -70px;
}
.vehicle-container__body {
    width: 98px;
    height: 70px;
    display: inline-block;
    position: absolute;
    background: url('https://imgd.aeplcdn.com/0x0/bw/es/html5-property/maestro/m/bike-body.png') no-repeat;
    top: 14px;
    left: -14px;
}
.vehicle-container__tyres {
    display: inline-block;
    position: absolute;
    top: 70px;
    left: 98px;
}
.tyre {
    position: absolute;
    width: 20px;
    height: 20px;
    -webkit-border-radius: 30px;
    -moz-border-radius: 30px;
    border-radius: 30px;
    background: url('https://imgd.aeplcdn.com/0x0/bw/es/html5-property/maestro/m/tyre-msite.png') no-repeat;
    -webkit-animation: spin 0.2s linear infinite;
    -moz-animation: spin 0.2s linear infinite;
    animation: spin 0.2s linear infinite;
}
.front-tyre {
    top: -22px;
    right: 35px;
}
.rear-tyre {
    top: -23px;
    right: 90px;
}


/*containers*/

.banner-screen {
    position: absolute;
    top: 0;
    width: 100%;
    height: 100%;
    display: none;
}
.banner-screen div {
    position: absolute;
    top: 0;
    display: none;
}

.banner-screen .banner-screen__content1 {
    left: 30%;
    top: 28%;
    height: auto;
    width: 90px;
    line-height: 120%;
    text-align: right;
}
#banner1 .banner-screen__content2 {
    width: 110px;
    height: auto;
    top: 28%;
    left: 62%;
    line-height: 120%;
}
.banner-screen .banner-screen__content3 {
    height: 15px;
    width: 40px;
    background: url('https://imgd.aeplcdn.com/0x0/bw/es/html5-property/maestro/m/hero-logo.png');
    background-size: cover;
    top: 7px;
    right:10px;
}
.banner-screen .banner-screen__content4 {
    top: 75%;
    left: 62%;
    color: #0288d1;
}

.font-bold {
    font-weight: 700;
}
.capitalize {
    text-transform: capitalize;
}

/*banner1*/

.popup-container {
    height: 100%;
    max-width: 400px;
    margin: auto;
    position: relative;
}
.banner1-image {
    height: 310px;
    width: 100%;
    background: url('https://imgd.aeplcdn.com/0x0/bw/es/html5-property/maestro/m/bike-collage.png') no-repeat center;
}
.banner-popup__make-icon {
    width: 90px;
    height: 30px;
    background: url('https://imgd.aeplcdn.com/0x0/bw/es/html5-property/maestro/m/hero-logo.png');
    background-size: cover;
    position: absolute;
    top: 20px;
    left: 15px;
}
.benefit-list {
    display: block;
    height: auto;
    position: relative;
    padding: 0 20px 20px;
}
.benefit-list__head {
    font-size: 14px;
    font-weight: 600;
    padding-bottom: 20px;
}
.benefit-list__ul {
    margin: 0 15px 0;
    list-style-type: disc;
}
.benefit-list__ul li {
    margin-bottom: 10px;
    width: 70%;
}
.benefit-list__ul li:first-of-type {
    width: 100%;
}
.warrantyunit-icon {
    height: 80px;
    width: 80px;
    background: url('https://imgd.aeplcdn.com/0x0/bw/es/html5-property/maestro/m/warranty-logo.png') no-repeat;
    background-size: cover;
    position: absolute;
    bottom: 25px;
    right: 30px;
}
.banner__termscondition {
    font-size: 9px;
    color: #a1a1a1;
    position: absolute;
    bottom: 0;
}
.banner__explore-more {
    display: block;
    margin: 0 auto;
    width: 80%;
}
.download-link {
    text-align: center;
    font-size: 14px;
    display: block;
    margin-top: 15px;
}
.view-more-link {
    padding: 15px 25px 15px;
    display: block;
    font-size: 14px;
    text-align: right;
    float: right;
}

.banner-element {
    display: none;
}
/*popup*/
.banner-popup {
    display: none;
    background: #fff;
    position: fixed;
    top: 0;
    z-index: 9;
    width: 100%;
    height: 100%;
    overflow: auto;
}
.banner1-popup,
.banner2-popup,
.banner3-popup {
    height: 100%;
    display: none;
}
/*close icon*/
.popup-close {
	position: absolute;
	right: 20px;
	top: 20px;
	width: 32px;
	height: 32px;
	opacity: 0.3;
	z-index: 10;	
}
.popup-close:hover {
  opacity: 1;
}
.popup-close:before, .popup-close:after {
  position: absolute;
  left: 15px;
  content: ' ';
  height: 33px;
  width: 2px;
  background-color: black;
}
.popup-close:before {
  transform: rotate(45deg);
}
.popup-close:after {
  transform: rotate(-45deg);
}

/* swiper */
.banner-photos-swiper.swiper-container {
    width: 100%;
    height: 202px;
    overflow: hidden;
    position: relative;
    top: 1px;
}
.banner-photos-swiper .swiper-slide,
.banner-photos-swiper .swiper-card {
    width: 80%;
    text-align: center;
}
.banner-photos-swiper .swiper-wrapper .swiper-slide:first-child,
.banner-photos-swiper .swiper-card {
    margin-left: 0;
}
.banner-photos-swiper img {
    width: auto;
    max-height: 202px;
}
/*animate*/
.animated {
    animation-duration: 1s;
    animation-fill-mode: both;
}

    .animated.infinite {
        animation-iteration-count: infinite;
    }

    .animated.hinge {
        animation-duration: 2s;
    }

@@keyframes fadeInRight {
    from {
        opacity: 0;
        transform: translate3d(100%,0,0);
    }

    to {
        opacity: 1;
        transform: none;
    }
}

.fadeInRight {
    animation-name: fadeInRight;
}

@@keyframes zoomIn {
    from {
        opacity: 0;
        transform: scale3d(.3,.3,.3);
    }

    50% {
        opacity: 1;
    }
}

.zoomIn {
    animation-name: zoomIn;
}
</style>
<div class="container">
    <div class="bg-animation" data-screen="1">
        <div class="vehicle-container">
            <span class="vehicle-container__tyres">
                <i class="tyre front-tyre"></i>
                <i class="tyre rear-tyre"></i>
            </span>
            <span class="vehicle-container__body"></span>
        </div>
        <div id="banner1" class="banner-screen" data-position="10">
            <div class="banner-screen__content1">
                <p class="font12 text-bold">All new Hero</p>
                <p class="font13 capitalize font-bold">Maestro Edge</p>
            </div>
            <div class="banner-screen__content2">
                <p class="font12 capitalize font-bold">avail grand celebration offer</p>
            </div>
            <div class="banner-screen__content3">
                <span class="banner__make--icon"></span>
            </div>
            <div class="banner-screen__content4">
                <p class="expand-popup bw-ga" c="Innovation_Banner" a="Click_to_view_offer_Clicked" l="@Model.InnovationBannerGALabel">Click to view offer >></p>
            </div>
        </div>
        <div id="banner2" class="banner-screen" data-position="50">
            <div class="banner-screen__content1">
                <p style="font-size: 14px; font-weight: bold;">Huge Festive Benefits.</p>
            </div>
            <div class="banner-screen__content2">
                <p class="expand-popup">Click To Expand</p>
            </div>
        </div>
        <div id="banner3" class="banner-screen" data-position="70">
            <div class="banner-screen__content1">
                <p style="font-size: 14px; font-weight: bold;">Huge Festive Benefits.</p>
            </div>
            <div class="banner-screen__content2">
                <p class="expand-popup">Click To Expand</p>
            </div>
        </div>
    </div>
    <div class="banner-popup">
        <span class="popup-close bw-ga" c="Innovation_Banner" a="Popup_Close_Clicked" l="@Model.InnovationBannerGALabel"></span>
        <div class="banner1-popup" data-flag="0">
            <div class="popup-container">
                <span class="banner-popup__make-icon banner-element"></span>
                <div class="banner1-image banner-element">
                </div>
                <div class="benefit-list banner-element">
                    <h3 class="benefit-list__head">Bring home a new Hero scooter and get</h3>
                    <ul class="benefit-list__ul">
                        <li>
                            75 gm silver coin and cash Benefit of &#x20b9; 3000
                        </li>
                        <li>
                            Additional Benefit of &#x20b9; 1500 for Govt. & PSU Employees
                        </li>
                        <li>
                            Special Festive Rate of 6.99%
                        </li>
                    </ul>
                    <span class="warrantyunit-icon"></span>
                    <div class="banner__termscondition">* T&C; Apply, Finance is available from our preferred financier</div>
                </div>
                <div class="grid-12 alpha omega margin-top15 banner-element">
                    <a rel="nofollow noopener" target="_blank" href="https://bs.serving-sys.com/serving/adServer.bs?cn=trd&mc=click&pli=22699877&PluID=0&ord=@currentTimestamp" class="btn btn-orange banner__explore-more bw-ga" c="Innovation_Banner" a="Explore_more_Clicked" l="@Model.InnovationBannerGALabel">Explore more</a>
                    <a rel="nofollow noopener" target="_blank"  href="https://stb.bikewale.com/bikewale/ad/maestro-edge.pdf" c="Innovation_Banner" a="Download_e_brochure_Clicked" l="@Model.InnovationBannerGALabel" class="download-link bw-ga">Download brochure</a>
                </div>
                @*<a href="javascript:void(0)" class="view-more-link banner-element bw-ga" c="Innovation_Banner" a="View_features_Clicked" l="@Model.InnovationBannerGALabel" >View features >></a>*@

            </div>

        </div>
    </div>
    <img src="https://bs.serving-sys.com/serving/adServer.bs?cn=display&c=19&mc=imp&pli=22699877&PluID=0&ord=@currentTimestamp&rtu=-1" class="hide" />
</div>
<script type="text/javascript">
    docReady(function () {
        try {
            triggerNonInteractiveGA('Innovation_Banner', 'Hero_Innovation_Banner_Shown', '@Model.InnovationBannerGALabel');
        } catch (e) {
            console.warn(e.message);
        }
        
        $.fn.extend({
            animateCss: function (animationname, callback) {
                var animationend = 'webkitanimationend mozanimationend msanimationend oanimationend animationend';
                this.addClass('animated ' + animationname).one(animationend, function () {
                    $(this).removeClass('animated ' + animationname);
                    if (callback) {
                        callback();
                    }
                });
                return this;
            }
        });

        function animateBannerContent(elemId) {

            var firstElem = $("#" + elemId + " .banner-screen__content1");
            recursiveAnimate(firstElem);
        }

        function recursiveAnimate(elem) {

            animateContent($(elem), "fadeInRight", function () {
                var nextElem = $(elem).next();
                if (nextElem.length > 0)
                    recursiveAnimate($(nextElem));
            });
        }
        function animateContent(element, animationName, callBack) {
            $(element).show().animateCss(animationName, callBack);
        }

        function showBanner(bannerId) {
            $(".banner-screen, .banner-screen div").hide();
            $("#" + bannerId).show();
        }

        $(".vehicle-container").animate({
            'left': "30px"
        }, function () {
            showBanner("banner1");
            animateBannerContent("banner1");
        });

        $(".expand-popup").on('click', function () {
            var popupBannerId = $(this).closest('.banner-screen').attr('id');
            var bannerPopup = $(this).closest('.container').find('.banner-popup');
            bannerPopup.show();

            var elemClass = bannerPopup.find(".popup-container").attr('class');
            recursiveAnimate($("." + elemClass).children()[0]);

            bannerPopup.find('.' + popupBannerId + '-popup').attr('data-flag', '1').show();
            $('body').addClass('lock-browser-scroll');
        });
        $('.popup-close').on('click', function () {
            var bannerPopup = $(this).closest('.banner-popup').find("[data-flag = '1']");
            $(this).closest('.banner-popup').toggle();
            bannerPopup.attr('data-flag', '0').hide();
            $('.' + bannerPopup.attr('class') + ' .popup-container').find('.banner-element').hide();
            $('body').removeClass('lock-browser-scroll');
        });
    });
</script>