webpackJsonp([2],{177:function(e,t,a){"use strict";function n(){d(document.getElementById("global-search-popup")),u()}function l(){d(document.getElementById("globalcity-popup")),u()}function o(){w(),d(document.getElementById("popupWrapper")),i(),u()}function i(){var e=document.getElementById("popupContent");e.style.left="100%",e.classList.remove("fix-input-field")}function r(){var e=document.getElementById("popupContent");e.style.left="0",setTimeout(function(){e.classList.add("fix-input-field")},500)}function s(){d(document.getElementById("globalcity-popup")),u(),window.history.back()}function c(){document.body.classList.add("lock-browser-scroll"),p(document.getElementsByClassName("blackOut-window")[0])}function u(){document.body.classList.remove("lock-browser-scroll"),d(document.getElementsByClassName("blackOut-window")[0])}function d(e){try{e.style.display="none"}catch(e){}}function p(e){try{e.style.display="block"}catch(e){}}function m(){if((0,O.isServer)())return null;var e=h("location");return e?(e=e.replace("-"," ").split("_"),{name:e[1],id:parseInt(e[0])}):null}function h(e){var t=document.cookie.match("(^|;) ?"+e+"=([^;]*)(;|$)");return t?t[2]:null}function f(){var e=document.domain;return e.match("bikewale.com$")&&(e=".bikewale.com"),e}function y(e,t,a){var n=new Date,l=new Date;l.setTime(n.getTime()+864e5*a),t=t.replace(/\s+/g,"-"),/MSIE (\d+\.\d+);/.test(navigator.userAgent)||/Trident\//.test(navigator.userAgent)?document.cookie=e+"="+t+";expires="+l.toGMTString()+"; path =/":document.cookie=e+"="+t+";expires="+l.toGMTString()+";domain="+f()+"; path =/",bwcache.remove("userchangedlocation",!0)}function b(e,t){t?(document.getElementById("error-icon").classList.remove("hide"),document.getElementById("bw-blackbg-tooltip").classList.remove("hide"),e.classList.add("border-red")):(document.getElementById("error-icon").classList.add("hide"),document.getElementById("bw-blackbg-tooltip").classList.add("hide"),e.classList.remove("border-red"))}function g(e){switch(e){case"globalCity":l();break;case"onRoadPrice":o();break;default:return!0}}function S(e){try{return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"").replace(/-/g," ").replace(/[^A-Za-z0-9 ]/g,"").toLowerCase().trim()}catch(e){return""}}function v(e,t){var a=t,n=S(a),l=e.year;l=null!=l&&void 0!=l&&""!=l?l.val():"";var o=n+"_"+l;if(!(o in e.cache)&&n.length>0){p(document.getElementById("loaderGlobalCity"));var i=e.source,r=e.recordCount,s="/api/AutoSuggest/?source="+i+"&inputText="+encodeURIComponent(n)+"&noofrecords="+r;e.cache[o]=new Array;var c=new XMLHttpRequest;c.open("GET",s),c.setRequestHeader("Content-Type","application/json; charset=utf-8"),null!=e.loaderStatus&&"function"==typeof e.loaderStatus&&e.loaderStatus(!1),c.onreadystatechange=function(){if(4==c.readyState){if(200==c.status){d(document.getElementById("loaderGlobalCity"));var t=JSON.parse(c.responseText),a=t.suggestionList;e.cache[n+"_"+l]=a.map(function(e){return{label:e.text,payload:e.payload}});var i=e.cache[o];null!=e.afterfetch&&"function"==typeof e.afterfetch&&e.afterfetch(i,n)}else{var i=void 0;e.afterfetch(i,n)}null!=e.loaderStatus&&"function"==typeof e.loaderStatus&&e.loaderStatus(!0)}},c.send()}else{var u=e.cache[o];null!=e.afterfetch&&"function"==typeof e.afterfetch&&e.afterfetch(u,n)}}function C(e,t){var a=new RegExp("("+t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")+")","ig");return e.replace(a,"<strong>$1</strong>")}function I(){d(document.getElementById("global-search-popup")),u(),j=!0}function k(){for(var e=document.cookie.split("; "),t=e.length-1;t>=0;t--){var a=e[t].split("=");if("location"==a[0]){var n=String(a[1]).split("_");Q.PQCitySelectedId=parseInt(n[0])||0,Q.PQCitySelectedName=n[1]?n[1].replace(/-/g," "):"",Q.PQAreaSelectedId=parseInt(n[2])||0,Q.PQAreaSelectedName=n[3]?n[3].replace(/-/g," "):""}}}function E(e,t){k();var a=t;null==t||null==t.payload&&void 0==t.payload||(a=t.payload),L.SelectedModelId=null!=a.modelId&&void 0!=a.modelId?a.modelId:0,L.SelectedCity=Q.PQCitySelectedId>0?{id:Q.PQCitySelectedId,name:Q.PQCitySelectedName}:null,L.SelectedArea=Q.PQAreaSelectedId>0?{id:Q.PQAreaSelectedId,name:Q.PQAreaSelectedName}:null,L.SelectedCityId=(null!=a.preselcity&&void 0!=a.preselcity?a.preselcity:0)||Q.PQCitySelectedId||0,L.SelectedAreaId=Q.PQAreaSelectedId||0,L.BookingCities=[],L.BookingAreas=[],L.ModelName=null!=a.modelName&&null!=a.modelName?a.modelName:"",L.MakeName=null!=a.makeName&&null!=a.makeName?a.makeName:"",L.PageCatId=null!=a.pagecatId&&null!=a.pagecatId?a.makeName:"",L.IsPersistence=void 0!=a.persistent&&null!=a.persistent&&a.persistent,L.IsReload=void 0!=a.reload&&null!=a.reload&&a.reload,0==L.SelectedCityId&&(L.LoadingText="Fetching Cities..."),L.IsPersistence&&(L.LoadingText="Loading locations..."),p(document.getElementById("popupWrapper")),p(document.getElementById("popupContent")),document.getElementById("popupWrapper").classList.add("loader-active"),""!=window.location.hash&&(window.location.hash=""),_("onRoadPrice")}function w(){L.SelectedModelId=0,L.SelectedCity=null,L.SelectedArea=null,L.HasAreas=!1,L.SelectedCityId=0,L.SelectedAreaId=0,L.BookingCities=[],L.BookingAreas=[],L.MakeName="",L.ModelName="",L.PageCatId="",L.DealerId="",L.VersionId="",L.IsPersistence=!1,L.IsReload=!1,L.LoadingText="",L.state=B.cityPopupOpen}function P(){var e=h("location");return e=null!=e?e.replace(/[0-9](_)*/g,"").replace(/-+/g," "):""}function A(e,t,a){var n="";if(null!=e){switch(e){case"1":n="Make_Page";break;case"2":n="CheckPQ_Series",t="CheckPQ_Series_"+t;break;case"3":n="Model_Page",t="CheckPQ_Model_"+t;break;case"4":n="New_Bikes_Page";break;case"5":n="HP";break;case"6":n="Search_Page"}a?dataLayer.push({event:"Bikewale_all",cat:n,act:t,lab:a}):dataLayer.push({event:"Bikewale_all",cat:n,act:t})}}function N(e,t){if(void 0==e||null==e||""==e.trim()){if(!j){var a=bwcache.get(M.searchKey)||{},l=t.makeId,o=t.modelId,i=M.objectIndexOf(a.searches,{makeId:l,modelId:o}),r=a.searches[i];null!=a.searches&&i>-1&&a.searches.splice(i,1),a.searches.unshift(r),bwcache.set(M.searchKey,a),n(),window.location.href="/m/"+t.makeMaskingName+"-bikes/"+t.modelMaskingName}}else if(!j){var s=new Object;s.maskingName=t.payload.makeMaskingName,s.id=t.payload.makeId;var c=null;if(t.payload.modelId>0&&(c=new Object,c.maskingName=t.payload.modelMaskingName,c.id=t.payload.modelId,c.futuristic=t.payload.futuristic),M.saveRecentSearches(t),n(),null!=c&&void 0!=c)return window.location.href="/m/"+s.maskingName+"-bikes/"+c.maskingName+"/",!0;if(null!=s&&void 0!=s)return window.location.href="/m/"+s.maskingName+"-bikes/",!0}j&&(j=!1)}var O=a(3),_=function(e){window.location.hash=e};if(!(0,O.isServer)())try{docReady(function(){document.getElementsByClassName("blackOut-window")[0].addEventListener("mouseup",function(e){var t=document.getElementById("global-search-popup");e.target.id!==t.getAttribute("id")&&(d(t),u())}),window.addEventListener("hashchange",function(e){var t,a;(t=e.oldURL)&&t.indexOf("#")>0&&(a=t.split("#")[1],g(a))})})}catch(e){}var M={searchKey:"recentsearches",options:{bikeSearchEle:(0,O.isServer)()?null:document.getElementById("globalSearch"),recentSearchesEle:(0,O.isServer)()?null:document.getElementById("new-global-recent-searches")&&document.getElementById("new-global-recent-searches").length?document.getElementById("new-global-recent-searches"):document.getElementById("global-recent-searches"),recentSearchesLoaded:!1},saveRecentSearches:function(e){if(e&&e.payload&&e.payload.makeId>0){var t=bwcache.get(this.searchKey)||{};e.payload.name=e.label,t.searches=t.searches||[];var a=this.objectIndexOf(t.searches,e.payload);null!=t.searches&&a>-1&&t.searches.splice(a,1),t.searches.unshift(e.payload),t.lastModified=(new Date).getTime(),t.searches.length>5&&t.searches.pop(),t.noOfSearches=t.searches.length,bwcache.set(this.searchKey,t)}},showRecentSearches:function(e){var t=bwcache.get(this.searchKey);t&&t.searches&&e(t.searches)},getRecentSearches:function(e){var t=bwcache.get(this.searchKey);return t&&t.searches?t.searches:null},objectIndexOf:function(e,t){for(var a=(t.makeId,t.modelId,0),n=e.length;a<n;a++)if(e[a].makeId===t.makeId&&e[a].modelId===t.modelId)return a;return-1}},B={popupClosed:"popup-closed",cityPopupOpen:"city-popup-open",areaPopupOpen:"area-popup-open"},L={SelectedModelId:0,SelectedCity:null,SelectedArea:null,HasAreas:!1,SelectedCityId:0,SelectedAreaId:0,BookingCities:[],BookingAreas:[],MakeName:"",ModelName:"",PageCatId:"",DealerId:"",VersionId:"",IsPersistence:!1,IsReload:!1,LoadingText:"",state:B.cityPopupOpen},R=new Object,x=new Object,T={RESET:0,ERROR:1,RECENTSEARCH:2,AUTOCOMPLETE:3},j=!1,Q=new Object;e.exports={closeGlobalSearchPopUp:n,closeGlobalCityPopUp:l,closeGlobalCityPopUpByButtonClick:s,lockPopup:c,unlockPopup:u,hideElement:d,showElement:p,recentSearches:M,SetCookieInDays:y,autocomplete:v,showHideMatchError:b,globalCityCache:R,globalSearchCache:x,pqSourceId:"38",getGlobalCity:m,highlightText:C,getStrippedTerm:S,setPriceQuoteFlag:I,MakeModelRedirection:N,globalSearchStatus:T,onCookieObj:Q,setDataForPriceQuotePopup:E,onRoadPricePopupDataObject:L,getCookie:h,GetGlobalCityArea:P,gtmCodeAppender:A,popupState:B,resetOnRoadPricePopup:w,closeCityAreaSelectionPopup:i,openCityAreaSelectionPopup:r}},178:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(0),c=n(s),u=a(191),d=n(u),p=a(177),m=a(3),h=function(e){function t(e){l(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=(0,p.getGlobalCity)(),i=n&&n.id>0?n.id:null,r=n&&n.name.length>0?n.name:"";return a.state={value:r,cityList:[],globalCityId:i,strippedValue:(0,p.getStrippedTerm)(r)},a.onChange=a.onChange.bind(a),a.onSelect=a.onSelect.bind(a),a.submitCity=a.submitCity.bind(a),a.closeGlobalCityPopUpByButtonClick=a.closeGlobalCityPopUpByButtonClick.bind(a),a.renderMenu=a.renderMenu.bind(a),a.renderMenuItem=a.renderMenuItem.bind(a),a}return i(t,e),r(t,[{key:"submitCity",value:function(){var e=document.getElementById("globalCityPopUp");return this.state.globalCityId>0&&""!=this.state.value?((0,p.showHideMatchError)(e,!1),(0,p.closeGlobalCityPopUpByButtonClick)()):(0,p.showHideMatchError)(e,!0),!1}},{key:"onSelect",value:function(e){var t=new Object;t.cityId=e.payload.cityId,t.maskingName=e.payload.cityMaskingName;var a=e.label.split(",")[0];t.cityId!=this.state.globalCityId&&((0,p.SetCookieInDays)("location",t.cityId+"_"+a,365),bwcache.set("userchangedlocation",window.location.href,!0)),(0,p.closeGlobalCityPopUpByButtonClick)(),dataLayer.push({event:"Bikewale_all",cat:(0,m.GetCatForNav)(),act:"City_Popup_Default",lab:a}),t.cityId&&location.reload()}},{key:"onChange",value:function(){try{var e=document.getElementById("globalCityPopUp").value;if(void 0==e||null==e)return;if(0==e.replace(/\s/g,"").length)return void this.setState({value:e,strippedValue:(0,p.getStrippedTerm)(e),cityList:[]});this.setState({value:e,strippedValue:(0,p.getStrippedTerm)(e)}),(0,p.autocomplete)({year:"",recordCount:5,source:3,afterfetch:this.afterfetch.bind(this),cache:p.globalCityCache},e)}catch(e){}}},{key:"afterfetch",value:function(e,t){var a=document.getElementById("globalCityPopUp");void 0!=e&&e.length>0?((0,p.showHideMatchError)(a,!1),this.setState({cityList:e})):((0,p.showHideMatchError)(a,!0),this.setState({cityList:[]}))}},{key:"closeGlobalCityPopUpByButtonClick",value:function(){(0,p.closeGlobalCityPopUpByButtonClick)();var e=(0,p.getGlobalCity)(),t=e&&e.id>0?e.id:null,a=e&&e.name.length>0?e.name:"";this.setState({value:a,cityList:[],globalCityId:t,strippedValue:(0,p.getStrippedTerm)(a)})}},{key:"shouldComponentUpdate",value:function(e,t){if("none"==document.getElementById("globalcity-popup").style.display){try{if(null!=this.state.value&&null!=t.value&&this.state.value!==t.value)return!0}catch(e){return!1}return!1}return!0}},{key:"renderMenuItem",value:function(e,t){return c.default.createElement("li",{className:"autocomplete-menu--item"+(0==t?" menu--item-focus":""),onClick:function(){this.onSelect(e)}.bind(this)},c.default.createElement("span",{className:"menu--item-icon bwmsprite search-icon"}),c.default.createElement("a",{className:"menu--item-label",dangerouslySetInnerHTML:{__html:(0,p.highlightText)(e.label,this.state.strippedValue)}}))}},{key:"renderMenu",value:function(e,t){return void 0==t||null==t||void 0==e||null==e?c.default.createElement("ul",null):""===t||e&&0==e.length?c.default.createElement("ul",null):c.default.createElement("ul",{className:"autocomplete-menu menu--full-width-item menu--no-item-icon"},e.map(function(e,t){return this.renderMenuItem(e,t)}.bind(this)))}},{key:"render",value:function(){return c.default.createElement("div",{className:"globalcity-popup bwm-fullscreen-popup hide",id:"globalcity-popup"},c.default.createElement("div",{className:"globalcity-popup-data text-center"},c.default.createElement("div",{id:"globalcity-close-btn",className:"globalcity-close-btn position-abt pos-top10 pos-right10 bwmsprite cross-lg-lgt-grey cur-pointer",onClick:this.closeGlobalCityPopUpByButtonClick}),c.default.createElement("p",{className:"font20 margin-bottom5 text-capitalize"},"Please tell us your city"),c.default.createElement("p",{className:"text-light-grey margin-bottom5"},"This allows us to provide relevant content for you."),c.default.createElement("div",{className:"autocomplete-wrapper form-control-box margin-bottom20"},c.default.createElement(d.default,{value:this.state.value,items:this.state.cityList,inputProps:{placeholder:"Type to select city",id:"globalCityPopUp",className:"form-control padding-right30"},onChange:this.onChange,renderMenu:this.renderMenu,wrapperStyle:{width:"100%"}}),c.default.createElement("span",{id:"loaderGlobalCity",className:"fa fa-spinner fa-spin position-abt pos-right10 pos-top15 text-black",style:{display:"none"}}),c.default.createElement("span",{id:"error-icon",className:"bwmsprite error-icon hide"}),c.default.createElement("div",{id:"bw-blackbg-tooltip",className:"bw-blackbg-tooltip hide"},"No city found. Try a different search.")),c.default.createElement("div",null,c.default.createElement("button",{id:"btnGlobalCityPopup",className:"btn btn-orange btn-full-width font18",onClick:this.submitCity},"Confirm city"))),c.default.createElement("div",{className:"clear"}))}}]),t}(c.default.Component);e.exports=h},179:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(0),c=n(s),u=a(191),d=n(u),p=a(177),m=a(3),h=function(e){function t(e){l(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={status:p.globalSearchStatus.RESET,value:"",autocompleteList:[],recentSearchList:[],strippedValue:""},a.renderRecentSearchItems=a.renderRecentSearchItems.bind(a),a.renderAutocompleteItems=a.renderAutocompleteItems.bind(a),a.showAutocompleteList=a.showAutocompleteList.bind(a),a.showErrorMessage=a.showErrorMessage.bind(a),a.clickClearButton=a.clickClearButton.bind(a),a.getListByStatus=a.getListByStatus.bind(a),a.loaderStatus=a.loaderStatus.bind(a),a.afterfetch=a.afterfetch.bind(a),a.checkOnRoadLinkClick=a.checkOnRoadLinkClick.bind(a),a.resetListOnEmptyInput=a.resetListOnEmptyInput.bind(a),a.renderMenu=a.renderMenu.bind(a),a.renderMenuItem=a.renderMenuItem.bind(a),a.onChange=a.onChange.bind(a),a.onSelect=a.onSelect.bind(a),a.focusInput=a.focusInput.bind(a),a}return i(t,e),r(t,[{key:"componentDidMount",value:function(){try{this.focusInput()}catch(e){}}},{key:"focusInput",value:function(){document.getElementById("globalSearch").focus(),""==this.state.value.trim()&&this.resetListOnEmptyInput()}},{key:"showAutocompleteList",value:function(e){this.setState({status:p.globalSearchStatus.AUTOCOMPLETE,autocompleteList:e})}},{key:"showErrorMessage",value:function(){this.setState({status:p.globalSearchStatus.ERROR})}},{key:"onChange",value:function(){try{var e=document.getElementById("globalSearch").value;if(0==e.replace(/\s/g,"").length)return this.resetListOnEmptyInput(),void(0,p.hideElement)(document.getElementById("gs-text-clear"));this.setState({value:e,strippedValue:(0,p.getStrippedTerm)(e)}),(0,p.autocomplete)({year:"",recordCount:5,source:1,afterfetch:this.afterfetch,cache:p.globalSearchCache,loaderStatus:this.loaderStatus},e)}catch(e){}}},{key:"resetListOnEmptyInput",value:function(){var e=p.recentSearches.getRecentSearches();null!=e&&e.length>0?this.setState({value:"",strippedValue:"",status:p.globalSearchStatus.RECENTSEARCH,recentSearchList:e}):this.setState({value:"",strippedValue:"",status:p.globalSearchStatus.RESET})}},{key:"loaderStatus",value:function(e){e?((0,p.hideElement)(document.getElementById("loaderGlobalSearch")),document.getElementById("gs-text-clear").style.display="inline"):(0,p.showElement)(document.getElementById("loaderGlobalSearch"))}},{key:"clickClearButton",value:function(){this.resetListOnEmptyInput(),(0,p.hideElement)(document.getElementById("gs-text-clear")),this.focusInput()}},{key:"onSelect",value:function(e){var t=e.label+"_"+this.state.value,a=(0,m.GetCatForNav)();dataLayer.push({event:"Bikewale_all",cat:a,act:"Search_Keyword_Present_in_Autosuggest",lab:t}),this.setState({value:e.label,strippedValue:(0,p.getStrippedTerm)(e.label)}),(0,p.MakeModelRedirection)(this.state.value,e)}},{key:"afterfetch",value:function(e,t){if(void 0!=e&&e.length>0&&""!=t.trim())this.showAutocompleteList(e);else{this.setState({focusedMakeModel:null}),""!=t.trim()&&this.showErrorMessage();var a=this.state.value,n=(0,m.GetCatForNav)();dataLayer.push({event:"Bikewale_all",cat:n,act:"Search_Keyword_Not_Present_in_Autosuggest",lab:a})}}},{key:"checkOnRoadLinkClick",value:function(e,t){t.preventDefault(),(0,p.setDataForPriceQuotePopup)(t,e),(0,p.setPriceQuoteFlag)()}},{key:"renderRecentSearchItems",value:function(e){var t=null,a=e.name||"";return e.modelId>0&&(t="True"==e.futuristic?c.default.createElement("span",{className:"menu--right-align-label"},"coming soon"):"True"==e.isNew?c.default.createElement("a",{"data-pqSourceId":p.pqSourceId,"data-modelId":e.modelId,className:"getquotation menu--right-align-label text-blue",onClick:this.checkOnRoadLinkClick.bind(this,e)},"Check On-Road Price"):c.default.createElement("span",{className:"menu--right-align-label"},"discontinued")),c.default.createElement("li",{"data-makeid":e.makeId,"data-modelid":e.modelId,className:"autocomplete-menu--item",onClick:function(){this.onSelect(e)}.bind(this)},c.default.createElement("span",{className:"menu--item-icon bwmsprite history-icon"}),c.default.createElement("a",{className:"menu--item-label",href:"javascript:void(0)","data-href":"/m/"+e.makeMaskingName+"-bikes/"+e.modelMaskingName,rel:"nofollow"},a),t)}},{key:"renderAutocompleteItems",value:function(e,t){var a=null;return e.payload.modelId>0&&(a="True"==e.payload.futuristic?c.default.createElement("span",{className:"menu--right-align-label"},"coming soon"):"True"==e.payload.isNew?c.default.createElement("a",{href:"javascript:void(0)","data-pqSourceId":p.pqSourceId,"data-modelId":e.payload.modelId,className:"getquotation menu--right-align-label text-blue",onClick:this.checkOnRoadLinkClick.bind(this,e)},"Check On-Road Price"):c.default.createElement("span",{className:"menu--right-align-label"},"discontinued")),c.default.createElement("li",{className:"autocomplete-menu--item"+(0==t?" menu--item-focus":""),onClick:function(){this.onSelect(e)}.bind(this)},c.default.createElement("span",{className:"menu--item-icon bwmsprite search-icon"}),c.default.createElement("a",{className:"menu--item-label",dangerouslySetInnerHTML:{__html:(0,p.highlightText)(e.label,this.state.strippedValue)}}),a)}},{key:"getListByStatus",value:function(){return this.state.status==p.globalSearchStatus.RESET?[]:this.state.status==p.globalSearchStatus.ERROR?[]:this.state.status==p.globalSearchStatus.AUTOCOMPLETE?this.state.autocompleteList:this.state.status==p.globalSearchStatus.RECENTSEARCH?this.state.recentSearchList:[]}},{key:"shouldComponentUpdate",value:function(e,t){return"none"!=document.getElementById("global-search-popup").style.display||this.state.status!==t.status}},{key:"renderMenuItem",value:function(e,t){return this.state.status===p.globalSearchStatus.AUTOCOMPLETE?this.renderAutocompleteItems(e,t):this.state.status===p.globalSearchStatus.RECENTSEARCH?this.renderRecentSearchItems(e):void 0}},{key:"renderMenu",value:function(e,t){return this.state.status===p.globalSearchStatus.RESET?c.default.createElement("ul",null):this.state.status===p.globalSearchStatus.ERROR?c.default.createElement("ul",{className:"autocomplete-menu"},c.default.createElement("li",{className:"autocomplete-menu--item"},c.default.createElement("strong",null,"Oops! No suggestions found"),c.default.createElement("br",null),c.default.createElement("span",{className:"text-light-grey font12"},"Search by bike name e.g: Honda Activa"))):c.default.createElement("ul",{className:"autocomplete-menu"},e.map(function(e,t){return this.renderMenuItem(e,t)}.bind(this)))}},{key:"render",value:function(){var e="none";if(!(0,m.isServer)()){var t=document.getElementById("global-search-popup");e=t&&t.style?t.style.display:"none"}return c.default.createElement("div",{id:"global-search-popup",className:"global-search-popup",style:{display:e}},c.default.createElement("div",{className:"form-control-box"},c.default.createElement("span",{className:"back-arrow-box",id:"gs-close",onClick:p.closeGlobalSearchPopUp},c.default.createElement("span",{className:"bwmsprite back-long-arrow-left"})),c.default.createElement("span",{className:"cross-box hide",id:"gs-text-clear",onClick:this.clickClearButton},c.default.createElement("span",{className:"bwmsprite cross-md-dark-grey"})),c.default.createElement(d.default,{value:this.state.value,items:this.getListByStatus(),inputProps:{placeholder:"Search",id:"globalSearch",className:"form-control padding-right30"},onChange:this.onChange,renderMenu:this.renderMenu,wrapperStyle:{width:"100%"}}),c.default.createElement("span",{id:"loaderGlobalSearch",className:"fa fa-spinner fa-spin position-abt pos-right10 pos-top15 text-black",style:{display:"none",right:"35px",top:"13px"}}),c.default.createElement("ul",{id:"global-recent-searches",style:{position:"relative",margin:"0",textAlign:"left",height:"auto !important",background:"#fff"},className:"hide"})))}}]),t}(c.default.Component);e.exports=h},180:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(0),u=n(c),d=a(6),p=a(177),m=a(203),h=n(m),f=a(183),y=n(f),b=!1,g=function(e){function t(e){o(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={},a.showCitySelectionPopup=a.showCitySelectionPopup.bind(a),a.showAreaSelectionPopup=a.showAreaSelectionPopup.bind(a),a.closeCityAreaSelectionPopup=a.closeCityAreaSelectionPopup.bind(a),a.priceLoaderBtnClicked=a.priceLoaderBtnClicked.bind(a),a.initializePQ=a.initializePQ.bind(a),a.findCityById=a.findCityById.bind(a),a.findAreaById=a.findAreaById.bind(a),a.createMPQ=a.createMPQ.bind(a),a.closeOnRoadPricePopUp=a.closeOnRoadPricePopUp.bind(a),a.citySelect=a.citySelect.bind(a),a.areaSelect=a.areaSelect.bind(a),a.formPostDataString=a.formPostDataString.bind(a),a.resetPopup=a.resetPopup.bind(a),a}return r(t,e),s(t,[{key:"citySelect",value:function(e){var t=e.id,a="",n=this.state.IsPersistence;null==e||e.hasAreas?a="Loading areas for "+e.name:(a="Fetching on-road price for "+e.name,n=!1),this.setState({SelectedCity:e,SelectedCityId:t,SelectedArea:null,SelectedAreaId:0,BookingAreas:[],IsPersistence:n,LoadingText:a,state:p.popupState.areaPopupOpen}),e&&(e.hasAreas||e.id!=p.onCookieObj.PQCitySelectedId)&&(b=!1),this.closeCityAreaSelectionPopup()}},{key:"areaSelect",value:function(e){var t=(e.id,"");e.id!=p.onCookieObj.PQAreaSelectedId&&(b=!1,t="Fetching on-road price for "+e.name+", "+this.state.SelectedCity.name),this.setState({SelectedArea:e,SelectedAreaId:e.id,IsPersistence:!1,LoadingText:t,state:p.popupState.cityPopupOpen}),this.closeCityAreaSelectionPopup()}},{key:"closeOnRoadPricePopUp",value:function(){(0,p.hideElement)(document.getElementById("popupWrapper")),this.resetPopup(),window.history.back()}},{key:"showCitySelectionPopup",value:function(){(0,p.showElement)(document.getElementById("popupContent")),(0,p.showElement)(document.getElementById("bw-city-popup-box")),(0,p.openCityAreaSelectionPopup)(),this.setState({state:p.popupState.cityPopupOpen})}},{key:"closeCityAreaSelectionPopup",value:function(){(0,p.closeCityAreaSelectionPopup)()}},{key:"showAreaSelectionPopup",value:function(){(0,p.showElement)(document.getElementById("popupContent")),(0,p.showElement)(document.getElementById("bw-area-popup-box")),(0,p.openCityAreaSelectionPopup)(),this.setState({state:p.popupState.areaPopupOpen})}},{key:"priceLoaderBtnClicked",value:function(){this.setState({IsPersistence:!1}),this.initializePQ()}},{key:"findCityById",value:function(e,t){if(e&&e.length>0){var a=e.filter(function(e){return e.id==t});return a&&a.length>0?a[0]:null}return null}},{key:"findAreaById",value:function(e,t){if(e&&e.length>0){var a=e.filter(function(e){return e.id==t});return a&&a.length>0?a[0]:null}return null}},{key:"createMPQ",value:function(e){if(this.state.SelectedCityId&&this.state.SelectedModelId&&this.state.VersionId&&e)return btoa("CityId="+this.state.SelectedCityId+"&AreaId="+this.state.SelectedAreaId+"&PQId="+e+"&VersionId="+this.state.VersionId+"&DealerId="+this.state.DealerId)}},{key:"resetPopup",value:function(){(0,p.resetOnRoadPricePopup)()}},{key:"initializePQ",value:function(e){var t=this.state;if(null!=t.SelectedModelId&&t.SelectedModelId>0){var a={CityId:t.SelectedCityId,AreaId:t.SelectedAreaId,ModelId:t.SelectedModelId,ClientIP:"",SourceType:"2",VersionId:t.VersionId,pQLeadId:t.PageSourceId,deviceId:(0,p.getCookie)("BWC"),isPersistance:t.IsPersistance,refPQId:"undefined"!=typeof pqId?pqId:"",isReload:t.IsReload},n=new XMLHttpRequest;n.open("POST","/api/generatepq/"),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.setRequestHeader("utma",(0,p.getCookie)("__utma")),n.setRequestHeader("utmz",(0,p.getCookie)("_bwutmz")),n.onreadystatechange=function(){if(4==n.readyState&&200==n.status){var e=JSON.parse(n.responseText),t=this.state.SelectedCity,a=this.state.SelectedArea,l=this.state.SelectedAreaId,o=this.state.BookingCities,i=this.state.BookingAreas,r=this.state.HasAreas;if(e&&e.pqCities&&e.pqCities.length>0){var s=e.pqCities;if(null!=s&&s.length>0&&(o=s,r=!(null==this.state.SelectedCity||!this.state.SelectedCity.hasAreas),this.state.SelectedCityId>0)){t=this.findCityById(o,this.state.SelectedCityId);var c=e.pqAreas;null!=c&&c.length>0?(i=c,a=this.state.SelectedAreaId>0?findAreaById(i,this.state.SelectedAreaId):null):(i=[],a=null,l=0)}this.setState({SelectedCity:t,SelectedArea:a,SelectedAreaId:l,BookingCities:o,BookingAreas:i,HasAreas:r,LoadingText:""})}else if(null!=e.priceQuote){var u=e.priceQuote,d=(0,p.GetGlobalCityArea)()+", ";if((this.state.MakeName||this.state.ModelName)&&(d+=this.state.MakeName+","+this.state.ModelName+","),this.state.SelectedCityId>0&&this.state.SelectedCity&&this.state.SelectedCity.id>0){var m="Fetching on-road price for "+this.state.SelectedCity.name,h=this.state.SelectedCity.id+"_"+this.state.SelectedCity.name;this.state.SelectedArea&&u.isDealerAvailable&&(h+="_"+this.state.SelectedArea.id+"_"+this.state.SelectedArea.name,this.state.SelectedArea.name,this.state.SelectedCity.name),(this.state.SelectedCityId!=p.onCookieObj.PQCitySelectedId||this.state.SelectedAreaId>0&&u.isDealerAvailable)&&(0,p.SetCookieInDays)("location",h,365)}u.dealerId>0?(0,p.gtmCodeAppender)(this.state.PageCatId,"Dealer_PriceQuote_Success_Submit",d):(0,p.gtmCodeAppender)(this.state.PageCatId,"BW_PriceQuote_Success_Submit",d),this.state.DealerId>0&&e.qStr.length&&(e.qStr=this.createMPQ(e.priceQuote.quoteId)),this.state.IsReload||""==e.qStr?window.location.reload(!0):(this.resetPopup(),window.location.hash="",window.location.href="/m/pricequote/dealer/?MPQ="+e.qStr)}else{if(this.state.SelectedCityId>0&&this.state.SelectedCity&&this.state.SelectedCity.id>0){var h=(this.state.SelectedCity.name,this.state.SelectedCity.id+"_"+this.state.SelectedCity.name);this.state.SelectedArea&&this.state.SelectedArea.id>0&&(h+="_"+this.state.SelectedArea.id+"_"+this.state.SelectedArea.name,this.state.SelectedArea.name,this.state.SelectedCity.name),(this.state.state.SelectedCityId!=p.onCookieObj.PQCitySelectedId||this.state.SelectedAreaId>0)&&(0,p.SetCookieInDays)("location",h,365),this.setState({LoadingText:m})}window.location.reload(!0)}}}.bind(this),n.send(this.formPostDataString(a))}}},{key:"formPostDataString",value:function(e){for(var t="",a=Object.keys(e),n=0;n<a.length;n++)t+=a[n]+"=",t+=(null==e[a[n]]||void 0==e[a[n]]?"":e[a[n]])+"&";return t}},{key:"componentWillReceiveProps",value:function(e){try{null==this.state.SelectedModelId||this.state.SelectedModelId<=0||null!=this.state.SelectedModelId&&null!=e.onRoadPriceDataObject&&this.state.SelectedModelId!=e.onRoadPriceDataObject.SelectedModelId?(b=!1,this.setState(e.onRoadPriceDataObject)):null!=this.props.location&&void 0!=this.props.location&&null!=e.location&&void 0!=e.location&&"#onRoadPrice"==this.props.location.hash&&""==e.location.hash&&(b=!1,this.setState({SelectedModelId:0}))}catch(e){}}},{key:"render",value:function(){var e,t=this.state;if(!t)return null;!b&&null!=t.SelectedModelId&&t.SelectedModelId>0&&(b=!0,this.initializePQ());var a=null!=t.SelectedCity&&""!=t.SelectedCity.name?t.SelectedCity.name:"Select City",n=null!=t.SelectedArea&&""!=t.SelectedArea.name?t.SelectedArea.name:"Select Area",o=t.SelectedCityId>0&&t.IsPersistence&&(!t.HasAreas||t.SelectedAreaId>0)?"":"hide",i=this.state.state==p.popupState.areaPopupOpen?u.default.createElement(h.default,{completeCityAreaList:t.BookingAreas,type:"area",areaSelect:this.areaSelect}):u.default.createElement(h.default,{completeCityAreaList:t.BookingCities,type:"city",citySelect:this.citySelect}),r=u.default.createElement("div",null,u.default.createElement("div",{className:"city-area-banner"}),u.default.createElement("div",{className:"popup-inner-container"},u.default.createElement("div",(e={id:"onroad-price-close-btn",className:"bwmsprite onroad-price-close-btn close-btn position-abt pos-top10 pos-right10 cur-pointer"},l(e,"id","onroad-price-close-btn"),l(e,"onClick",this.closeOnRoadPricePopUp),e)),u.default.createElement("div",{id:"popupHeading",className:"content-inner-block-20"},u.default.createElement("p",{className:"font18 margin-bottom5 text-capitalize"},"Please Tell Us Your Location"),u.default.createElement("div",{className:"text-light-grey margin-bottom5"},u.default.createElement("span",{className:"red"},"*"),"Get on-road prices by just sharing your location!"),u.default.createElement("div",{id:"citySelection",className:"form-control text-left input-sm position-rel margin-bottom10",onClick:this.showCitySelectionPopup},u.default.createElement("div",{className:"selected-city "},a),u.default.createElement("span",{className:"bwmsprite fa-angle-right position-abt pos-top10 pos-right10"})),u.default.createElement("div",{id:"areaSelection",className:"form-control text-left input-sm position-rel margin-bottom10 "+(null!=t.BookingAreas&&0==t.BookingAreas.length?"hide":""),onClick:this.showAreaSelectionPopup},u.default.createElement("div",{className:"selected-area"},n),u.default.createElement("span",{className:"bwmsprite fa-angle-right position-abt pos-top10 pos-right10"})),u.default.createElement("div",{id:"btnPriceLoader",className:"center-align margin-top20 text-center position-rel"},u.default.createElement("a",{href:"javascript:void(0)",id:"btnDealerPricePopup",className:"btn btn-orange btn-full-width font18 "+o,onClick:this.priceLoaderBtnClicked,rel:"nofollow"},"Show on-road price")),u.default.createElement("div",{id:"popupContent",className:"bwm-city-area-popup-wrapper"},i)))),s=u.default.createElement("div",{id:"popup-loader-container",style:{display:""===this.state.LoadingText?"none":"block"}},u.default.createElement(y.default,null),u.default.createElement("div",{id:"popup-loader-text"},u.default.createElement("p",{className:"font14"},this.state.LoadingText)));return u.default.createElement("div",{className:"bw-city-popup bwm-fullscreen-popup bw-popup-sm text-center hide",id:"popupWrapper"},r,s)}}]),t}(u.default.Component);e.exports=(0,d.withRouter)(g)},183:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),l=function(e){return e&&e.__esModule?e:{default:e}}(n),o=function(){return l.default.createElement("div",{className:"loader-content loader-relative"},l.default.createElement("span",{className:"loader"}))};t.default=o},191:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),s=function(e){return e&&e.__esModule?e:{default:e}}(r),c=function(e){function t(e){return n(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return o(t,e),i(t,[{key:"render",value:function(){var e=this,t={};return this.props.inputProps&&(t=this.props.inputProps),s.default.createElement("div",{style:this.props.wrapperStyle},s.default.createElement("input",{type:"text",id:t.id?t.id:"",placeholder:t.placeholder?t.placeholder:"",className:t.className?t.className:"",value:this.props.value?this.props.value:"",onchange:function(){"function"==typeof e.props.onChange&&e.props.onChange()}}),"function"==typeof this.props.renderMenu?this.props.renderMenu(this.props.items,this.props.value):null)}}]),t}(s.default.Component);e.exports=c},203:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(0),c=n(s),u=a(191),d=n(u),p=a(177),m=function(e){function t(e){l(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={type:"city",completeCityAreaList:[],displayedCityAreaList:[],value:""},a.filterData=a.filterData.bind(a),a.renderMenuItem=a.renderMenuItem.bind(a),a.renderMenu=a.renderMenu.bind(a),a.onChange=a.onChange.bind(a),a.onSelect=a.onSelect.bind(a),a}return i(t,e),r(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({completeCityAreaList:e.completeCityAreaList,displayedCityAreaList:e.completeCityAreaList,type:e.type,value:""})}},{key:"onSelect",value:function(e){null!==this.props.citySelect&&void 0!==this.props.citySelect&&"function"==typeof this.props.citySelect?this.props.citySelect(e):null!==this.props.areaSelect&&void 0!==this.props.areaSelect&&"function"==typeof this.props.areaSelect&&this.props.areaSelect(e),document.getElementById("popup"+("area"==this.state.type?"Area":"City")+"Input").blur()}},{key:"onChange",value:function(){try{var e=document.getElementById("popup"+("area"==this.state.type?"Area":"City")+"Input").value,t=this.filterData(this.state.completeCityAreaList,e);this.setState({value:e,displayedCityAreaList:t})}catch(e){}}},{key:"filterData",value:function(e,t){if(!(t&&t.length>0))return e;var a=new RegExp(t,"i");return e.filter(function(e){if(a.test(e.name))return e})}},{key:"renderMenuItem",value:function(e){return c.default.createElement("li",{id:e.id,onClick:function(){this.onSelect(e)}.bind(this)},e.name)}},{key:"renderMenu",value:function(e,t){return void 0==t||null==t||void 0==e||null==e?c.default.createElement("ul",null):c.default.createElement("ul",{id:"popup"+("area"==this.state.type?"Area":"City")+"List"},e.map(function(e){return this.renderMenuItem(e)}.bind(this)))}},{key:"render",value:function(){return null==this.state.type||""==this.state.type?null:c.default.createElement("div",{id:"bw-"+this.state.type+"-popup-box",className:"bw-"+this.state.type+"-popup-box bwm-city-area-box "+this.state.type+"-list-container form-control-box text-left"},c.default.createElement("div",{className:"user-input-box"},c.default.createElement("span",{className:"back-arrow-box",onClick:p.closeCityAreaSelectionPopup},c.default.createElement("span",{className:"bwmsprite back-long-arrow-left"})),c.default.createElement(d.default,{value:this.state.value,items:this.state.displayedCityAreaList,inputProps:{className:"form-control padding-right40 ",placeholder:"Type to select "+this.state.type,id:"popup"+("area"==this.state.type?"Area":"City")+"Input"},onChange:this.onChange,renderMenu:this.renderMenu,wrapperStyle:{position:"relative"}})))}}]),t}(c.default.Component);e.exports=m}});