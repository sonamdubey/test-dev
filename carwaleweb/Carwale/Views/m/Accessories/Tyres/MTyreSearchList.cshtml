@model Carwale.DTOs.Accessories.Tyres.TyresDTO
@{
    if (Model != null && Model.CarVersions != null && Model.CarVersions.Count > 0)
    {
        ViewBag.Title = string.Format("{0} {1} Tyre Size, {2} Tyre Price ", Model.CarVersions[0].MakeName, Model.CarVersions[0].DisplayName, Model.CarVersions[0].DisplayName);
        ViewBag.Description = string.Format("Best Car Tyre for {0} {1}. Checkout {2} Tyre Price and Size in India at CarWale.", Model.CarVersions[0].MakeName, Model.CarVersions[0].DisplayName, Model.CarVersions[0].DisplayName);

        ViewBag.DefineAdSlots =
            @"<script type='text/javascript'>            
        googletag.cmd.push(function () {        
        googletag.defineSlot('/1017752/CarWale_Mobile_Tyres_Crad_175x340', [175, 340], 'div-gpt-ad-1520418163044-0').addService(googletag.pubads()).setCollapseEmptyDiv(true);     
        googletag.pubads().setTargeting('Model', '" + Model.CarVersions[0].DisplayName + @"');
        googletag.pubads().setTargeting('Make', '" + Model.CarVersions[0].MakeName + @"');        
        googletag.pubads().collapseEmptyDivs();
        googletag.pubads().enableSingleRequest();
        googletag.enableServices();
        });</script>";
    }
    string queryString = string.Empty;
    foreach (var queryStringKey in Request.QueryString.AllKeys)
    {
        if (queryStringKey.ToLower() != "versionid")
        {
            queryString += String.Format("{0}={1}&", queryStringKey, Request.QueryString[queryStringKey]);
        }
    }
    int lastIndexOfAmp = queryString.LastIndexOf("&");
    if (lastIndexOfAmp != -1)
    {
        queryString = queryString.Substring(0, lastIndexOfAmp);
    }
    ViewBag.Canonical = "https://www.carwale.com" + Request.RawUrl.Replace("/m/","/").Split('?')[0] + "?" + queryString;
    ViewBag.landingPage = true;
    ViewBag.Responsive = true;
    ViewBag.CustomCss = "~/Views/StaticPartials/m/TyreSection/MTyreListSectionCss.cshtml";
    Layout = "~/views/shared/m/_MLayoutV2.cshtml";
}
@section Styles{
    <noscript class="deferred-styles"><link rel="stylesheet" href="/static/m/css/tyre-section.css" type="text/css"></noscript>
}

<div class="blackOut-window"></div>
<div class="rounded-corner2 hide" id="tyre-info-popup">
    <div class="globalcity-popup-data text-center">
        <div class="tyre-info-close globalcity-close-btn position-abt pos-top10 pos-right10 cwmsprite cross-lg-lgt-grey cur-pointer"></div>
        <div class="text-center">
            <h3 class="text-black">Tyre Size</h3>
            <img class="tyre-info-img" src="https://imgd.aeplcdn.com/0x0/cw/es/tyres/tyre-info2.jpg?q=85" alt="Tyre Size Information" title="Tyre Size Information">
        </div>
    </div>
</div>
@if (Model != null && Model.CarVersions != null && Model.CarVersions.Count > 0)
{
    <section class="container padding-top5">
        <div class="grid-12 bg-white alpha omega">
            <div class="margin-top5 margin-bottom10 padding-left10 padding-right10">
                <a href="/m/">Home</a> &rsaquo;
                <a href='/m/tyres/'>Tyres</a> &rsaquo;
                <span class="lightgray">@(Model.CarVersions[0].DisplayName)</span>
            </div>
            <div id="carData">
                <div class="margin-bottom10 padding-left10 padding-right10"><span class="text-black font13">We found <span id="spnTyreCount"></span> matching tyres for</span></div>

                <div class="tyre-model-view padding-left10 padding-right10">
                    <div class="car-image">
                        <img src="@(Model.CarVersions[0].HostUrl + Carwale.Utility.ImageSizes._110X61 + (String.IsNullOrEmpty(Model.CarVersions[0].OriginalImgPath) ? (Model.CarVersions.Count > 1 && !String.IsNullOrEmpty(Model.CarVersions[1].OriginalImgPath)? Model.CarVersions[1].OriginalImgPath : string.Empty) : Model.CarVersions[0].OriginalImgPath))">
                    </div>
                    <div class="car-desc">
                        <h1 class="car-name">@Model.CarVersions[0].MakeName @(Model.CarVersions[0].DisplayName)<span class="car-year">(@ViewBag.Year)</span></h1>
                        <p id="target-version-popup" class="popup-selected-value">Select version</p>

                        <div class="car-tyre-size hide"><span id="spnVersionTyreSize"></span> <span id="tyre-info" class="info-icon deals-car-sprite inline-block" title=""></span></div>
                    </div>
                </div>
            </div>

            <div class="not-found-section text-center hide" id="noDataFound" makeName="@Model.CarVersions[0].MakeName" modelName="@Model.CarVersions[0].DisplayName"></div>
        </div>
        <div class="clear"></div>
    </section>

    <div id="version-selection-popup" class="modal-popup-container">
        <div class="popup-header">Select version <span class="popup-cross"><span class="cwmsprite cross-md-white"></span></span></div>
        <div class="popup-body">
            <ul class="popup-list">
                @foreach (var item in Model.CarVersions)
                {
                    if (Model.CarVersions.Count > 1)
                    {
                        <li data-value="@item.ModelId" class="list-group-label">@item.ModelName</li>
                    }
                    foreach (var versionData in item.Versions)
                    {
                        <li data-value="@versionData.Id">@versionData.Name</li>
                    }
                }
            </ul>
        </div>
    </div>
    <div class="modal-background"></div>
}
else
{
    <div class="not-found-section text-center hide" id="noDataFound">
        <h1 class="text-black font18 margin-bottom10">Oops!</h1>
        <p class="font14 text-bold">Sorry we couldn't find any tyre for your Car.</p>
        <img src="https://imgd.aeplcdn.com/0x0/cw/es/tyres/bg.jpg" alt="No Tyres Found" title="No Tyres Found">
    </div>
}
<section class="container">
    <div class="grid-12 alpha omega bg-white" id="tyresList">
        <div class="m-loading-popup">
            <span class="m-defaultAlert-window"></span>
            <span class="m-loading-icon"></span>
            <div class="clear"></div>
        </div>
        <ul class="tyre-list border-solid-top"></ul>
        <div class="clear"></div>
    </div>
    <div class="clear"></div>
</section>

@section Scripts{
    <script type="text/javascript" src="/static/m/js/tyres-list.js" defer></script>
    }