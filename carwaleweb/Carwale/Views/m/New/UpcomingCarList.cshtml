@model Carwale.DTOs.NewCars.UpcomingCarsDTO
@using Carwale.Utility;
@{
    Layout = "~/views/shared/m/_MLayoutV3.cshtml";
    ViewBag.AdPath = System.Configuration.ConfigurationManager.AppSettings["adPathMobile"] ?? string.Empty;
    ViewBag.AdId = "1419227721763"; 
    ViewBag.DefineAdSlots = @"<script type='text/javascript'>
		googletag.cmd.push(function () {
			 googletag.defineSlot('/1017752/" + ViewBag.AdPath + @"CarWale_Mobile_ROS_320x50', [[320, 50], [320, 100], [320, 150]], 'div-gpt-ad-" + ViewBag.AdId + @"-0').addService(googletag.pubads());
			 googletag.defineSlot('/1017752/" + ViewBag.adPath + @"CarWale_Mobile_ROS_300x250', [300, 250], 'div-gpt-ad-" + ViewBag.AdId + @"-9').addService(googletag.pubads());
			 googletag.pubads().setTargeting('City', '" + MobileWeb.Common.CookiesCustomers.MasterCity.ToString() + @"');
			 googletag.pubads().collapseEmptyDivs(true);
			 googletag.pubads().enableSingleRequest();
			 googletag.enableServices();
		});
	</script>";
}
@section atfcss{
	<link rel="stylesheet" href="~/static/sass/m/css/upcomingcarlist.css" type="text/css" inline>
}
@section btfcss{
	<link rel="stylesheet" href="/static/sass/m/css/globalcitypopup.css" type="text/css">
	<link rel="stylesheet" href="/static/sass/m/css/globalcarsearch.css" type="text/css">
	<link rel="stylesheet" href="/static/sass/m/css/nav.css" type="text/css">
	<link rel="stylesheet" href="/static/sass/m/css/footer.css" type="text/css">
}
@section MetaData{
	@{Html.RenderAction("MetaData", "ModelComponent", Model.MetaData);}
}
<aside id="divAdBar">
	@{Html.RenderPartial("~/Views/Shared/ads/m/_GoogleAd_Mobile_ROS_320x50.cshtml");}
</aside>
<main class="container">
	<div class="grid-12">
		@{ bool isMakePage = Model.MakeId > 0 ;}
        <section>
            @if (Model.TotalPages > 0)
            {	
			<h1 class="margin-bottom10 m-special-skin-text">@string.Format("Upcoming {0}{1}", (isMakePage ? Model.MakeName + " Car" : "Car"), (Model.TotalPages > 0 && Model.UpcomingCarModels[0].RecordCount > 1 ? "s" : string.Empty))</h1>
			<ul>
				@foreach (var item in Model.UpcomingCarModels)
                {
					<li>
						<a class="normal" href="@ManageCarUrl.CreateModelUrl(item.MakeName,item.MaskingName)">
							<div class="content-inner-block-10 content-box-shadow margin-bottom10 text-black grid-12">
								<div class="grid-5"><img class="margin-right10" alt="@string.Format("{0} {1}", item.MakeName, item.ModelName)" title="@string.Format("{0} {1}", item.MakeName, item.ModelName)" src='@string.Format("{0}{1}{2}",CWConfiguration._imgHostUrl,ImageSizes._110X61, item.Image.ImagePath != null ? item.Image.ImagePath : string.Empty)'></div>
								<div class="grid-7">
									<div><b>@string.Format("{0} {1}  ", item.MakeName, item.ModelName)</b><span class="arr-small">&raquo;</span></div>
									<div>When to expect</div>
									<div>@item.ExpectedLaunch</div>
									<div>Estimated price</div>
									<div>₹ @(item.Price.MinPrice < 1 ? "N/A" : Carwale.UI.Common.FormatPrice.GetFormattedPriceV2(item.Price.MinPrice.ToString(), item.Price.MaxPrice.ToString()))</div>
								</div>
							</div>
						</a>
					</li>
                }
			</ul>
        }
        else
        {
            <div class="alert moz-round" id="alertObj" >
                CarWale doesn't have information for upcoming cars from this manufacturer at this point. Please check again later.
            </div>
        }
		</section>
        <div class="clear"></div>
            @{
                bool sort = Model.Sort > 0;
                string prefix = Model.MakeId > 0 ? string.Format("{0}-cars/upcoming", Format.FormatURL(Model.MakeName)) : "upcoming-cars";
                string urlTemplate = "/m/" + prefix + "/" + (sort ? string.Format("sort/{0}/ ", Model.Sort) : string.Empty) + "page/{0}/";
            }
            @Helpers.GetPagination(urlTemplate, Model.PageNo, Model.TotalPages, 3)
            <br>
        </div>
	<div class="clear"></div>
</main>
<div class="clear"></div>
<aside id="divBottomAdBar" class="ad-div">
	<div id='div-gpt-ad-@ViewBag.AdId-9' class="text-center margin-top10 margin-bottom20">
		<script type='text/javascript'>
			googletag.cmd.push(function () { googletag.display('div-gpt-ad-@ViewBag.AdId-9'); });
		</script>
	</div>
</aside>
<div id="br-cr" class="margin-left10">
    <ul class="breadcrumb m-special-skin-text">
        <li><a href="/m/" class="normal">Home</a> &rsaquo;</li>
        @if (isMakePage)
        {
            <li><a href="@string.Format("/m/{0}-cars/",Format.FormatURL(Model.MakeName))" class="normal">@Model.MakeName</a> &rsaquo;</li>
        }
        else
        {
            <li><a href="/m/new/" class="normal">New Cars</a> &rsaquo;</li>
        }
        <li><span class="lightgray">Upcoming Cars</span></li>
    </ul>
</div>