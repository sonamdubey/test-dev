@model Carwale.Entity.DealsInquiryDetail
@using Carwale.UI.Common;
@using Carwale.Utility;
@{
    ViewBag.Title = "CarWale Advantage -" + @ViewBag.StockDetails.Make.MakeName + " " + @ViewBag.StockDetails.Model.ModelName + " " + "Booking";
    ViewBag.Description = "";
    ViewBag.PageTag = "mA-2";
    ViewBag.Canonical = "https://www.carwale.com" + Request.ServerVariables["HTTP_X_REWRITE_URL"].ToString().Replace("/m/", "/");
    ViewBag.adPath = System.Configuration.ConfigurationManager.AppSettings["adPathMobile"];
    ViewBag.CallSlugDisplay = true;
    ViewBag.CustomCss = "~/Views/StaticPartials/m/Deals/MDealsCss.cshtml";
    ViewBag.CustomJs = "~/Views/StaticPartials/m/Deals/MDealsScript.cshtml";   //"~/Views/StaticPartials/m/Deals/MDealsScriptBooking.cshtml";
    Layout = "~/views/shared/m/_MLayout.cshtml";
}

<div class="clear"></div>
<section class="container">
    <div id="detailsTabContainer" class="booking-tabs margin-top20 hide">
        <ul class="margin-bottom20">
            <li class="first">
                <div id="carDetailsTab" class="details-tabs active-tab" data-tabs="carDetails">
                    <div class="details-icon-wrap">
                        <span class="deals-car-sprite car-icon"></span>
                        <span class="iconTtl">Car Details</span>
                    </div>
                </div>
            </li>
            <li class="middle">
                <div id="personalDetailsTab" class="details-tabs disabled-tab" data-tabs="personalDetails">
                    <div class="details-icon-wrap">
                        <span class="deals-car-sprite personal-icon"></span>
                        <span class="iconTtl">Personal Details</span>
                    </div>
                </div>
            </li>
            <li class="last">
                <div id="payDetailsTab" class="details-tabs disabled-tab" data-tabs="payDetails">
                    <div class="details-icon-wrap">
                        <span class="deals-car-sprite payment-icon"></span>
                        <span class="iconTtl">Payment</span>
                    </div>
                </div>
            </li>
        </ul>
    </div>
    <!-- /detailsTabContainer -->

    <div class="grid-12">
        <h1 class="font18 text-grey text-bold padding-top10 padding-bottom10">Final Offer - Reserve @ViewBag.StockDetails.Make.MakeName @Format.FilterModelName(ViewBag.StockDetails.Model.ModelName) for&nbsp;₹ @Format.FormatNumericCommaSep(System.Configuration.ConfigurationManager.AppSettings["AgedCarBlockingAmount"])</h1>
        <div class="container margin-bottom10 bg-white position-rel grid-12 content-inner-block-15">
            <!-- Aged Car Model Section Code Starts Here -->
            <div class="agedcar-model-section">

                <div id="carDetails">
                    <div class="agedcar-model-title">
                        <h1 class="font16 text-bold text-black">
                            <span>@ViewBag.StockDetails.Make.MakeName @Format.FilterModelName(ViewBag.StockDetails.Model.ModelName)</span>
                            <span>@ViewBag.StockDetails.Version.Name</span><br />
                        </h1>
                    </div>
                    <div class="model-car-image text-center clear">
                        <img class="car-pic" src="@Carwale.Utility.ImageSizes.CreateImageUrl(@ViewBag.StockDetails.CarImageDetails.HostUrl, Carwale.Utility.ImageSizes._310X174, @ViewBag.StockDetails.CarImageDetails.OriginalImgPath)" alt="" title="" />
                    </div>
                    <div class="clear text-center">
                        <span>
                            <span class="color-code-circle-sm alpha omega" style="background:#@ViewBag.stockdetails.Color.HexCode"></span>
                            <span class="font14 text-black padding-left5 omega">@ViewBag.StockDetails.Color.ColorName<span class="font16">,</span></span>
                        </span>
                        <span class="font14 text-black valign-middle margin-left5">@ViewBag.StockDetails.ManufacturingYear</span>
                        <span class="font14 text-black valign-middle">Manufactured</span>
                    </div>
                    <p class="margin-top10 text-center">Sold by authorised <b>@ViewBag.StockDetails.Make.MakeName</b> dealer. Below price is for <b>@ViewBag.StockDetails.City.CityName</b>.</p>
                    @if (ViewBag.StockDetails.BreakUpList != null)
                    {
                        <div class="margin-top20">
                            @foreach (var car in ViewBag.StockDetails.BreakUpList)
                            {
                                if (car.Key == "Additional Comments")
                                {
                                    <div class="grid-12 alpha padding-right5 padding-bottom5">
                                        <span class="font12 text-black"></span> @car.Value
                                    </div>
                                    <div class="clear"></div>
                                }
                                else
                                {
                                    <div class="grid-7 alpha padding-bottom10"><span class="font14 text-light-grey">@car.Key:</span></div>
                                    <div class="grid-3 alpha padding-right5 padding-bottom10">
                                        <span class="font12 text-black "><span class="text-grey">₹ </span>@car.Value</span>
                                    </div>
                                    <div class="clear"></div>
                                }
                            }
                            <div class="grid-12 alpha omega"><hr></div>
                        </div>
                    }

                    <div class="booking-tabular-data margin-top20">
                        <div class="grid-12 alpha omega margin-bottom10">
                            <div class="grid-7 alpha"><span class="font14 text-light-grey">On Road Price:</span></div>
                            <div class="grid-5 alpha padding-right5">
                                <span class="font14 text-black text-bold">₹ @Carwale.Utility.Format.FormatNumericCommaSep(ViewBag.StockDetails.OnRoadPrice.ToString())</span>
                            </div>
                        </div>
                        @if (CustomParser.parseIntObject(ViewBag.StockDetails.Savings) > 0) { 
                        <div class="grid-12 alpha omega margin-bottom10">
                            <div class="grid-7 alpha"><span class="font14 text-light-grey">Your savings:</span></div>
                            <div class="grid-5 alpha padding-right5">
                                <span class="font14 text-green text-bold">₹ @Carwale.Utility.Format.FormatNumericCommaSep(ViewBag.StockDetails.Savings.ToString())</span>
                            </div>
                        </div>
                        }
                        <div class="grid-12 alpha omega margin-bottom10">
                            <div class="grid-7 alpha"><span class="font14 text-light-grey final-price-text">Offer Price:</span></div>
                            <div class="grid-5 alpha padding-right5">
                                <div class="font20 text-black text-bold">
                                    ₹ <span class="inline-block">@Carwale.Utility.Format.FormatNumericCommaSep(ViewBag.StockDetails.OfferPrice.ToString())</span>
                                </div>
                                @if ((ViewBag.StockDetails.StockCount == 1))
                                {
                                    <span class="text-red font14">(Only @ViewBag.StockDetails.StockCount car left)</span>
                                }
                                else if ((ViewBag.StockDetails.StockCount > 1) && (ViewBag.StockDetails.StockCount <= 3))
                                {
                                    <span class="text-red font14">(Only @ViewBag.StockDetails.StockCount cars left)</span>
                                }
                            </div>
                        </div>
                        <div class="grid-12 margin-bottom20 alpha omega">
                            <div class="grid-7 alpha"><span class="font14 text-light-grey">Booking Amount:</span></div>
                            <div class="grid-5 alpha padding-right5">
                                <span class="font14 text-black text-bold">₹ @Format.FormatNumericCommaSep(System.Configuration.ConfigurationManager.AppSettings["AgedCarBlockingAmount"])</span><br />
                            </div>
                            <div class="clear"></div>
                            <span class="font13 text-light-grey margin-top5 show">This amount will be adjusted against your final payment.</span>
                        </div>
                        <div class="clear"></div>
                    </div>

                    <div class="clear"></div>

                    @*@if ((ViewBag.StockDetails.Offers != null) && (ViewBag.StockDetails.OfferValue != 0))
                    {
                        <div class="margin-bottom5">
                            <span class="font14 text-light-grey">Additional offers worth </span>₹<span class="font14 text-bold"> @Carwale.Utility.Format.FormatNumericCommaSep(ViewBag.StockDetails.OfferValue.ToString())</span>
                        </div>
                    }*@
                    @if (ViewBag.StockDetails.OfferList != null && ViewBag.StockDetails.OfferList.Count > 0)
                    {
                        <div class="offer-details-slab leftfloat position-rel">
                            @foreach (var car in ViewBag.StockDetails.OfferList)
                            {
                                <div class="content-inner-block-10">
                                    <ul class="offerUlCont">
                                        <li>
                                            <span class="deals-car-sprite  @car.Key"></span>
                                            <span class="offerUl-text">
                                                <span class="offerUl-text-head">@car.Value</span>
                                            </span>
                                        </li>
                                    </ul>
                                </div>
                            }
                        </div>
                        <div class="clear"></div>
                    }

                    else if ((ViewBag.StockDetails.Offers) != null && (ViewBag.StockDetails.Offers) != "")
                    {
                        <div class="offer-details-slab position-rel">
                           <div class="offers-title font11 text-uppercase">
                                <span class="offers-top-shadow"></span>
                                <span class="offers-text text-white">Offers</span>
                                <span class="offers-right-ribbon">
                                    <span class="ribbon top"></span>
                                    <span class="ribbon bottom"></span>
                                </span>
                            </div>
                            <div class="content-inner-block-10">@ViewBag.StockDetails.Offers</div>
                            </div>
                        <div class="clear"></div>
                    }
                    @if (!String.IsNullOrEmpty(ViewBag.StockDetails.TermsConditions))
                    { 
                        <p class="margin-top5">@ViewBag.StockDetails.TermsConditions</p>
                    }
                    <div class="clear"></div>
                @using (Html.BeginForm(null, null, FormMethod.Post, new { @action = "/m/deals/initpayment/" + ViewBag.StockId + "/?cityId=" + ViewBag.StockDetails.City.CityId }))
                {
                    <div class="personal-details margin-top15">
                        <p class="font16 text-bold padding-bottom15">Confirm Personal details</p>
                        <div class="personal-details-form font14">
                            <div class="customerDetails position-rel">
                                @Html.TextBoxFor(Model => Model.CustomerName, new
                                    {
                                        @class = "form-control padding-bottom5 margin-bottom20",
                                        data_val_required = "Please enter Name",
                                        id = "personName",
                                        type = "textbox",
                                        Value = Request.Cookies["_CustomerName"] != null ? Request.Cookies["_CustomerName"].Value : "",
                                        placeholder = "Name",
                                        maxlength = 50
                                    })
                                <span class="cwmsprite error-icon hide"></span>
                                <div class="cw-blackbg-tooltip hide">Please enter Name</div>
                            </div>
                            <div class="customerDetails position-rel">
                                @Html.TextBoxFor(Model => Model.CustomerEmail, new
                                    {
                                        @class = "form-control padding-bottom5 margin-bottom20",
                                        data_val_required = "Please enter email id",
                                        id = "personEmail",
                                        type = "textbox",
                                        Value = Request.Cookies["_CustEmail"] != null ? Request.Cookies["_CustEmail"].Value : "",
                                        placeholder = "Email",
                                        maxlength = 100
                                    })
                                <span class="cwmsprite error-icon hide"></span>
                                <div class="cw-blackbg-tooltip hide">Please enter email id</div>
                            </div>
                            <div class="customerDetails position-rel">
                                @Html.TextBoxFor(Model => Model.CustomerMobile, new
                                    {
                                        @class = "form-control padding-bottom5 phone-call",
                                        data_val_required = "Please enter mobile number",
                                        id = "personMob",
                                        type = "tel",
                                        @Value = Request.Cookies["_CustMobile"] != null ? Request.Cookies["_CustMobile"].Value : "",
                                        placeholder = "Mobile No.",
                                        maxlength = 10
                                    })
                                <span class="cwmsprite error-icon hide"></span>
                                <div class="cw-blackbg-tooltip hide">Please enter mobile number</div>
                            </div>
                        </div>
                        <p>Confirmation will be sent on above email id and phone number</p>
                    <div class="margin-top20 font11">
                        <span>By proceeding, you agree to CarWale Advantage <a href="/visitoragreement.aspx" target="_blank">visitor agreement</a> , <a href="/privacypolicy.aspx" target="_blank">privacy policy</a>  and <a href="/m/carwaleAdvantageTermsConditions.aspx" target="_blank">Terms and conditions</a>.</span>
                    </div>
                    @if (!ViewBag.StockDetails.PriceUpdated)
                    {
                        <div class="margin-top20 font15">
                            <span>@ViewBag.StockDetails.DisclaimerText</span>
                        </div>
                    }
                </div>
                <div class="clear"></div>
                <div class="container aged-car-btn-section content-inner-block-20 padding-bottom10 padding-top10 text-center" id="divBookButton">
                    <button class="btn btn-orange text-uppercase btn-xs font14" id="payBtn">Proceed to Pay <span class="payment-rs-icon">₹</span> @Format.FormatNumericCommaSep(System.Configuration.ConfigurationManager.AppSettings["AgedCarBlockingAmount"])</button>
                    <a class="btn btn-green btn-xs btn-width text-uppercase font14" id="callUsBtn" href="tel:@System.Configuration.ConfigurationManager.AppSettings["CarwaleAdvantageMaskingNumber"]"><span class="fa fa-phone margin-right5"></span> CALL US</a>
                    <div class="clear"></div>
                    <span class="font13 text-white position-rel pos-top3 text-bold">(100% refund, no questions asked)</span>
                </div>
            }
            </div>

            <div class="clear"></div>
        </div>
    </div>

    <div class="clear"></div>
</section>
<div class="clear"></div>
<!-- How it Works Slug Starts-->
<section class="container margin-bottom20">
    <h3 class="text-uppercase text-center margin-top30 margin-bottom10 font18 text-black">3 Easy steps to own your dream car!</h3>
    <div class="grid-12">
        <div class="content-box-shadow rounded-corner2 margin-top5 bg-white">
            <div class="advantage-work-slug">
                <div class="work-steps">
                    <h2 class="how-itwork-title font16 text-bold"><span>1.</span> Reserve your car online</h2>
                    <p class="font13">Just pay online booking amount of <span class="margin-left5">₹ </span>@Format.FormatNumericCommaSep(System.Configuration.ConfigurationManager.AppSettings["AgedCarBlockingAmount"]) and reserve the car</p>
                </div>
                <div class="work-steps">
                    <h2 class="how-itwork-title font16 text-bold"><span>2.</span> Visit dealership</h2>
                    <p class="font13">Take a test drive. Provide documents & make remaining payment.</p>
                </div>
                <div class="work-steps">
                    <h2 class="how-itwork-title font16 text-bold"><span>3.</span> Get delivery of car</h2>
                    <p class="font13">Drive home in your dream car</p>
                </div>
                <div class="padding-bottom20 text-center padding-left10 padding-right10">
                    <p class="text-grey font16 text-bold">100% Moneyback Guarantee</p>
                    <p class="font13">100% refund of online booking amount in case you change your mind. No questions asked.</p>
                </div>
            </div>
            <div class="clear"></div>
        </div>

    </div>
    <div class="clear"></div>
</section>
<!-- How it Works Slug Ends-->
@{Html.RenderPartial("~/Views/Shared/m/Deals/_DealFaq.cshtml");}
<div class="extraDivHt"></div>
<script>
    $(document).ready(function () { Deals.env = 1; });
</script>

