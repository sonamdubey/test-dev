@model Carwale.DTOs.CMS.ContentDetailDTO

@using Carwale.Utility;
@{
    ViewBag.Title = Html.Raw(Model.Article.Title);
    ViewBag.Description = Html.Raw(System.Text.RegularExpressions.Regex.Replace(Model.Article.Description, @"<[^>]*>", string.Empty));
    ViewBag.Canonical = "https://www.carwale.com" + Request.ServerVariables["HTTP_X_REWRITE_URL"].ToString().Replace("/m/", "/");
    if (Model.Article.DisplayDate > new DateTime(month: 1, day: 1, year: 2016))
    {
        ViewBag.Amphtml = "https://www.carwale.com/m" + Model.Article.ArticleUrl + "amp/";
    }
    else
    {
        ViewBag.Amphtml = null;
    }
    if (!string.IsNullOrWhiteSpace(Model.Article.NextArticle.ArticleUrl))
    {
        ViewBag.Next = "https://www.carwale.com/m" + Model.Article.NextArticle.ArticleUrl;
    }
    if (!string.IsNullOrWhiteSpace(Model.Article.PrevArticle.ArticleUrl))
    {
        ViewBag.Prev = "https://www.carwale.com/m" + Model.Article.PrevArticle.ArticleUrl;
    }
    ViewBag.adPath = System.Configuration.ConfigurationManager.AppSettings["adPathMobile"];
    ViewBag.DefineAdSlots = @"<script type='text/javascript'>
            googletag.cmd.push(function () {
                googletag.defineSlot('/1017752/" + ViewBag.adPath + @"CarWale_Mobile_ROS_320x50', [320, 50], 'div-gpt-ad-1419227721763-0').addService(googletag.pubads());

                //Ad for quatation page bottom Ad
                googletag.defineSlot('/1017752/" + ViewBag.adPath + @"CarWale_Mobile_ROS_300x250', [300, 250], 'div-gpt-ad-1435297201507-0').addService(googletag.pubads());
                " + (System.Web.HttpContext.Current.Request.UrlReferrer != null ? ("googletag.pubads().setTargeting('Referer', '" + System.Web.HttpContext.Current.Request.UrlReferrer.AbsolutePath + "');") : string.Empty) +
                @"googletag.pubads().setTargeting('Section', '');
                googletag.pubads().setTargeting('City', '" + MobileWeb.Common.CookiesCustomers.MasterCity.ToString() + @"');
                googletag.pubads().setTargeting('Models', '" + string.Join(",", Model.Article.TagsList.ToArray()) + @"');

                googletag.pubads().collapseEmptyDivs();
                googletag.pubads().enableSingleRequest();
                googletag.enableServices();
            });
        </script>";
    Layout = "~/views/shared/m/_MLayoutV2.cshtml";
    ViewBag.CustomJs = "~/Views/StaticPartials/m/MNewsDetailPageScript.cshtml";
    ViewBag.CustomCss = "~/Views/StaticPartials/m/MNewsDetailsPageCss.cshtml";
    var mainImage = @Carwale.Utility.ImageSizes.CreateImageUrl(@Model.Article.HostUrl, Carwale.Utility.ImageSizes._566X318, @Model.Article.OriginalImgUrl);
}
@section MetaTags {
    <meta property="og:url" content="@("https://www.carwale.com" + Request.ServerVariables["http_x_rewrite_url"])" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="@ViewBag.Title" />
    <meta property="og:description" content="@ViewBag.Description" />
    <meta property="og:image" content="@mainImage" />
    <meta property="og:site_name" content="CarWale" />
    <meta property="article:published_time" content="@Model.Article.DisplayDate.ToString("s")" />
    <meta property="article:section" content="Car News" />
    <meta property="article:tag" content="@string.Join(",",Model.Article.TagsList.ToArray())" />
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@("@CarWale")">
    <meta name="twitter:title" content="@ViewBag.Title">
    <meta name="twitter:description" content="@ViewBag.Description">
    <meta name="twitter:creator" content="@("@CarWale")">
    <meta name="twitter:image" content="@mainImage">
    <meta property="fb:admins" content="154881297559" />
    <meta property="fb:pages" content="154881297559" />
}
@section Styles{
<script type="application/ld+json">
    {
    "@@context":"http://schema.org",
    "@@type":"NewsArticle",
    "inLanguage":"English",
    "headline":"@Model.Article.Title",
    "description":"@Model.DescriptionText",
    "articleBody":"@Model.ArticleBodyText",
    "mainEntityOfPage":{
    "@@type": "WebPage",
    "@@id": "@String.Format("https://www.carwale.com/m{0}", Model.Article.ArticleUrl)"
    },
    "datePublished":"@Model.Article.DisplayDate.ToString("yyyy-MM-ddTHH:mm:sszzz")",
    "dateModified":"@Model.Article.ModifiedDate.ToString("yyyy-MM-ddTHH:mm:sszzz")",
    "url":"@String.Format("https://www.carwale.com/m{0}", Model.Article.ArticleUrl)",
    "publisher":{
    "@@type":"Organization",
    "name":"CarWale",
    "url":"https://www.carwale.com",
    "logo":{
    "@@type":"ImageObject",
    "url":"https://imgd.aeplcdn.com/0x0/cw/static/sprites/m/cw-logo-v1.png",
    "height":"60",
    "width":"294"
    }
    },
    "author":{
    "@@type":"Person",
    "name":"@Model.Article.AuthorName"
    },
    "image":{
    "@@type":"ImageObject",
    "url":"https://imgd.aeplcdn.com/@Model.Article.LargePicUrl",
    "height":"361",
    "width":"642"
    }
    }
</script>
}
<section class="container" id="infinite-scroll">
    @Html.Partial("m/editorial/_ContentDetail")
    @Html.Partial("m/editorial/_ContentMasterTemplate")
    @Html.Partial("m/editorial/_ContentFooter")
</section>