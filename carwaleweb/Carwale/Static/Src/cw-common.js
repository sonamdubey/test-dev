/* Lazy Load - jQuery plugin for lazy loading images 
 * Copyright (c) 2007-2013 Mika Tuupola
 * Licensed under the MIT license: http://www.opensource.org/licenses/mit-license.php
 * Project home: http://www.appelsiini.net/projects/lazyload
 * Version:  1.8.4 */
(function (a, b, c, d) { var e = a(b); a.fn.lazyload = function (c) { function i() { var b = 0; f.each(function () { var c = a(this); if (h.skip_invisible && !c.is(":visible")) return; if (!a.abovethetop(this, h) && !a.leftofbegin(this, h)) if (!a.belowthefold(this, h) && !a.rightoffold(this, h)) c.trigger("appear"), b = 0; else if (++b > h.failure_limit) return !1 }) } var f = this, g, h = { threshold: 0, failure_limit: 0, event: "scroll", effect: "show", container: b, data_attribute: "original", skip_invisible: !0, appear: null, load: null }; return c && (d !== c.failurelimit && (c.failure_limit = c.failurelimit, delete c.failurelimit), d !== c.effectspeed && (c.effect_speed = c.effectspeed, delete c.effectspeed), a.extend(h, c)), g = h.container === d || h.container === b ? e : a(h.container), 0 === h.event.indexOf("scroll") && g.bind(h.event, function (a) { return i() }), this.each(function () { var b = this, c = a(b); b.loaded = !1, c.one("appear", function () { if (!this.loaded) { if (h.appear) { var d = f.length; h.appear.call(b, d, h) } a("<img />").bind("load", function () { c.hide().attr("src", c.data(h.data_attribute))[h.effect](h.effect_speed), b.loaded = !0; var d = a.grep(f, function (a) { return !a.loaded }); f = a(d); if (h.load) { var e = f.length; h.load.call(b, e, h) } }).attr("src", c.data(h.data_attribute)) } }), 0 !== h.event.indexOf("scroll") && c.bind(h.event, function (a) { b.loaded || c.trigger("appear") }) }), e.bind("resize", function (a) { i() }), /iphone|ipod|ipad.*os 5/gi.test(navigator.appVersion) && e.bind("pageshow", function (b) { b.originalEvent.persisted && f.each(function () { a(this).trigger("appear") }) }), a(b).load(function () { i() }), this }, a.belowthefold = function (c, f) { var g; return f.container === d || f.container === b ? g = e.height() + e.scrollTop() : g = a(f.container).offset().top + a(f.container).height(), g <= a(c).offset().top - f.threshold }, a.rightoffold = function (c, f) { var g; return f.container === d || f.container === b ? g = e.width() + e.scrollLeft() : g = a(f.container).offset().left + a(f.container).width(), g <= a(c).offset().left - f.threshold }, a.abovethetop = function (c, f) { var g; return f.container === d || f.container === b ? g = e.scrollTop() : g = a(f.container).offset().top, g >= a(c).offset().top + f.threshold + a(c).height() }, a.leftofbegin = function (c, f) { var g; return f.container === d || f.container === b ? g = e.scrollLeft() : g = a(f.container).offset().left, g >= a(c).offset().left + f.threshold + a(c).width() }, a.inviewport = function (b, c) { return !a.rightoffold(b, c) && !a.leftofbegin(b, c) && !a.belowthefold(b, c) && !a.abovethetop(b, c) }, a.extend(a.expr[":"], { "below-the-fold": function (b) { return a.belowthefold(b, { threshold: 0 }) }, "above-the-top": function (b) { return !a.belowthefold(b, { threshold: 0 }) }, "right-of-screen": function (b) { return a.rightoffold(b, { threshold: 0 }) }, "left-of-screen": function (b) { return !a.rightoffold(b, { threshold: 0 }) }, "in-viewport": function (b) { return a.inviewport(b, { threshold: 0 }) }, "above-the-fold": function (b) { return !a.belowthefold(b, { threshold: 0 }) }, "right-of-fold": function (b) { return a.rightoffold(b, { threshold: 0 }) }, "left-of-fold": function (b) { return !a.rightoffold(b, { threshold: 0 }) } }) })(jQuery, window, document)
/*** End of lazy load plugin **/

/* @name BeautyTips
 * @desc a tooltips/baloon-help plugin for jQuery
 * @author Jeff Robbins - Lullabot - http://www.lullabot.com
 * @version 0.9.5-rc1  (5/20/2009) */
jQuery.bt = { version: "0.9.5-rc1" }; (function ($) { jQuery.fn.bt = function (content, options) { if (typeof content != "string") { var contentSelect = true; options = content; content = false; } else { var contentSelect = false; } if (jQuery.fn.hoverIntent && jQuery.bt.defaults.trigger == "hover") { jQuery.bt.defaults.trigger = "hoverIntent"; } return this.each(function (index) { var opts = jQuery.extend(false, jQuery.bt.defaults, jQuery.bt.options, options); opts.spikeLength = numb(opts.spikeLength); opts.spikeGirth = numb(opts.spikeGirth); opts.overlap = numb(opts.overlap); var ajaxTimeout = false; if (opts.killTitle) { $(this).find("[title]").andSelf().each(function () { if (!$(this).attr("bt-xTitle")) { $(this).attr("bt-xTitle", $(this).attr("title")).attr("title", ""); } }); } if (typeof opts.trigger == "string") { opts.trigger = [opts.trigger]; } if (opts.trigger[0] == "hoverIntent") { var hoverOpts = jQuery.extend(opts.hoverIntentOpts, { over: function () { this.btOn(); }, out: function () { this.btOff(); } }); $(this).hoverIntent(hoverOpts); } else { if (opts.trigger[0] == "hover") { $(this).hover(function () { this.btOn(); }, function () { this.btOff(); }); } else { if (opts.trigger[0] == "now") { if ($(this).hasClass("bt-active")) { this.btOff(); } else { this.btOn(); } } else { if (opts.trigger[0] == "none") { } else { if (opts.trigger.length > 1 && opts.trigger[0] != opts.trigger[1]) { $(this).bind(opts.trigger[0], function () { this.btOn(); }).bind(opts.trigger[1], function () { this.btOff(); }); } else { $(this).bind(opts.trigger[0], function () { if ($(this).hasClass("bt-active")) { this.btOff(); } else { this.btOn(); } }); } } } } } this.btOn = function () { if (typeof $(this).data("bt-box") == "object") { this.btOff(); } opts.preBuild.apply(this); $(jQuery.bt.vars.closeWhenOpenStack).btOff(); $(this).addClass("bt-active " + opts.activeClass); if (contentSelect && opts.ajaxPath == null) { if (opts.killTitle) { $(this).attr("title", $(this).attr("bt-xTitle")); } content = $.isFunction(opts.contentSelector) ? opts.contentSelector.apply(this) : eval(opts.contentSelector); if (opts.killTitle) { $(this).attr("title", ""); } } if (opts.ajaxPath != null && content == false) { if (typeof opts.ajaxPath == "object") { var url = eval(opts.ajaxPath[0]); url += opts.ajaxPath[1] ? " " + opts.ajaxPath[1] : ""; } else { var url = opts.ajaxPath; } var off = url.indexOf(" "); if (off >= 0) { var selector = url.slice(off, url.length); url = url.slice(0, off); } var cacheData = opts.ajaxCache ? $(document.body).data("btCache-" + url.replace(/\./g, "")) : null; if (typeof cacheData == "string") { content = selector ? $("<div/>").append(cacheData.replace(/<script(.|\s)*?\/script>/g, "")).find(selector) : cacheData; } else { var target = this; var ajaxOpts = jQuery.extend(false, { type: opts.ajaxType, data: opts.ajaxData, cache: opts.ajaxCache, url: url, complete: function (XMLHttpRequest, textStatus) { if (textStatus == "success" || textStatus == "notmodified") { if (opts.ajaxCache) { $(document.body).data("btCache-" + url.replace(/\./g, ""), XMLHttpRequest.responseText); } ajaxTimeout = false; content = selector ? $("<div/>").append(XMLHttpRequest.responseText.replace(/<script(.|\s)*?\/script>/g, "")).find(selector) : XMLHttpRequest.responseText; } else { if (textStatus == "timeout") { ajaxTimeout = true; } content = opts.ajaxError.replace(/%error/g, XMLHttpRequest.statusText); } if ($(target).hasClass("bt-active")) { target.btOn(); } } }, opts.ajaxOpts); jQuery.ajax(ajaxOpts); content = opts.ajaxLoading; } } var shadowMarginX = 0; var shadowMarginY = 0; var shadowShiftX = 0; var shadowShiftY = 0; if (opts.shadow && !shadowSupport()) { opts.shadow = false; jQuery.extend(opts, opts.noShadowOpts); } if (opts.shadow) { if (opts.shadowBlur > Math.abs(opts.shadowOffsetX)) { shadowMarginX = opts.shadowBlur * 2; } else { shadowMarginX = opts.shadowBlur + Math.abs(opts.shadowOffsetX); } shadowShiftX = (opts.shadowBlur - opts.shadowOffsetX) > 0 ? opts.shadowBlur - opts.shadowOffsetX : 0; if (opts.shadowBlur > Math.abs(opts.shadowOffsetY)) { shadowMarginY = opts.shadowBlur * 2; } else { shadowMarginY = opts.shadowBlur + Math.abs(opts.shadowOffsetY); } shadowShiftY = (opts.shadowBlur - opts.shadowOffsetY) > 0 ? opts.shadowBlur - opts.shadowOffsetY : 0; } if (opts.offsetParent) { var offsetParent = $(opts.offsetParent); var offsetParentPos = offsetParent.offset(); var pos = $(this).offset(); var top = numb(pos.top) - numb(offsetParentPos.top) + numb($(this).css("margin-top")) - shadowShiftY; var left = numb(pos.left) - numb(offsetParentPos.left) + numb($(this).css("margin-left")) - shadowShiftX; } else { var offsetParent = ($(this).css("position") == "absolute") ? $(this).parents().eq(0).offsetParent() : $(this).offsetParent(); var pos = $(this).btPosition(); var top = numb(pos.top) + numb($(this).css("margin-top")) - shadowShiftY; var left = numb(pos.left) + numb($(this).css("margin-left")) - shadowShiftX; } var width = $(this).btOuterWidth(); var height = $(this).outerHeight(); if (typeof content == "object") { var original = content; var clone = $(original).clone(true).show(); var origClones = $(original).data("bt-clones") || []; origClones.push(clone); $(original).data("bt-clones", origClones); $(clone).data("bt-orig", original); $(this).data("bt-content-orig", { original: original, clone: clone }); content = clone; } if (typeof content == "null" || content == "") { return; } var $text = $('<div class="bt-content"></div>').append(content).css({ padding: opts.padding, position: "absolute", width: (opts.shrinkToFit ? "auto" : opts.width), zIndex: opts.textzIndex, left: shadowShiftX, top: shadowShiftY }).css(opts.cssStyles); var $box = $('<div class="bt-wrapper"></div>').append($text).addClass(opts.cssClass).css({ position: "absolute", width: opts.width, zIndex: opts.wrapperzIndex, visibility: "hidden" }).appendTo(offsetParent); if (jQuery.fn.bgiframe) { $text.bgiframe(); $box.bgiframe(); } $(this).data("bt-box", $box); var scrollTop = numb($(document).scrollTop()); var scrollLeft = numb($(document).scrollLeft()); var docWidth = numb($(window).width()); var docHeight = numb($(window).height()); var winRight = scrollLeft + docWidth; var winBottom = scrollTop + docHeight; var space = new Object(); var thisOffset = $(this).offset(); space.top = thisOffset.top - scrollTop; space.bottom = docHeight - ((thisOffset + height) - scrollTop); space.left = thisOffset.left - scrollLeft; space.right = docWidth - ((thisOffset.left + width) - scrollLeft); var textOutHeight = numb($text.outerHeight()); var textOutWidth = numb($text.btOuterWidth()); if (opts.positions.constructor == String) { opts.positions = opts.positions.replace(/ /, "").split(","); } if (opts.positions[0] == "most") { var position = "top"; for (var pig in space) { position = space[pig] > space[position] ? pig : position; } } else { for (var x in opts.positions) { var position = opts.positions[x]; if ((position == "left" || position == "right") && space[position] > textOutWidth + opts.spikeLength) { break; } else { if ((position == "top" || position == "bottom") && space[position] > textOutHeight + opts.spikeLength) { break; } } } } var horiz = left + ((width - textOutWidth) * 0.5); var vert = top + ((height - textOutHeight) * 0.5); var points = new Array(); var textTop, textLeft, textRight, textBottom, textTopSpace, textBottomSpace, textLeftSpace, textRightSpace, crossPoint, textCenter, spikePoint; switch (position) { case "top": $text.css("margin-bottom", opts.spikeLength + "px"); $box.css({ top: (top - $text.outerHeight(true)) + opts.overlap, left: horiz }); textRightSpace = (winRight - opts.windowMargin) - ($text.offset().left + $text.btOuterWidth(true)); var xShift = shadowShiftX; if (textRightSpace < 0) { $box.css("left", (numb($box.css("left")) + textRightSpace) + "px"); xShift -= textRightSpace; } textLeftSpace = ($text.offset().left + numb($text.css("margin-left"))) - (scrollLeft + opts.windowMargin); if (textLeftSpace < 0) { $box.css("left", (numb($box.css("left")) - textLeftSpace) + "px"); xShift += textLeftSpace; } textTop = $text.btPosition().top + numb($text.css("margin-top")); textLeft = $text.btPosition().left + numb($text.css("margin-left")); textRight = textLeft + $text.btOuterWidth(); textBottom = textTop + $text.outerHeight(); textCenter = { x: textLeft + ($text.btOuterWidth() * opts.centerPointX), y: textTop + ($text.outerHeight() * opts.centerPointY) }; points[points.length] = spikePoint = { y: textBottom + opts.spikeLength, x: ((textRight - textLeft) * 0.5) + xShift, type: "spike" }; crossPoint = findIntersectX(spikePoint.x, spikePoint.y, textCenter.x, textCenter.y, textBottom); crossPoint.x = crossPoint.x < textLeft + opts.spikeGirth / 2 + opts.cornerRadius ? textLeft + opts.spikeGirth / 2 + opts.cornerRadius : crossPoint.x; crossPoint.x = crossPoint.x > (textRight - opts.spikeGirth / 2) - opts.cornerRadius ? (textRight - opts.spikeGirth / 2) - opts.CornerRadius : crossPoint.x; points[points.length] = { x: crossPoint.x - (opts.spikeGirth / 2), y: textBottom, type: "join" }; points[points.length] = { x: textLeft, y: textBottom, type: "corner" }; points[points.length] = { x: textLeft, y: textTop, type: "corner" }; points[points.length] = { x: textRight, y: textTop, type: "corner" }; points[points.length] = { x: textRight, y: textBottom, type: "corner" }; points[points.length] = { x: crossPoint.x + (opts.spikeGirth / 2), y: textBottom, type: "join" }; points[points.length] = spikePoint; break; case "left": $text.css("margin-right", opts.spikeLength + "px"); $box.css({ top: vert + "px", left: ((left - $text.btOuterWidth(true)) + opts.overlap) + "px" }); textBottomSpace = (winBottom - opts.windowMargin) - ($text.offset().top + $text.outerHeight(true)); var yShift = shadowShiftY; if (textBottomSpace < 0) { $box.css("top", (numb($box.css("top")) + textBottomSpace) + "px"); yShift -= textBottomSpace; } textTopSpace = ($text.offset().top + numb($text.css("margin-top"))) - (scrollTop + opts.windowMargin); if (textTopSpace < 0) { $box.css("top", (numb($box.css("top")) - textTopSpace) + "px"); yShift += textTopSpace; } textTop = $text.btPosition().top + numb($text.css("margin-top")); textLeft = $text.btPosition().left + numb($text.css("margin-left")); textRight = textLeft + $text.btOuterWidth(); textBottom = textTop + $text.outerHeight(); textCenter = { x: textLeft + ($text.btOuterWidth() * opts.centerPointX), y: textTop + ($text.outerHeight() * opts.centerPointY) }; points[points.length] = spikePoint = { x: textRight + opts.spikeLength, y: ((textBottom - textTop) * 0.5) + yShift, type: "spike" }; crossPoint = findIntersectY(spikePoint.x, spikePoint.y, textCenter.x, textCenter.y, textRight); crossPoint.y = crossPoint.y < textTop + opts.spikeGirth / 2 + opts.cornerRadius ? textTop + opts.spikeGirth / 2 + opts.cornerRadius : crossPoint.y; crossPoint.y = crossPoint.y > (textBottom - opts.spikeGirth / 2) - opts.cornerRadius ? (textBottom - opts.spikeGirth / 2) - opts.cornerRadius : crossPoint.y; points[points.length] = { x: textRight, y: crossPoint.y + opts.spikeGirth / 2, type: "join" }; points[points.length] = { x: textRight, y: textBottom, type: "corner" }; points[points.length] = { x: textLeft, y: textBottom, type: "corner" }; points[points.length] = { x: textLeft, y: textTop, type: "corner" }; points[points.length] = { x: textRight, y: textTop, type: "corner" }; points[points.length] = { x: textRight, y: crossPoint.y - opts.spikeGirth / 2, type: "join" }; points[points.length] = spikePoint; break; case "bottom": $text.css("margin-top", opts.spikeLength + "px"); $box.css({ top: (top + height) - opts.overlap, left: horiz }); textRightSpace = (winRight - opts.windowMargin) - ($text.offset().left + $text.btOuterWidth(true)); var xShift = shadowShiftX; if (textRightSpace < 0) { $box.css("left", (numb($box.css("left")) + textRightSpace) + "px"); xShift -= textRightSpace; } textLeftSpace = ($text.offset().left + numb($text.css("margin-left"))) - (scrollLeft + opts.windowMargin); if (textLeftSpace < 0) { $box.css("left", (numb($box.css("left")) - textLeftSpace) + "px"); xShift += textLeftSpace; } textTop = $text.btPosition().top + numb($text.css("margin-top")); textLeft = $text.btPosition().left + numb($text.css("margin-left")); textRight = textLeft + $text.btOuterWidth(); textBottom = textTop + $text.outerHeight(); textCenter = { x: textLeft + ($text.btOuterWidth() * opts.centerPointX), y: textTop + ($text.outerHeight() * opts.centerPointY) }; points[points.length] = spikePoint = { x: ((textRight - textLeft) * 0.5) + xShift, y: shadowShiftY, type: "spike" }; crossPoint = findIntersectX(spikePoint.x, spikePoint.y, textCenter.x, textCenter.y, textTop); crossPoint.x = crossPoint.x < textLeft + opts.spikeGirth / 2 + opts.cornerRadius ? textLeft + opts.spikeGirth / 2 + opts.cornerRadius : crossPoint.x; crossPoint.x = crossPoint.x > (textRight - opts.spikeGirth / 2) - opts.cornerRadius ? (textRight - opts.spikeGirth / 2) - opts.cornerRadius : crossPoint.x; points[points.length] = { x: crossPoint.x + opts.spikeGirth / 2, y: textTop, type: "join" }; points[points.length] = { x: textRight, y: textTop, type: "corner" }; points[points.length] = { x: textRight, y: textBottom, type: "corner" }; points[points.length] = { x: textLeft, y: textBottom, type: "corner" }; points[points.length] = { x: textLeft, y: textTop, type: "corner" }; points[points.length] = { x: crossPoint.x - (opts.spikeGirth / 2), y: textTop, type: "join" }; points[points.length] = spikePoint; break; case "right": $text.css("margin-left", (opts.spikeLength + "px")); $box.css({ top: vert + "px", left: ((left + width) - opts.overlap) + "px" }); textBottomSpace = (winBottom - opts.windowMargin) - ($text.offset().top + $text.outerHeight(true)); var yShift = shadowShiftY; if (textBottomSpace < 0) { $box.css("top", (numb($box.css("top")) + textBottomSpace) + "px"); yShift -= textBottomSpace; } textTopSpace = ($text.offset().top + numb($text.css("margin-top"))) - (scrollTop + opts.windowMargin); if (textTopSpace < 0) { $box.css("top", (numb($box.css("top")) - textTopSpace) + "px"); yShift += textTopSpace; } textTop = $text.btPosition().top + numb($text.css("margin-top")); textLeft = $text.btPosition().left + numb($text.css("margin-left")); textRight = textLeft + $text.btOuterWidth(); textBottom = textTop + $text.outerHeight(); textCenter = { x: textLeft + ($text.btOuterWidth() * opts.centerPointX), y: textTop + ($text.outerHeight() * opts.centerPointY) }; points[points.length] = spikePoint = { x: shadowShiftX, y: ((textBottom - textTop) * 0.5) + yShift, type: "spike" }; crossPoint = findIntersectY(spikePoint.x, spikePoint.y, textCenter.x, textCenter.y, textLeft); crossPoint.y = crossPoint.y < textTop + opts.spikeGirth / 2 + opts.cornerRadius ? textTop + opts.spikeGirth / 2 + opts.cornerRadius : crossPoint.y; crossPoint.y = crossPoint.y > (textBottom - opts.spikeGirth / 2) - opts.cornerRadius ? (textBottom - opts.spikeGirth / 2) - opts.cornerRadius : crossPoint.y; points[points.length] = { x: textLeft, y: crossPoint.y - opts.spikeGirth / 2, type: "join" }; points[points.length] = { x: textLeft, y: textTop, type: "corner" }; points[points.length] = { x: textRight, y: textTop, type: "corner" }; points[points.length] = { x: textRight, y: textBottom, type: "corner" }; points[points.length] = { x: textLeft, y: textBottom, type: "corner" }; points[points.length] = { x: textLeft, y: crossPoint.y + opts.spikeGirth / 2, type: "join" }; points[points.length] = spikePoint; break; } var canvas = document.createElement("canvas"); $(canvas).attr("width", (numb($text.btOuterWidth(true)) + opts.strokeWidth * 2 + shadowMarginX)).attr("height", (numb($text.outerHeight(true)) + opts.strokeWidth * 2 + shadowMarginY)).appendTo($box).css({ position: "absolute", zIndex: opts.boxzIndex }); if (typeof G_vmlCanvasManager != "undefined") { canvas = G_vmlCanvasManager.initElement(canvas); } if (opts.cornerRadius > 0) { var newPoints = new Array(); var newPoint; for (var i = 0; i < points.length; i++) { if (points[i].type == "corner") { newPoint = betweenPoint(points[i], points[(i - 1) % points.length], opts.cornerRadius); newPoint.type = "arcStart"; newPoints[newPoints.length] = newPoint; newPoints[newPoints.length] = points[i]; newPoint = betweenPoint(points[i], points[(i + 1) % points.length], opts.cornerRadius); newPoint.type = "arcEnd"; newPoints[newPoints.length] = newPoint; } else { newPoints[newPoints.length] = points[i]; } } points = newPoints; } var ctx = canvas.getContext("2d"); if (opts.shadow && opts.shadowOverlap !== true) { var shadowOverlap = numb(opts.shadowOverlap); switch (position) { case "top": if (opts.shadowOffsetX + opts.shadowBlur - shadowOverlap > 0) { $box.css("top", (numb($box.css("top")) - (opts.shadowOffsetX + opts.shadowBlur - shadowOverlap))); } break; case "right": if (shadowShiftX - shadowOverlap > 0) { $box.css("left", (numb($box.css("left")) + shadowShiftX - shadowOverlap)); } break; case "bottom": if (shadowShiftY - shadowOverlap > 0) { $box.css("top", (numb($box.css("top")) + shadowShiftY - shadowOverlap)); } break; case "left": if (opts.shadowOffsetY + opts.shadowBlur - shadowOverlap > 0) { $box.css("left", (numb($box.css("left")) - (opts.shadowOffsetY + opts.shadowBlur - shadowOverlap))); } break; } } drawIt.apply(ctx, [points], opts.strokeWidth); ctx.fillStyle = opts.fill; if (opts.shadow) { ctx.shadowOffsetX = opts.shadowOffsetX; ctx.shadowOffsetY = opts.shadowOffsetY; ctx.shadowBlur = opts.shadowBlur; ctx.shadowColor = opts.shadowColor; } ctx.closePath(); ctx.fill(); if (opts.strokeWidth > 0) { ctx.shadowColor = "rgba(0, 0, 0, 0)"; ctx.lineWidth = opts.strokeWidth; ctx.strokeStyle = opts.strokeStyle; ctx.beginPath(); drawIt.apply(ctx, [points], opts.strokeWidth); ctx.closePath(); ctx.stroke(); } opts.preShow.apply(this, [$box[0]]); $box.css({ display: "none", visibility: "visible" }); opts.showTip.apply(this, [$box[0]]); if (opts.overlay) { var overlay = $('<div class="bt-overlay"></div>').css({ position: "absolute", backgroundColor: "blue", top: top, left: left, width: width, height: height, opacity: ".2" }).appendTo(offsetParent); $(this).data("overlay", overlay); } if ((opts.ajaxPath != null && opts.ajaxCache == false) || ajaxTimeout) { content = false; } if (opts.clickAnywhereToClose) { jQuery.bt.vars.clickAnywhereStack.push(this); $(document).click(jQuery.bt.docClick); } if (opts.closeWhenOthersOpen) { jQuery.bt.vars.closeWhenOpenStack.push(this); } opts.postShow.apply(this, [$box[0]]); }; this.btOff = function () { var box = $(this).data("bt-box"); opts.preHide.apply(this, [box]); var i = this; i.btCleanup = function () { var box = $(i).data("bt-box"); var contentOrig = $(i).data("bt-content-orig"); var overlay = $(i).data("bt-overlay"); if (typeof box == "object") { $(box).remove(); $(i).removeData("bt-box"); } if (typeof contentOrig == "object") { var clones = $(contentOrig.original).data("bt-clones"); $(contentOrig).data("bt-clones", arrayRemove(clones, contentOrig.clone)); } if (typeof overlay == "object") { $(overlay).remove(); $(i).removeData("bt-overlay"); } jQuery.bt.vars.clickAnywhereStack = arrayRemove(jQuery.bt.vars.clickAnywhereStack, i); jQuery.bt.vars.closeWhenOpenStack = arrayRemove(jQuery.bt.vars.closeWhenOpenStack, i); $(i).removeClass("bt-active " + opts.activeClass); opts.postHide.apply(i); }; opts.hideTip.apply(this, [box, i.btCleanup]); }; var refresh = this.btRefresh = function () { this.btOff(); this.btOn(); }; }); function drawIt(points, strokeWidth) { this.moveTo(points[0].x, points[0].y); for (i = 1; i < points.length; i++) { if (points[i - 1].type == "arcStart") { this.quadraticCurveTo(round5(points[i].x, strokeWidth), round5(points[i].y, strokeWidth), round5(points[(i + 1) % points.length].x, strokeWidth), round5(points[(i + 1) % points.length].y, strokeWidth)); i++; } else { this.lineTo(round5(points[i].x, strokeWidth), round5(points[i].y, strokeWidth)); } } } function round5(num, strokeWidth) { var ret; strokeWidth = numb(strokeWidth); if (strokeWidth % 2) { ret = num; } else { ret = Math.round(num - 0.5) + 0.5; } return ret; } function numb(num) { return parseInt(num) || 0; } function arrayRemove(arr, elem) { var x, newArr = new Array(); for (x in arr) { if (arr[x] != elem) { newArr.push(arr[x]); } } return newArr; } function canvasSupport() { var canvas_compatible = false; try { canvas_compatible = !!(document.createElement("canvas").getContext("2d")); } catch (e) { canvas_compatible = !!(document.createElement("canvas").getContext); } return canvas_compatible; } function shadowSupport() { try { var userAgent = navigator.userAgent.toLowerCase(); if (/webkit/.test(userAgent)) { return true; } else { if (/gecko|mozilla/.test(userAgent) && parseFloat(userAgent.match(/firefox\/(\d+(?:\.\d+)+)/)[1]) >= 3.1) { return true; } } } catch (err) { } return false; } function betweenPoint(point1, point2, dist) { var y, x; if (point1.x == point2.x) { y = point1.y < point2.y ? point1.y + dist : point1.y - dist; return { x: point1.x, y: y }; } else { if (point1.y == point2.y) { x = point1.x < point2.x ? point1.x + dist : point1.x - dist; return { x: x, y: point1.y }; } } } function centerPoint(arcStart, corner, arcEnd) { var x = corner.x == arcStart.x ? arcEnd.x : arcStart.x; var y = corner.y == arcStart.y ? arcEnd.y : arcStart.y; var startAngle, endAngle; if (arcStart.x < arcEnd.x) { if (arcStart.y > arcEnd.y) { startAngle = (Math.PI / 180) * 180; endAngle = (Math.PI / 180) * 90; } else { startAngle = (Math.PI / 180) * 90; endAngle = 0; } } else { if (arcStart.y > arcEnd.y) { startAngle = (Math.PI / 180) * 270; endAngle = (Math.PI / 180) * 180; } else { startAngle = 0; endAngle = (Math.PI / 180) * 270; } } return { x: x, y: y, type: "center", startAngle: startAngle, endAngle: endAngle }; } function findIntersect(r1x1, r1y1, r1x2, r1y2, r2x1, r2y1, r2x2, r2y2) { if (r2x1 == r2x2) { return findIntersectY(r1x1, r1y1, r1x2, r1y2, r2x1); } if (r2y1 == r2y2) { return findIntersectX(r1x1, r1y1, r1x2, r1y2, r2y1); } var r1m = (r1y1 - r1y2) / (r1x1 - r1x2); var r1b = r1y1 - (r1m * r1x1); var r2m = (r2y1 - r2y2) / (r2x1 - r2x2); var r2b = r2y1 - (r2m * r2x1); var x = (r2b - r1b) / (r1m - r2m); var y = r1m * x + r1b; return { x: x, y: y }; } function findIntersectY(r1x1, r1y1, r1x2, r1y2, x) { if (r1y1 == r1y2) { return { x: x, y: r1y1 }; } var r1m = (r1y1 - r1y2) / (r1x1 - r1x2); var r1b = r1y1 - (r1m * r1x1); var y = r1m * x + r1b; return { x: x, y: y }; } function findIntersectX(r1x1, r1y1, r1x2, r1y2, y) { if (r1x1 == r1x2) { return { x: r1x1, y: y }; } var r1m = (r1y1 - r1y2) / (r1x1 - r1x2); var r1b = r1y1 - (r1m * r1x1); var x = (y - r1b) / r1m; return { x: x, y: y }; } }; jQuery.fn.btPosition = function () { function num(elem, prop) { return elem[0] && parseInt(jQuery.curCSS(elem[0], prop, true), 10) || 0; } var left = 0, top = 0, results; if (this[0]) { var offsetParent = this.offsetParent(), offset = this.offset(), parentOffset = /^body|html$/i.test(offsetParent[0].tagName) ? { top: 0, left: 0 } : offsetParent.offset(); offset.top -= num(this, "marginTop"); offset.left -= num(this, "marginLeft"); parentOffset.top += num(offsetParent, "borderTopWidth"); parentOffset.left += num(offsetParent, "borderLeftWidth"); results = { top: offset.top - parentOffset.top, left: offset.left - parentOffset.left }; } return results; }; jQuery.fn.btOuterWidth = function (margin) { function num(elem, prop) { return elem[0] && parseInt(jQuery.curCSS(elem[0], prop, true), 10) || 0; } return this["innerWidth"]() + num(this, "borderLeftWidth") + num(this, "borderRightWidth") + (margin ? num(this, "marginLeft") + num(this, "marginRight") : 0); }; jQuery.fn.btOn = function () { return this.each(function (index) { if (jQuery.isFunction(this.btOn)) { this.btOn(); } }); }; jQuery.fn.btOff = function () { return this.each(function (index) { if (jQuery.isFunction(this.btOff)) { this.btOff(); } }); }; jQuery.bt.vars = { clickAnywhereStack: [], closeWhenOpenStack: [] }; jQuery.bt.docClick = function (e) { if (!e) { var e = window.event; } if (!$(e.target).parents().andSelf().filter(".bt-wrapper, .bt-active").length && jQuery.bt.vars.clickAnywhereStack.length) { $(jQuery.bt.vars.clickAnywhereStack).btOff(); $(document).unbind("click", jQuery.bt.docClick); } }; jQuery.bt.defaults = { trigger: "hover", clickAnywhereToClose: true, closeWhenOthersOpen: false, shrinkToFit: false, width: "200px", padding: "10px", spikeGirth: 10, spikeLength: 15, overlap: 0, overlay: false, killTitle: true, textzIndex: 9999, boxzIndex: 9998, wrapperzIndex: 9997, offsetParent: null, positions: ["most"], fill: "rgb(255, 255, 102)", windowMargin: 10, strokeWidth: 1, strokeStyle: "#000", cornerRadius: 5, centerPointX: 0.5, centerPointY: 0.5, shadow: false, shadowOffsetX: 2, shadowOffsetY: 2, shadowBlur: 3, shadowColor: "#000", shadowOverlap: false, noShadowOpts: { strokeStyle: "#999" }, cssClass: "", cssStyles: {}, activeClass: "bt-active", contentSelector: "$(this).attr('title')", ajaxPath: null, ajaxError: "<strong>ERROR:</strong> <em>%error</em>", ajaxLoading: "<blink>Loading...</blink>", ajaxData: {}, ajaxType: "GET", ajaxCache: true, ajaxOpts: {}, preBuild: function () { }, preShow: function (box) { }, showTip: function (box) { $(box).show(); }, postShow: function (box) { }, preHide: function (box) { }, hideTip: function (box, callback) { $(box).hide(); callback(); }, postHide: function () { }, hoverIntentOpts: { interval: 300, timeout: 500 } }; jQuery.bt.options = {}; })(jQuery);

/* hoverIntent r5 // 2007.03.27 // jQuery 1.1.2+
* <http://cherne.net/brian/resources/jquery.hoverIntent.html>
* @param  f  onMouseOver function || An object with configuration options
* @param  g  onMouseOut function  || Nothing (use configuration options object)
* @author    Brian Cherne <brian@cherne.net> */
(function ($) { $.fn.hoverIntent = function (f, g) { var cfg = { sensitivity: 7, interval: 100, timeout: 0 }; cfg = $.extend(cfg, g ? { over: f, out: g } : f); var cX, cY, pX, pY; var track = function (ev) { cX = ev.pageX; cY = ev.pageY; }; var compare = function (ev, ob) { ob.hoverIntent_t = clearTimeout(ob.hoverIntent_t); if ((Math.abs(pX - cX) + Math.abs(pY - cY)) < cfg.sensitivity) { $(ob).unbind("mousemove", track); ob.hoverIntent_s = 1; return cfg.over.apply(ob, [ev]); } else { pX = cX; pY = cY; ob.hoverIntent_t = setTimeout(function () { compare(ev, ob); }, cfg.interval); } }; var delay = function (ev, ob) { ob.hoverIntent_t = clearTimeout(ob.hoverIntent_t); ob.hoverIntent_s = 0; return cfg.out.apply(ob, [ev]); }; var handleHover = function (e) { var p = (e.type == "mouseover" ? e.fromElement : e.toElement) || e.relatedTarget; while (p && p != this) { try { p = p.parentNode; } catch (e) { p = this; } } if (p == this) { return false; } var ev = jQuery.extend({}, e); var ob = this; if (ob.hoverIntent_t) { ob.hoverIntent_t = clearTimeout(ob.hoverIntent_t); } if (e.type == "mouseover") { pX = ev.pageX; pY = ev.pageY; $(ob).bind("mousemove", track); if (ob.hoverIntent_s != 1) { ob.hoverIntent_t = setTimeout(function () { compare(ev, ob); }, cfg.interval); } } else { $(ob).unbind("mousemove", track); if (ob.hoverIntent_s == 1) { ob.hoverIntent_t = setTimeout(function () { delay(ev, ob); }, cfg.timeout); } } }; return this.mouseover(handleHover).mouseout(handleHover); }; })(jQuery);

// Jquery easing.. 
// t: current time, b: begInnIng value, c: change In value, d: duration
jQuery.easing["jswing"] = jQuery.easing["swing"]; jQuery.extend(jQuery.easing, { def: "easeOutQuad", swing: function (e, t, n, r, i) { return jQuery.easing[jQuery.easing.def](e, t, n, r, i) }, easeInQuad: function (e, t, n, r, i) { return r * (t /= i) * t + n }, easeOutQuad: function (e, t, n, r, i) { return -r * (t /= i) * (t - 2) + n }, easeInOutQuad: function (e, t, n, r, i) { if ((t /= i / 2) < 1) return r / 2 * t * t + n; return -r / 2 * (--t * (t - 2) - 1) + n }, easeInCubic: function (e, t, n, r, i) { return r * (t /= i) * t * t + n }, easeOutCubic: function (e, t, n, r, i) { return r * ((t = t / i - 1) * t * t + 1) + n }, easeInOutCubic: function (e, t, n, r, i) { if ((t /= i / 2) < 1) return r / 2 * t * t * t + n; return r / 2 * ((t -= 2) * t * t + 2) + n }, easeInQuart: function (e, t, n, r, i) { return r * (t /= i) * t * t * t + n }, easeOutQuart: function (e, t, n, r, i) { return -r * ((t = t / i - 1) * t * t * t - 1) + n }, easeInOutQuart: function (e, t, n, r, i) { if ((t /= i / 2) < 1) return r / 2 * t * t * t * t + n; return -r / 2 * ((t -= 2) * t * t * t - 2) + n }, easeInQuint: function (e, t, n, r, i) { return r * (t /= i) * t * t * t * t + n }, easeOutQuint: function (e, t, n, r, i) { return r * ((t = t / i - 1) * t * t * t * t + 1) + n }, easeInOutQuint: function (e, t, n, r, i) { if ((t /= i / 2) < 1) return r / 2 * t * t * t * t * t + n; return r / 2 * ((t -= 2) * t * t * t * t + 2) + n }, easeInSine: function (e, t, n, r, i) { return -r * Math.cos(t / i * (Math.PI / 2)) + r + n }, easeOutSine: function (e, t, n, r, i) { return r * Math.sin(t / i * (Math.PI / 2)) + n }, easeInOutSine: function (e, t, n, r, i) { return -r / 2 * (Math.cos(Math.PI * t / i) - 1) + n }, easeInExpo: function (e, t, n, r, i) { return t == 0 ? n : r * Math.pow(2, 10 * (t / i - 1)) + n }, easeOutExpo: function (e, t, n, r, i) { return t == i ? n + r : r * (-Math.pow(2, -10 * t / i) + 1) + n }, easeInOutExpo: function (e, t, n, r, i) { if (t == 0) return n; if (t == i) return n + r; if ((t /= i / 2) < 1) return r / 2 * Math.pow(2, 10 * (t - 1)) + n; return r / 2 * (-Math.pow(2, -10 * --t) + 2) + n }, easeInCirc: function (e, t, n, r, i) { return -r * (Math.sqrt(1 - (t /= i) * t) - 1) + n }, easeOutCirc: function (e, t, n, r, i) { return r * Math.sqrt(1 - (t = t / i - 1) * t) + n }, easeInOutCirc: function (e, t, n, r, i) { if ((t /= i / 2) < 1) return -r / 2 * (Math.sqrt(1 - t * t) - 1) + n; return r / 2 * (Math.sqrt(1 - (t -= 2) * t) + 1) + n }, easeInElastic: function (e, t, n, r, i) { var s = 1.70158; var o = 0; var u = r; if (t == 0) return n; if ((t /= i) == 1) return n + r; if (!o) o = i * .3; if (u < Math.abs(r)) { u = r; var s = o / 4 } else var s = o / (2 * Math.PI) * Math.asin(r / u); return -(u * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * i - s) * 2 * Math.PI / o)) + n }, easeOutElastic: function (e, t, n, r, i) { var s = 1.70158; var o = 0; var u = r; if (t == 0) return n; if ((t /= i) == 1) return n + r; if (!o) o = i * .3; if (u < Math.abs(r)) { u = r; var s = o / 4 } else var s = o / (2 * Math.PI) * Math.asin(r / u); return u * Math.pow(2, -10 * t) * Math.sin((t * i - s) * 2 * Math.PI / o) + r + n }, easeInOutElastic: function (e, t, n, r, i) { var s = 1.70158; var o = 0; var u = r; if (t == 0) return n; if ((t /= i / 2) == 2) return n + r; if (!o) o = i * .3 * 1.5; if (u < Math.abs(r)) { u = r; var s = o / 4 } else var s = o / (2 * Math.PI) * Math.asin(r / u); if (t < 1) return -.5 * u * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * i - s) * 2 * Math.PI / o) + n; return u * Math.pow(2, -10 * (t -= 1)) * Math.sin((t * i - s) * 2 * Math.PI / o) * .5 + r + n }, easeInBack: function (e, t, n, r, i, s) { if (s == undefined) s = 1.70158; return r * (t /= i) * t * ((s + 1) * t - s) + n }, easeOutBack: function (e, t, n, r, i, s) { if (s == undefined) s = 1.70158; return r * ((t = t / i - 1) * t * ((s + 1) * t + s) + 1) + n }, easeInOutBack: function (e, t, n, r, i, s) { if (s == undefined) s = 1.70158; if ((t /= i / 2) < 1) return r / 2 * t * t * (((s *= 1.525) + 1) * t - s) + n; return r / 2 * ((t -= 2) * t * (((s *= 1.525) + 1) * t + s) + 2) + n }, easeInBounce: function (e, t, n, r, i) { return r - jQuery.easing.easeOutBounce(e, i - t, 0, r, i) + n }, easeOutBounce: function (e, t, n, r, i) { if ((t /= i) < 1 / 2.75) { return r * 7.5625 * t * t + n } else if (t < 2 / 2.75) { return r * (7.5625 * (t -= 1.5 / 2.75) * t + .75) + n } else if (t < 2.5 / 2.75) { return r * (7.5625 * (t -= 2.25 / 2.75) * t + .9375) + n } else { return r * (7.5625 * (t -= 2.625 / 2.75) * t + .984375) + n } }, easeInOutBounce: function (e, t, n, r, i) { if (t < i / 2) return jQuery.easing.easeInBounce(e, t * 2, 0, r, i) * .5 + n; return jQuery.easing.easeOutBounce(e, t * 2 - i, 0, r, i) * .5 + r * .5 + n } });

/* Copyright (c) 2010 Brandon Aaron (http://brandonaaron.net)
* Licensed under the MIT License (LICENSE.txt).
* Version 2.1.2 */
(function (a) { a.fn.bgiframe = (a.browser.msie && /msie 6\.0/i.test(navigator.userAgent) ? function (d) { d = a.extend({ top: "auto", left: "auto", width: "auto", height: "auto", opacity: true, src: "javascript:false;" }, d); var c = '<iframe class="bgiframe"frameborder="0"tabindex="-1"src="' + d.src + '"style="display:block;position:absolute;z-index:-1;' + (d.opacity !== false ? "filter:Alpha(Opacity='0');" : "") + "top:" + (d.top == "auto" ? "expression(((parseInt(this.parentNode.currentStyle.borderTopWidth)||0)*-1)+'px')" : b(d.top)) + ";left:" + (d.left == "auto" ? "expression(((parseInt(this.parentNode.currentStyle.borderLeftWidth)||0)*-1)+'px')" : b(d.left)) + ";width:" + (d.width == "auto" ? "expression(this.parentNode.offsetWidth+'px')" : b(d.width)) + ";height:" + (d.height == "auto" ? "expression(this.parentNode.offsetHeight+'px')" : b(d.height)) + ';"/>'; return this.each(function () { if (a(this).children("iframe.bgiframe").length === 0) { this.insertBefore(document.createElement(c), this.firstChild) } }) } : function () { return this }); a.fn.bgIframe = a.fn.bgiframe; function b(c) { return c && c.constructor === Number ? c + "px" : c } })(jQuery);

/* Knockout JavaScript library v3.2.0 (c) Steven Sanderson - http://knockoutjs.com/ License: MIT (http://www.opensource.org/licenses/mit-license.php) */
(function () { (function (p) { var s = this || (0, eval)("this"), v = s.document, L = s.navigator, w = s.jQuery, D = s.JSON; (function (e) { "function" === typeof require && "object" === typeof exports && "object" === typeof module ? e(module.exports || exports, require) : "function" === typeof define && define.amd ? define(["exports", "require"], e) : e(s.ko = {}) })(function (e, t) { function n(e, t) { return null === e || typeof e in a ? e === t : !1 } function r(e, t) { var n; return function () { n || (n = setTimeout(function () { n = p; e() }, t)) } } function i(e, t) { var n; return function () { clearTimeout(n); n = setTimeout(e, t) } } function o(e, t, n, r) { u.d[e] = { init: function (e, i, s, o, a) { var f, l; u.s(function () { var s = u.a.c(i()), o = !n !== !s, c = !l; if (c || t || o !== f) c && u.Y.la() && (l = u.a.ia(u.f.childNodes(e), !0)), o ? (c || u.f.T(e, u.a.ia(l)), u.Ca(r ? r(a, s) : a, e)) : u.f.ja(e), f = o }, null, { o: e }); return { controlsDescendantBindings: !0 } } }; u.h.ha[e] = !1; u.f.Q[e] = !0 } var u = "undefined" !== typeof e ? e : {}; u.b = function (e, t) { for (var n = e.split("."), r = u, i = 0; i < n.length - 1; i++) r = r[n[i]]; r[n[n.length - 1]] = t }; u.A = function (e, t, n) { e[t] = n }; u.version = "3.2.0"; u.b("version", u.version); u.a = function () { function e(e, t) { for (var n in e) e.hasOwnProperty(n) && t(n, e[n]) } function t(e, t) { if (t) for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]); return e } function n(e, t) { e.__proto__ = t; return e } var r = { __proto__: [] } instanceof Array, i = {}, o = {}; i[L && /Firefox\/2/i.test(L.userAgent) ? "KeyboardEvent" : "UIEvents"] = ["keyup", "keydown", "keypress"]; i.MouseEvents = "click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" "); e(i, function (e, t) { if (t.length) for (var n = 0, r = t.length; n < r; n++) o[t[n]] = e }); var a = { propertychange: !0 }, f = v && function () { for (var e = 3, t = v.createElement("div"), n = t.getElementsByTagName("i") ; t.innerHTML = "<!--[if gt IE " + ++e + "]><i></i><![endif]-->", n[0];); return 4 < e ? e : p }(); return { vb: ["authenticity_token", /^__RequestVerificationToken(_.*)?$/], u: function (e, t) { for (var n = 0, r = e.length; n < r; n++) t(e[n], n) }, m: function (e, t) { if ("function" == typeof Array.prototype.indexOf) return Array.prototype.indexOf.call(e, t); for (var n = 0, r = e.length; n < r; n++) if (e[n] === t) return n; return -1 }, qb: function (e, t, n) { for (var r = 0, i = e.length; r < i; r++) if (t.call(n, e[r], r)) return e[r]; return null }, ua: function (e, t) { var n = u.a.m(e, t); 0 < n ? e.splice(n, 1) : 0 === n && e.shift() }, rb: function (e) { e = e || []; for (var t = [], n = 0, r = e.length; n < r; n++) 0 > u.a.m(t, e[n]) && t.push(e[n]); return t }, Da: function (e, t) { e = e || []; for (var n = [], r = 0, i = e.length; r < i; r++) n.push(t(e[r], r)); return n }, ta: function (e, t) { e = e || []; for (var n = [], r = 0, i = e.length; r < i; r++) t(e[r], r) && n.push(e[r]); return n }, ga: function (e, t) { if (t instanceof Array) e.push.apply(e, t); else for (var n = 0, r = t.length; n < r; n++) e.push(t[n]); return e }, ea: function (e, t, n) { var r = u.a.m(u.a.Xa(e), t); 0 > r ? n && e.push(t) : n || e.splice(r, 1) }, xa: r, extend: t, za: n, Aa: r ? n : t, G: e, na: function (e, t) { if (!e) return e; var n = {}, r; for (r in e) e.hasOwnProperty(r) && (n[r] = t(e[r], r, e)); return n }, Ka: function (e) { for (; e.firstChild;) u.removeNode(e.firstChild) }, oc: function (e) { e = u.a.S(e); for (var t = v.createElement("div"), n = 0, r = e.length; n < r; n++) t.appendChild(u.R(e[n])); return t }, ia: function (e, t) { for (var n = 0, r = e.length, i = []; n < r; n++) { var s = e[n].cloneNode(!0); i.push(t ? u.R(s) : s) } return i }, T: function (e, t) { u.a.Ka(e); if (t) for (var n = 0, r = t.length; n < r; n++) e.appendChild(t[n]) }, Lb: function (e, t) { var n = e.nodeType ? [e] : e; if (0 < n.length) { for (var r = n[0], i = r.parentNode, s = 0, o = t.length; s < o; s++) i.insertBefore(t[s], r); s = 0; for (o = n.length; s < o; s++) u.removeNode(n[s]) } }, ka: function (e, t) { if (e.length) { for (t = 8 === t.nodeType && t.parentNode || t; e.length && e[0].parentNode !== t;) e.shift(); if (1 < e.length) { var n = e[0], r = e[e.length - 1]; for (e.length = 0; n !== r;) if (e.push(n), n = n.nextSibling, !n) return; e.push(r) } } return e }, Nb: function (e, t) { 7 > f ? e.setAttribute("selected", t) : e.selected = t }, cb: function (e) { return null === e || e === p ? "" : e.trim ? e.trim() : e.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g, "") }, vc: function (e, t) { e = e || ""; return t.length > e.length ? !1 : e.substring(0, t.length) === t }, cc: function (e, t) { if (e === t) return !0; if (11 === e.nodeType) return !1; if (t.contains) return t.contains(3 === e.nodeType ? e.parentNode : e); if (t.compareDocumentPosition) return 16 == (t.compareDocumentPosition(e) & 16); for (; e && e != t;) e = e.parentNode; return !!e }, Ja: function (e) { return u.a.cc(e, e.ownerDocument.documentElement) }, ob: function (e) { return !!u.a.qb(e, u.a.Ja) }, t: function (e) { return e && e.tagName && e.tagName.toLowerCase() }, n: function (e, t, n) { var r = f && a[t]; if (!r && w) w(e).bind(t, n); else if (r || "function" != typeof e.addEventListener) if ("undefined" != typeof e.attachEvent) { var i = function (t) { n.call(e, t) }, s = "on" + t; e.attachEvent(s, i); u.a.w.da(e, function () { e.detachEvent(s, i) }) } else throw Error("Browser doesn't support addEventListener or attachEvent"); else e.addEventListener(t, n, !1) }, oa: function (e, t) { if (!e || !e.nodeType) throw Error("element must be a DOM node when calling triggerEvent"); var n; "input" === u.a.t(e) && e.type && "click" == t.toLowerCase() ? (n = e.type, n = "checkbox" == n || "radio" == n) : n = !1; if (w && !n) w(e).trigger(t); else if ("function" == typeof v.createEvent) if ("function" == typeof e.dispatchEvent) n = v.createEvent(o[t] || "HTMLEvents"), n.initEvent(t, !0, !0, s, 0, 0, 0, 0, 0, !1, !1, !1, !1, 0, e), e.dispatchEvent(n); else throw Error("The supplied element doesn't support dispatchEvent"); else if (n && e.click) e.click(); else if ("undefined" != typeof e.fireEvent) e.fireEvent("on" + t); else throw Error("Browser doesn't support triggering events") }, c: function (e) { return u.C(e) ? e() : e }, Xa: function (e) { return u.C(e) ? e.v() : e }, Ba: function (e, t, n) { if (t) { var r = /\S+/g, i = e.className.match(r) || []; u.a.u(t.match(r), function (e) { u.a.ea(i, e, n) }); e.className = i.join(" ") } }, bb: function (e, t) { var n = u.a.c(t); if (null === n || n === p) n = ""; var r = u.f.firstChild(e); !r || 3 != r.nodeType || u.f.nextSibling(r) ? u.f.T(e, [e.ownerDocument.createTextNode(n)]) : r.data = n; u.a.fc(e) }, Mb: function (e, t) { e.name = t; if (7 >= f) try { e.mergeAttributes(v.createElement("<input name='" + e.name + "'/>"), !1) } catch (n) { } }, fc: function (e) { 9 <= f && (e = 1 == e.nodeType ? e : e.parentNode, e.style && (e.style.zoom = e.style.zoom)) }, dc: function (e) { if (f) { var t = e.style.width; e.style.width = 0; e.style.width = t } }, sc: function (e, t) { e = u.a.c(e); t = u.a.c(t); for (var n = [], r = e; r <= t; r++) n.push(r); return n }, S: function (e) { for (var t = [], n = 0, r = e.length; n < r; n++) t.push(e[n]); return t }, yc: 6 === f, zc: 7 === f, L: f, xb: function (e, t) { for (var n = u.a.S(e.getElementsByTagName("input")).concat(u.a.S(e.getElementsByTagName("textarea"))), r = "string" == typeof t ? function (e) { return e.name === t } : function (e) { return t.test(e.name) }, i = [], s = n.length - 1; 0 <= s; s--) r(n[s]) && i.push(n[s]); return i }, pc: function (e) { return "string" == typeof e && (e = u.a.cb(e)) ? D && D.parse ? D.parse(e) : (new Function("return " + e))() : null }, eb: function (e, t, n) { if (!D || !D.stringify) throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js"); return D.stringify(u.a.c(e), t, n) }, qc: function (t, n, r) { r = r || {}; var i = r.params || {}, s = r.includeFields || this.vb, o = t; if ("object" == typeof t && "form" === u.a.t(t)) for (var o = t.action, a = s.length - 1; 0 <= a; a--) for (var f = u.a.xb(t, s[a]), l = f.length - 1; 0 <= l; l--) i[f[l].name] = f[l].value; n = u.a.c(n); var c = v.createElement("form"); c.style.display = "none"; c.action = o; c.method = "post"; for (var h in n) t = v.createElement("input"), t.type = "hidden", t.name = h, t.value = u.a.eb(u.a.c(n[h])), c.appendChild(t); e(i, function (e, t) { var n = v.createElement("input"); n.type = "hidden"; n.name = e; n.value = t; c.appendChild(n) }); v.body.appendChild(c); r.submitter ? r.submitter(c) : c.submit(); setTimeout(function () { c.parentNode.removeChild(c) }, 0) } } }(); u.b("utils", u.a); u.b("utils.arrayForEach", u.a.u); u.b("utils.arrayFirst", u.a.qb); u.b("utils.arrayFilter", u.a.ta); u.b("utils.arrayGetDistinctValues", u.a.rb); u.b("utils.arrayIndexOf", u.a.m); u.b("utils.arrayMap", u.a.Da); u.b("utils.arrayPushAll", u.a.ga); u.b("utils.arrayRemoveItem", u.a.ua); u.b("utils.extend", u.a.extend); u.b("utils.fieldsIncludedWithJsonPost", u.a.vb); u.b("utils.getFormFields", u.a.xb); u.b("utils.peekObservable", u.a.Xa); u.b("utils.postJson", u.a.qc); u.b("utils.parseJson", u.a.pc); u.b("utils.registerEventHandler", u.a.n); u.b("utils.stringifyJson", u.a.eb); u.b("utils.range", u.a.sc); u.b("utils.toggleDomNodeCssClass", u.a.Ba); u.b("utils.triggerEvent", u.a.oa); u.b("utils.unwrapObservable", u.a.c); u.b("utils.objectForEach", u.a.G); u.b("utils.addOrRemoveItem", u.a.ea); u.b("unwrap", u.a.c); Function.prototype.bind || (Function.prototype.bind = function (e) { var t = this, n = Array.prototype.slice.call(arguments); e = n.shift(); return function () { return t.apply(e, n.concat(Array.prototype.slice.call(arguments))) } }); u.a.e = new function () { function e(e, i) { var s = e[n]; if (!s || "null" === s || !r[s]) { if (!i) return p; s = e[n] = "ko" + t++; r[s] = {} } return r[s] } var t = 0, n = "__ko__" + (new Date).getTime(), r = {}; return { get: function (t, n) { var r = e(t, !1); return r === p ? p : r[n] }, set: function (t, n, r) { if (r !== p || e(t, !1) !== p) e(t, !0)[n] = r }, clear: function (e) { var t = e[n]; return t ? (delete r[t], e[n] = null, !0) : !1 }, F: function () { return t++ + n } } }; u.b("utils.domData", u.a.e); u.b("utils.domData.clear", u.a.e.clear); u.a.w = new function () { function e(e, t) { var r = u.a.e.get(e, n); r === p && t && (r = [], u.a.e.set(e, n, r)); return r } function t(n) { var r = e(n, !1); if (r) for (var r = r.slice(0), s = 0; s < r.length; s++) r[s](n); u.a.e.clear(n); u.a.w.cleanExternalData(n); if (i[n.nodeType]) for (r = n.firstChild; n = r;) r = n.nextSibling, 8 === n.nodeType && t(n) } var n = u.a.e.F(), r = { 1: !0, 8: !0, 9: !0 }, i = { 1: !0, 9: !0 }; return { da: function (t, n) { if ("function" != typeof n) throw Error("Callback must be a function"); e(t, !0).push(n) }, Kb: function (t, r) { var i = e(t, !1); i && (u.a.ua(i, r), 0 == i.length && u.a.e.set(t, n, p)) }, R: function (e) { if (r[e.nodeType] && (t(e), i[e.nodeType])) { var n = []; u.a.ga(n, e.getElementsByTagName("*")); for (var s = 0, o = n.length; s < o; s++) t(n[s]) } return e }, removeNode: function (e) { u.R(e); e.parentNode && e.parentNode.removeChild(e) }, cleanExternalData: function (e) { w && "function" == typeof w.cleanData && w.cleanData([e]) } } }; u.R = u.a.w.R; u.removeNode = u.a.w.removeNode; u.b("cleanNode", u.R); u.b("removeNode", u.removeNode); u.b("utils.domNodeDisposal", u.a.w); u.b("utils.domNodeDisposal.addDisposeCallback", u.a.w.da); u.b("utils.domNodeDisposal.removeDisposeCallback", u.a.w.Kb); (function () { u.a.ba = function (e) { var t; if (w) if (w.parseHTML) t = w.parseHTML(e) || []; else { if ((t = w.clean([e])) && t[0]) { for (e = t[0]; e.parentNode && 11 !== e.parentNode.nodeType;) e = e.parentNode; e.parentNode && e.parentNode.removeChild(e) } } else { var n = u.a.cb(e).toLowerCase(); t = v.createElement("div"); n = n.match(/^<(thead|tbody|tfoot)/) && [1, "<table>", "</table>"] || !n.indexOf("<tr") && [2, "<table><tbody>", "</tbody></table>"] || (!n.indexOf("<td") || !n.indexOf("<th")) && [3, "<table><tbody><tr>", "</tr></tbody></table>"] || [0, "", ""]; e = "ignored<div>" + n[1] + e + n[2] + "</div>"; for ("function" == typeof s.innerShiv ? t.appendChild(s.innerShiv(e)) : t.innerHTML = e; n[0]--;) t = t.lastChild; t = u.a.S(t.lastChild.childNodes) } return t }; u.a.$a = function (e, t) { u.a.Ka(e); t = u.a.c(t); if (null !== t && t !== p) if ("string" != typeof t && (t = t.toString()), w) w(e).html(t); else for (var n = u.a.ba(t), r = 0; r < n.length; r++) e.appendChild(n[r]) } })(); u.b("utils.parseHtmlFragment", u.a.ba); u.b("utils.setHtml", u.a.$a); u.D = function () { function e(t, n) { if (t) if (8 == t.nodeType) { var r = u.D.Gb(t.nodeValue); null != r && n.push({ bc: t, mc: r }) } else if (1 == t.nodeType) for (var r = 0, i = t.childNodes, s = i.length; r < s; r++) e(i[r], n) } var t = {}; return { Ua: function (e) { if ("function" != typeof e) throw Error("You can only pass a function to ko.memoization.memoize()"); var n = (4294967296 * (1 + Math.random()) | 0).toString(16).substring(1) + (4294967296 * (1 + Math.random()) | 0).toString(16).substring(1); t[n] = e; return "<!--[ko_memo:" + n + "]-->" }, Rb: function (e, n) { var r = t[e]; if (r === p) throw Error("Couldn't find any memo with ID " + e + ". Perhaps it's already been unmemoized."); try { return r.apply(null, n || []), !0 } finally { delete t[e] } }, Sb: function (t, n) { var r = []; e(t, r); for (var i = 0, s = r.length; i < s; i++) { var o = r[i].bc, a = [o]; n && u.a.ga(a, n); u.D.Rb(r[i].mc, a); o.nodeValue = ""; o.parentNode && o.parentNode.removeChild(o) } }, Gb: function (e) { return (e = e.match(/^\[ko_memo\:(.*?)\]$/)) ? e[1] : null } } }(); u.b("memoization", u.D); u.b("memoization.memoize", u.D.Ua); u.b("memoization.unmemoize", u.D.Rb); u.b("memoization.parseMemoText", u.D.Gb); u.b("memoization.unmemoizeDomNodeAndDescendants", u.D.Sb); u.La = { throttle: function (e, t) { e.throttleEvaluation = t; var n = null; return u.j({ read: e, write: function (r) { clearTimeout(n); n = setTimeout(function () { e(r) }, t) } }) }, rateLimit: function (e, t) { var n, s, o; "number" == typeof t ? n = t : (n = t.timeout, s = t.method); o = "notifyWhenChangesStop" == s ? i : r; e.Ta(function (e) { return o(e, n) }) }, notify: function (e, t) { e.equalityComparer = "always" == t ? null : n } }; var a = { "undefined": 1, "boolean": 1, number: 1, string: 1 }; u.b("extenders", u.La); u.Pb = function (e, t, n) { this.target = e; this.wa = t; this.ac = n; this.Cb = !1; u.A(this, "dispose", this.K) }; u.Pb.prototype.K = function () { this.Cb = !0; this.ac() }; u.P = function () { u.a.Aa(this, u.P.fn); this.M = {} }; var f = "change", l = { U: function (e, t, n) { var r = this; n = n || f; var i = new u.Pb(r, t ? e.bind(t) : e, function () { u.a.ua(r.M[n], i); r.nb && r.nb() }); r.va && r.va(n); r.M[n] || (r.M[n] = []); r.M[n].push(i); return i }, notifySubscribers: function (e, t) { t = t || f; if (this.Ab(t)) try { u.k.Ea(); for (var n = this.M[t].slice(0), r = 0, i; i = n[r]; ++r) i.Cb || i.wa(e) } finally { u.k.end() } }, Ta: function (e) { var t = this, n = u.C(t), r, i, s; t.qa || (t.qa = t.notifySubscribers, t.notifySubscribers = function (e, n) { n && n !== f ? "beforeChange" === n ? t.kb(e) : t.qa(e, n) : t.lb(e) }); var o = e(function () { n && s === t && (s = t()); r = !1; t.Pa(i, s) && t.qa(i = s) }); t.lb = function (e) { r = !0; s = e; o() }; t.kb = function (e) { r || (i = e, t.qa(e, "beforeChange")) } }, Ab: function (e) { return this.M[e] && this.M[e].length }, yb: function () { var e = 0; u.a.G(this.M, function (t, n) { e += n.length }); return e }, Pa: function (e, t) { return !this.equalityComparer || !this.equalityComparer(e, t) }, extend: function (e) { var t = this; e && u.a.G(e, function (e, n) { var r = u.La[e]; "function" == typeof r && (t = r(t, n) || t) }); return t } }; u.A(l, "subscribe", l.U); u.A(l, "extend", l.extend); u.A(l, "getSubscriptionsCount", l.yb); u.a.xa && u.a.za(l, Function.prototype); u.P.fn = l; u.Db = function (e) { return null != e && "function" == typeof e.U && "function" == typeof e.notifySubscribers }; u.b("subscribable", u.P); u.b("isSubscribable", u.Db); u.Y = u.k = function () { function e(e) { n.push(r); r = e } function t() { r = n.pop() } var n = [], r, i = 0; return { Ea: e, end: t, Jb: function (e) { if (r) { if (!u.Db(e)) throw Error("Only subscribable things can act as dependencies"); r.wa(e, e.Vb || (e.Vb = ++i)) } }, B: function (n, r, i) { try { return e(), n.apply(r, i || []) } finally { t() } }, la: function () { if (r) return r.s.la() }, ma: function () { if (r) return r.ma } } }(); u.b("computedContext", u.Y); u.b("computedContext.getDependenciesCount", u.Y.la); u.b("computedContext.isInitial", u.Y.ma); u.b("computedContext.isSleeping", u.Y.Ac); u.p = function (e) { function t() { if (0 < arguments.length) return t.Pa(n, arguments[0]) && (t.X(), n = arguments[0], t.W()), this; u.k.Jb(t); return n } var n = e; u.P.call(t); u.a.Aa(t, u.p.fn); t.v = function () { return n }; t.W = function () { t.notifySubscribers(n) }; t.X = function () { t.notifySubscribers(n, "beforeChange") }; u.A(t, "peek", t.v); u.A(t, "valueHasMutated", t.W); u.A(t, "valueWillMutate", t.X); return t }; u.p.fn = { equalityComparer: n }; var c = u.p.rc = "__ko_proto__"; u.p.fn[c] = u.p; u.a.xa && u.a.za(u.p.fn, u.P.fn); u.Ma = function (e, t) { return null === e || e === p || e[c] === p ? !1 : e[c] === t ? !0 : u.Ma(e[c], t) }; u.C = function (e) { return u.Ma(e, u.p) }; u.Ra = function (e) { return "function" == typeof e && e[c] === u.p || "function" == typeof e && e[c] === u.j && e.hc ? !0 : !1 }; u.b("observable", u.p); u.b("isObservable", u.C); u.b("isWriteableObservable", u.Ra); u.b("isWritableObservable", u.Ra); u.aa = function (e) { e = e || []; if ("object" != typeof e || !("length" in e)) throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined."); e = u.p(e); u.a.Aa(e, u.aa.fn); return e.extend({ trackArrayChanges: !0 }) }; u.aa.fn = { remove: function (e) { for (var t = this.v(), n = [], r = "function" != typeof e || u.C(e) ? function (t) { return t === e } : e, i = 0; i < t.length; i++) { var s = t[i]; r(s) && (0 === n.length && this.X(), n.push(s), t.splice(i, 1), i--) } n.length && this.W(); return n }, removeAll: function (e) { if (e === p) { var t = this.v(), n = t.slice(0); this.X(); t.splice(0, t.length); this.W(); return n } return e ? this.remove(function (t) { return 0 <= u.a.m(e, t) }) : [] }, destroy: function (e) { var t = this.v(), n = "function" != typeof e || u.C(e) ? function (t) { return t === e } : e; this.X(); for (var r = t.length - 1; 0 <= r; r--) n(t[r]) && (t[r]._destroy = !0); this.W() }, destroyAll: function (e) { return e === p ? this.destroy(function () { return !0 }) : e ? this.destroy(function (t) { return 0 <= u.a.m(e, t) }) : [] }, indexOf: function (e) { var t = this(); return u.a.m(t, e) }, replace: function (e, t) { var n = this.indexOf(e); 0 <= n && (this.X(), this.v()[n] = t, this.W()) } }; u.a.u("pop push reverse shift sort splice unshift".split(" "), function (e) { u.aa.fn[e] = function () { var t = this.v(); this.X(); this.sb(t, e, arguments); t = t[e].apply(t, arguments); this.W(); return t } }); u.a.u(["slice"], function (e) { u.aa.fn[e] = function () { var t = this(); return t[e].apply(t, arguments) } }); u.a.xa && u.a.za(u.aa.fn, u.p.fn); u.b("observableArray", u.aa); var h = "arrayChange"; u.La.trackArrayChanges = function (e) { function t() { if (!n) { n = !0; var t = e.notifySubscribers; e.notifySubscribers = function (e, n) { n && n !== f || ++i; return t.apply(this, arguments) }; var s = [].concat(e.v() || []); r = null; e.U(function (t) { t = [].concat(t || []); if (e.Ab(h)) { var n; if (!r || 1 < i) r = u.a.Fa(s, t, { sparse: !0 }); n = r; n.length && e.notifySubscribers(n, h) } s = t; r = null; i = 0 }) } } if (!e.sb) { var n = !1, r = null, i = 0, s = e.U; e.U = e.subscribe = function (e, n, r) { r === h && t(); return s.apply(this, arguments) }; e.sb = function (e, t, s) { function o(e, t, n) { return a[a.length] = { status: e, value: t, index: n } } if (n && !i) { var a = [], f = e.length, l = s.length, c = 0; switch (t) { case "push": c = f; case "unshift": for (t = 0; t < l; t++) o("added", s[t], c + t); break; case "pop": c = f - 1; case "shift": f && o("deleted", e[c], c); break; case "splice": t = Math.min(Math.max(0, 0 > s[0] ? f + s[0] : s[0]), f); for (var f = 1 === l ? f : Math.min(t + (s[1] || 0), f), l = t + l - 2, c = Math.max(f, l), h = [], p = [], d = 2; t < c; ++t, ++d) t < f && p.push(o("deleted", e[t], t)), t < l && h.push(o("added", s[d], t)); u.a.wb(p, h); break; default: return } r = a } } } }; u.s = u.j = function (e, t, n) { function r() { u.a.G(N, function (e, t) { t.K() }); N = {} } function i() { r(); C = 0; m = !0; h = !1 } function s() { var e = a.throttleEvaluation; e && 0 <= e ? (clearTimeout(k), k = setTimeout(o, e)) : a.ib ? a.ib() : o() } function o(e) { if (d) { if (y) throw Error("A 'pure' computed must not be called recursively") } else if (!m) { if (x && x()) { if (!v) { T(); return } } else v = !1; d = !0; if (b) try { var n = {}; u.k.Ea({ wa: function (e, t) { n[t] || (n[t] = 1, ++C) }, s: a, ma: p }); C = 0; c = g.call(t) } finally { u.k.end(), d = !1 } else try { var r = N, i = C; u.k.Ea({ wa: function (e, t) { m || (i && r[t] ? (N[t] = r[t], ++C, delete r[t], --i) : N[t] || (N[t] = e.U(s), ++C)) }, s: a, ma: y ? p : !C }); N = {}; C = 0; try { var o = t ? g.call(t) : g() } finally { u.k.end(), i && u.a.G(r, function (e, t) { t.K() }), h = !1 } a.Pa(c, o) && (a.notifySubscribers(c, "beforeChange"), c = o, !0 !== e && a.notifySubscribers(c)) } finally { d = !1 } C || T() } } function a() { if (0 < arguments.length) { if ("function" === typeof w) w.apply(t, arguments); else throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters."); return this } u.k.Jb(a); h && o(!0); return c } function f() { h && !C && o(!0); return c } function l() { return h || 0 < C } var c, h = !0, d = !1, v = !1, m = !1, g = e, y = !1, b = !1; g && "object" == typeof g ? (n = g, g = n.read) : (n = n || {}, g || (g = n.read)); if ("function" != typeof g) throw Error("Pass a function that returns the value of the ko.computed"); var w = n.write, E = n.disposeWhenNodeIsRemoved || n.o || null, S = n.disposeWhen || n.Ia, x = S, T = i, N = {}, C = 0, k = null; t || (t = n.owner); u.P.call(a); u.a.Aa(a, u.j.fn); a.v = f; a.la = function () { return C }; a.hc = "function" === typeof n.write; a.K = function () { T() }; a.Z = l; var L = a.Ta; a.Ta = function (e) { L.call(a, e); a.ib = function () { a.kb(c); h = !0; a.lb(a) } }; n.pure ? (b = y = !0, a.va = function () { b && (b = !1, o(!0)) }, a.nb = function () { a.yb() || (r(), b = h = !0) }) : n.deferEvaluation && (a.va = function () { f(); delete a.va }); u.A(a, "peek", a.v); u.A(a, "dispose", a.K); u.A(a, "isActive", a.Z); u.A(a, "getDependenciesCount", a.la); E && (v = !0, E.nodeType && (x = function () { return !u.a.Ja(E) || S && S() })); b || n.deferEvaluation || o(); E && l() && E.nodeType && (T = function () { u.a.w.Kb(E, T); i() }, u.a.w.da(E, T)); return a }; u.jc = function (e) { return u.Ma(e, u.j) }; l = u.p.rc; u.j[l] = u.p; u.j.fn = { equalityComparer: n }; u.j.fn[l] = u.j; u.a.xa && u.a.za(u.j.fn, u.P.fn); u.b("dependentObservable", u.j); u.b("computed", u.j); u.b("isComputed", u.jc); u.Ib = function (e, t) { if ("function" === typeof e) return u.s(e, t, { pure: !0 }); e = u.a.extend({}, e); e.pure = !0; return u.s(e, t) }; u.b("pureComputed", u.Ib); (function () { function e(r, i, s) { s = s || new n; r = i(r); if ("object" != typeof r || null === r || r === p || r instanceof Date || r instanceof String || r instanceof Number || r instanceof Boolean) return r; var o = r instanceof Array ? [] : {}; s.save(r, o); t(r, function (t) { var n = i(r[t]); switch (typeof n) { case "boolean": case "number": case "string": case "function": o[t] = n; break; case "object": case "undefined": var u = s.get(n); o[t] = u !== p ? u : e(n, i, s) } }); return o } function t(e, t) { if (e instanceof Array) { for (var n = 0; n < e.length; n++) t(n); "function" == typeof e.toJSON && t("toJSON") } else for (n in e) t(n) } function n() { this.keys = []; this.hb = [] } u.Qb = function (t) { if (0 == arguments.length) throw Error("When calling ko.toJS, pass the object you want to convert."); return e(t, function (e) { for (var t = 0; u.C(e) && 10 > t; t++) e = e(); return e }) }; u.toJSON = function (e, t, n) { e = u.Qb(e); return u.a.eb(e, t, n) }; n.prototype = { save: function (e, t) { var n = u.a.m(this.keys, e); 0 <= n ? this.hb[n] = t : (this.keys.push(e), this.hb.push(t)) }, get: function (e) { e = u.a.m(this.keys, e); return 0 <= e ? this.hb[e] : p } } })(); u.b("toJS", u.Qb); u.b("toJSON", u.toJSON); (function () { u.i = { q: function (e) { switch (u.a.t(e)) { case "option": return !0 === e.__ko__hasDomDataOptionValue__ ? u.a.e.get(e, u.d.options.Va) : 7 >= u.a.L ? e.getAttributeNode("value") && e.getAttributeNode("value").specified ? e.value : e.text : e.value; case "select": return 0 <= e.selectedIndex ? u.i.q(e.options[e.selectedIndex]) : p; default: return e.value } }, ca: function (e, t, n) { switch (u.a.t(e)) { case "option": switch (typeof t) { case "string": u.a.e.set(e, u.d.options.Va, p); "__ko__hasDomDataOptionValue__" in e && delete e.__ko__hasDomDataOptionValue__; e.value = t; break; default: u.a.e.set(e, u.d.options.Va, t), e.__ko__hasDomDataOptionValue__ = !0, e.value = "number" === typeof t ? t : "" } break; case "select": if ("" === t || null === t) t = p; for (var r = -1, i = 0, s = e.options.length, o; i < s; ++i) if (o = u.i.q(e.options[i]), o == t || "" == o && t === p) { r = i; break } if (n || 0 <= r || t === p && 1 < e.size) e.selectedIndex = r; break; default: if (null === t || t === p) t = ""; e.value = t } } } })(); u.b("selectExtensions", u.i); u.b("selectExtensions.readValue", u.i.q); u.b("selectExtensions.writeValue", u.i.ca); u.h = function () { function e(e) { e = u.a.cb(e); 123 === e.charCodeAt(0) && (e = e.slice(1, -1)); var t = [], n = e.match(r), o, a, f = 0; if (n) { n.push(","); for (var l = 0, c; c = n[l]; ++l) { var h = c.charCodeAt(0); if (44 === h) { if (0 >= f) { o && t.push(a ? { key: o, value: a.join("") } : { unknown: o }); o = a = f = 0; continue } } else if (58 === h) { if (!a) continue } else if (47 === h && l && 1 < c.length) (h = n[l - 1].match(i)) && !s[h[0]] && (e = e.substr(e.indexOf(c) + 1), n = e.match(r), n.push(","), l = -1, c = "/"); else if (40 === h || 123 === h || 91 === h)++f; else if (41 === h || 125 === h || 93 === h)--f; else if (!o && !a) { o = 34 === h || 39 === h ? c.slice(1, -1) : c; continue } a ? a.push(c) : a = [c] } } return t } var t = ["true", "false", "null", "undefined"], n = /^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i, r = RegExp("\"(?:[^\"\\\\]|\\\\.)*\"|'(?:[^'\\\\]|\\\\.)*'|/(?:[^/\\\\]|\\\\.)*/w*|[^\\s:,/][^,\"'{}()/:[\\]]*[^\\s,\"'{}()/:[\\]]|[^\\s]", "g"), i = /[\])"'A-Za-z0-9_$]+$/, s = { "in": 1, "return": 1, "typeof": 1 }, o = {}; return { ha: [], V: o, Wa: e, ya: function (r, i) { function s(e, r) { var i; if (!c) { var h = u.getBindingHandler(e); if (h && h.preprocess && !(r = h.preprocess(r, e, s))) return; if (h = o[e]) i = r, 0 <= u.a.m(t, i) ? i = !1 : (h = i.match(n), i = null === h ? !1 : h[1] ? "Object(" + h[1] + ")" + h[2] : i), h = i; h && f.push("'" + e + "':function(_z){" + i + "=_z}") } l && (r = "function(){return " + r + " }"); a.push("'" + e + "':" + r) } i = i || {}; var a = [], f = [], l = i.valueAccessors, c = i.bindingParams, h = "string" === typeof r ? e(r) : r; u.a.u(h, function (e) { s(e.key || e.unknown, e.value) }); f.length && s("_ko_property_writers", "{" + f.join(",") + " }"); return a.join(",") }, lc: function (e, t) { for (var n = 0; n < e.length; n++) if (e[n].key == t) return !0; return !1 }, pa: function (e, t, n, r, i) { if (e && u.C(e)) !u.Ra(e) || i && e.v() === r || e(r); else if ((e = t.get("_ko_property_writers")) && e[n]) e[n](r) } } }(); u.b("expressionRewriting", u.h); u.b("expressionRewriting.bindingRewriteValidators", u.h.ha); u.b("expressionRewriting.parseObjectLiteral", u.h.Wa); u.b("expressionRewriting.preProcessBindings", u.h.ya); u.b("expressionRewriting._twoWayBindings", u.h.V); u.b("jsonExpressionRewriting", u.h); u.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson", u.h.ya); (function () { function e(e) { return 8 == e.nodeType && s.test(i ? e.text : e.nodeValue) } function t(e) { return 8 == e.nodeType && o.test(i ? e.text : e.nodeValue) } function n(n, r) { for (var i = n, s = 1, o = []; i = i.nextSibling;) { if (t(i) && (s--, 0 === s)) return o; o.push(i); e(i) && s++ } if (!r) throw Error("Cannot find closing comment tag to match: " + n.nodeValue); return null } function r(e, t) { var r = n(e, t); return r ? 0 < r.length ? r[r.length - 1].nextSibling : e.nextSibling : null } var i = v && "<!--test-->" === v.createComment("test").text, s = i ? /^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/ : /^\s*ko(?:\s+([\s\S]+))?\s*$/, o = i ? /^\x3c!--\s*\/ko\s*--\x3e$/ : /^\s*\/ko\s*$/, a = { ul: !0, ol: !0 }; u.f = { Q: {}, childNodes: function (t) { return e(t) ? n(t) : t.childNodes }, ja: function (t) { if (e(t)) { t = u.f.childNodes(t); for (var n = 0, r = t.length; n < r; n++) u.removeNode(t[n]) } else u.a.Ka(t) }, T: function (t, n) { if (e(t)) { u.f.ja(t); for (var r = t.nextSibling, i = 0, s = n.length; i < s; i++) r.parentNode.insertBefore(n[i], r) } else u.a.T(t, n) }, Hb: function (t, n) { e(t) ? t.parentNode.insertBefore(n, t.nextSibling) : t.firstChild ? t.insertBefore(n, t.firstChild) : t.appendChild(n) }, Bb: function (t, n, r) { r ? e(t) ? t.parentNode.insertBefore(n, r.nextSibling) : r.nextSibling ? t.insertBefore(n, r.nextSibling) : t.appendChild(n) : u.f.Hb(t, n) }, firstChild: function (n) { return e(n) ? !n.nextSibling || t(n.nextSibling) ? null : n.nextSibling : n.firstChild }, nextSibling: function (n) { e(n) && (n = r(n)); return n.nextSibling && t(n.nextSibling) ? null : n.nextSibling }, gc: e, xc: function (e) { return (e = (i ? e.text : e.nodeValue).match(s)) ? e[1] : null }, Fb: function (n) { if (a[u.a.t(n)]) { var i = n.firstChild; if (i) { do if (1 === i.nodeType) { var s; s = i.firstChild; var o = null; if (s) { do if (o) o.push(s); else if (e(s)) { var f = r(s, !0); f ? s = f : o = [s] } else t(s) && (o = [s]); while (s = s.nextSibling) } if (s = o) for (o = i.nextSibling, f = 0; f < s.length; f++) o ? n.insertBefore(s[f], o) : n.appendChild(s[f]) } while (i = i.nextSibling) } } } } })(); u.b("virtualElements", u.f); u.b("virtualElements.allowedBindings", u.f.Q); u.b("virtualElements.emptyNode", u.f.ja); u.b("virtualElements.insertAfter", u.f.Bb); u.b("virtualElements.prepend", u.f.Hb); u.b("virtualElements.setDomNodeChildren", u.f.T); (function () { u.J = function () { this.Yb = {} }; u.a.extend(u.J.prototype, { nodeHasBindings: function (e) { switch (e.nodeType) { case 1: return null != e.getAttribute("data-bind") || u.g.getComponentNameForNode(e); case 8: return u.f.gc(e); default: return !1 } }, getBindings: function (e, t) { var n = this.getBindingsString(e, t), n = n ? this.parseBindingsString(n, t, e) : null; return u.g.mb(n, e, t, !1) }, getBindingAccessors: function (e, t) { var n = this.getBindingsString(e, t), n = n ? this.parseBindingsString(n, t, e, { valueAccessors: !0 }) : null; return u.g.mb(n, e, t, !0) }, getBindingsString: function (e) { switch (e.nodeType) { case 1: return e.getAttribute("data-bind"); case 8: return u.f.xc(e); default: return null } }, parseBindingsString: function (e, t, n, r) { try { var i = this.Yb, s = e + (r && r.valueAccessors || ""), o; if (!(o = i[s])) { var a, f = "with($context){with($data||{}){return{" + u.h.ya(e, r) + "}}}"; a = new Function("$context", "$element", f); o = i[s] = a } return o(t, n) } catch (l) { throw l.message = "Unable to parse bindings.\nBindings value: " + e + "\nMessage: " + l.message, l } } }); u.J.instance = new u.J })(); u.b("bindingProvider", u.J); (function () { function e(e) { return function () { return e } } function t(e) { return e() } function n(e) { return u.a.na(u.k.B(e), function (t, n) { return function () { return e()[n] } }) } function r(e, t) { return n(this.getBindings.bind(this, e, t)) } function i(e, t, n) { var r, i = u.f.firstChild(t), s = u.J.instance, a = s.preprocessNode; if (a) { for (; r = i;) i = u.f.nextSibling(r), a.call(s, r); i = u.f.firstChild(t) } for (; r = i;) i = u.f.nextSibling(r), o(e, r, n) } function o(e, t, n) { var r = !0, s = 1 === t.nodeType; s && u.f.Fb(t); if (s && n || u.J.instance.nodeHasBindings(t)) r = f(t, null, e, n).shouldBindDescendants; r && !c[u.a.t(t)] && i(e, t, !s) } function a(e) { var t = [], n = {}, r = []; u.a.G(e, function i(s) { if (!n[s]) { var o = u.getBindingHandler(s); o && (o.after && (r.push(s), u.a.u(o.after, function (t) { if (e[t]) { if (-1 !== u.a.m(r, t)) throw Error("Cannot combine the following bindings, because they have a cyclic dependency: " + r.join(", ")); i(t) } }), r.length--), t.push({ key: s, zb: o })); n[s] = !0 } }); return t } function f(e, n, i, s) { var o = u.a.e.get(e, h); if (!n) { if (o) throw Error("You cannot apply bindings multiple times to the same element."); u.a.e.set(e, h, !0) } !o && s && u.Ob(e, i); var f; if (n && "function" !== typeof n) f = n; else { var l = u.J.instance, c = l.getBindingAccessors || r, d = u.j(function () { (f = n ? n(i, e) : c.call(l, e, i)) && i.I && i.I(); return f }, null, { o: e }); f && d.Z() || (d = null) } var v; if (f) { var m = d ? function (e) { return function () { return t(d()[e]) } } : function (e) { return f[e] }, g = function () { return u.a.na(d ? d() : f, t) }; g.get = function (e) { return f[e] && t(m(e)) }; g.has = function (e) { return e in f }; s = a(f); u.a.u(s, function (t) { var n = t.zb.init, r = t.zb.update, s = t.key; if (8 === e.nodeType && !u.f.Q[s]) throw Error("The binding '" + s + "' cannot be used with virtual elements"); try { "function" == typeof n && u.k.B(function () { var t = n(e, m(s), g, i.$data, i); if (t && t.controlsDescendantBindings) { if (v !== p) throw Error("Multiple bindings (" + v + " and " + s + ") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element."); v = s } }), "function" == typeof r && u.j(function () { r(e, m(s), g, i.$data, i) }, null, { o: e }) } catch (o) { throw o.message = 'Unable to process binding "' + s + ": " + f[s] + '"\nMessage: ' + o.message, o } }) } return { shouldBindDescendants: v === p } } function l(e) { return e && e instanceof u.N ? e : new u.N(e) } u.d = {}; var c = { script: !0 }; u.getBindingHandler = function (e) { return u.d[e] }; u.N = function (e, t, n, r) { var i = this, s = "function" == typeof e && !u.C(e), o, a = u.j(function () { var o = s ? e() : e, f = u.a.c(o); t ? (t.I && t.I(), u.a.extend(i, t), a && (i.I = a)) : (i.$parents = [], i.$root = f, i.ko = u); i.$rawData = o; i.$data = f; n && (i[n] = f); r && r(i, t, f); return i.$data }, null, { Ia: function () { return o && !u.a.ob(o) }, o: !0 }); a.Z() && (i.I = a, a.equalityComparer = null, o = [], a.Tb = function (e) { o.push(e); u.a.w.da(e, function (e) { u.a.ua(o, e); o.length || (a.K(), i.I = a = p) }) }) }; u.N.prototype.createChildContext = function (e, t, n) { return new u.N(e, this, t, function (e, t) { e.$parentContext = t; e.$parent = t.$data; e.$parents = (t.$parents || []).slice(0); e.$parents.unshift(e.$parent); n && n(e) }) }; u.N.prototype.extend = function (e) { return new u.N(this.I || this.$data, this, null, function (t, n) { t.$rawData = n.$rawData; u.a.extend(t, "function" == typeof e ? e() : e) }) }; var h = u.a.e.F(), d = u.a.e.F(); u.Ob = function (e, t) { if (2 == arguments.length) u.a.e.set(e, d, t), t.I && t.I.Tb(e); else return u.a.e.get(e, d) }; u.ra = function (e, t, n) { 1 === e.nodeType && u.f.Fb(e); return f(e, t, l(n), !0) }; u.Wb = function (t, r, i) { i = l(i); return u.ra(t, "function" === typeof r ? n(r.bind(null, i, t)) : u.a.na(r, e), i) }; u.Ca = function (e, t) { 1 !== t.nodeType && 8 !== t.nodeType || i(l(e), t, !0) }; u.pb = function (e, t) { !w && s.jQuery && (w = s.jQuery); if (t && 1 !== t.nodeType && 8 !== t.nodeType) throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node"); t = t || s.document.body; o(l(e), t, !0) }; u.Ha = function (e) { switch (e.nodeType) { case 1: case 8: var t = u.Ob(e); if (t) return t; if (e.parentNode) return u.Ha(e.parentNode) } return p }; u.$b = function (e) { return (e = u.Ha(e)) ? e.$data : p }; u.b("bindingHandlers", u.d); u.b("applyBindings", u.pb); u.b("applyBindingsToDescendants", u.Ca); u.b("applyBindingAccessorsToNode", u.ra); u.b("applyBindingsToNode", u.Wb); u.b("contextFor", u.Ha); u.b("dataFor", u.$b) })(); (function (e) { function t(t, r) { var o = i.hasOwnProperty(t) ? i[t] : e, a; o || (o = i[t] = new u.P, n(t, function (e) { s[t] = e; delete i[t]; a ? o.notifySubscribers(e) : setTimeout(function () { o.notifySubscribers(e) }, 0) }), a = !0); o.U(r) } function n(e, t) { r("getConfig", [e], function (n) { n ? r("loadComponent", [e, n], function (e) { t(e) }) : t(null) }) } function r(t, n, i, s) { s || (s = u.g.loaders.slice(0)); var o = s.shift(); if (o) { var a = o[t]; if (a) { var f = !1; if (a.apply(o, n.concat(function (e) { f ? i(null) : null !== e ? i(e) : r(t, n, i, s) })) !== e && (f = !0, !o.suppressLoaderExceptions)) throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.") } else r(t, n, i, s) } else i(null) } var i = {}, s = {}; u.g = { get: function (n, r) { var i = s.hasOwnProperty(n) ? s[n] : e; i ? setTimeout(function () { r(i) }, 0) : t(n, r) }, tb: function (e) { delete s[e] }, jb: r }; u.g.loaders = []; u.b("components", u.g); u.b("components.get", u.g.get); u.b("components.clearCachedDefinition", u.g.tb) })(); (function () { function e(e, t, n, r) { function i() { 0 === --a && r(s) } var s = {}, a = 2, f = n.template; n = n.viewModel; f ? o(t, f, function (t) { u.g.jb("loadTemplate", [e, t], function (e) { s.template = e; i() }) }) : i(); n ? o(t, n, function (t) { u.g.jb("loadViewModel", [e, t], function (e) { s[l] = e; i() }) }) : i() } function n(e, t, r) { if ("function" === typeof t) r(function (e) { return new t(e) }); else if ("function" === typeof t[l]) r(t[l]); else if ("instance" in t) { var i = t.instance; r(function () { return i }) } else "viewModel" in t ? n(e, t.viewModel, r) : e("Unknown viewModel value: " + t) } function r(e) { switch (u.a.t(e)) { case "script": return u.a.ba(e.text); case "textarea": return u.a.ba(e.value); case "template": if (i(e.content)) return u.a.ia(e.content.childNodes) } return u.a.ia(e.childNodes) } function i(e) { return s.DocumentFragment ? e instanceof DocumentFragment : e && 11 === e.nodeType } function o(e, n, r) { "string" === typeof n.require ? t || s.require ? (t || s.require)([n.require], r) : e("Uses require, but no AMD loader is present") : r(n) } function a(e) { return function (t) { throw Error("Component '" + e + "': " + t) } } var f = {}; u.g.tc = function (e, t) { if (!t) throw Error("Invalid configuration for " + e); if (u.g.Qa(e)) throw Error("Component " + e + " is already registered"); f[e] = t }; u.g.Qa = function (e) { return e in f }; u.g.wc = function (e) { delete f[e]; u.g.tb(e) }; u.g.ub = { getConfig: function (e, t) { t(f.hasOwnProperty(e) ? f[e] : null) }, loadComponent: function (t, n, r) { var i = a(t); o(i, n, function (n) { e(t, i, n, r) }) }, loadTemplate: function (e, t, n) { e = a(e); if ("string" === typeof t) n(u.a.ba(t)); else if (t instanceof Array) n(t); else if (i(t)) n(u.a.S(t.childNodes)); else if (t.element) if (t = t.element, s.HTMLElement ? t instanceof HTMLElement : t && t.tagName && 1 === t.nodeType) n(r(t)); else if ("string" === typeof t) { var o = v.getElementById(t); o ? n(r(o)) : e("Cannot find element with ID " + t) } else e("Unknown element type: " + t); else e("Unknown template value: " + t) }, loadViewModel: function (e, t, r) { n(a(e), t, r) } }; var l = "createViewModel"; u.b("components.register", u.g.tc); u.b("components.isRegistered", u.g.Qa); u.b("components.unregister", u.g.wc); u.b("components.defaultLoader", u.g.ub); u.g.loaders.push(u.g.ub); u.g.Ub = f })(); (function () { function e(e, n) { var r = e.getAttribute("params"); if (r) { var r = t.parseBindingsString(r, n, e, { valueAccessors: !0, bindingParams: !0 }), r = u.a.na(r, function (t) { return u.s(t, null, { o: e }) }), i = u.a.na(r, function (t) { return t.Z() ? u.s(function () { return u.a.c(t()) }, null, { o: e }) : t.v() }); i.hasOwnProperty("$raw") || (i.$raw = r); return i } return { $raw: {} } } u.g.getComponentNameForNode = function (e) { e = u.a.t(e); return u.g.Qa(e) && e }; u.g.mb = function (t, n, r, i) { if (1 === n.nodeType) { var s = u.g.getComponentNameForNode(n); if (s) { t = t || {}; if (t.component) throw Error('Cannot use the "component" binding on a custom element matching a component'); var o = { name: s, params: e(n, r) }; t.component = i ? function () { return o } : o } } return t }; var t = new u.J; 9 > u.a.L && (u.g.register = function (e) { return function (t) { v.createElement(t); return e.apply(this, arguments) } }(u.g.register), v.createDocumentFragment = function (e) { return function () { var t = e(), n = u.g.Ub, r; for (r in n) n.hasOwnProperty(r) && t.createElement(r); return t } }(v.createDocumentFragment)) })(); (function () { var e = 0; u.d.component = { init: function (t, n, r, i, s) { function o() { var e = a && a.dispose; "function" === typeof e && e.call(a); f = null } var a, f; u.a.w.da(t, o); u.s(function () { var r = u.a.c(n()), i, l; "string" === typeof r ? i = r : (i = u.a.c(r.name), l = u.a.c(r.params)); if (!i) throw Error("No component name specified"); var c = f = ++e; u.g.get(i, function (e) { if (f === c) { o(); if (!e) throw Error("Unknown component '" + i + "'"); var n = e.template; if (!n) throw Error("Component '" + i + "' has no template"); n = u.a.ia(n); u.f.T(t, n); var n = l, r = e.createViewModel; e = r ? r.call(e, n, { element: t }) : n; n = s.createChildContext(e); a = e; u.Ca(n, t) } }) }, null, { o: t }); return { controlsDescendantBindings: !0 } } }; u.f.Q.component = !0 })(); var d = { "class": "className", "for": "htmlFor" }; u.d.attr = { update: function (e, t) { var n = u.a.c(t()) || {}; u.a.G(n, function (t, n) { n = u.a.c(n); var r = !1 === n || null === n || n === p; r && e.removeAttribute(t); 8 >= u.a.L && t in d ? (t = d[t], r ? e.removeAttribute(t) : e[t] = n) : r || e.setAttribute(t, n.toString()); "name" === t && u.a.Mb(e, r ? "" : n.toString()) }) } }; (function () { u.d.checked = { after: ["value", "attr"], init: function (e, t, n) { function r() { var r = e.checked, i = c ? s() : r; if (!u.Y.ma() && (!a || r)) { var o = u.k.B(t); f ? l !== i ? (r && (u.a.ea(o, i, !0), u.a.ea(o, l, !1)), l = i) : u.a.ea(o, i, r) : u.h.pa(o, n, "checked", i, !0) } } function i() { var n = u.a.c(t()); e.checked = f ? 0 <= u.a.m(n, s()) : o ? n : s() === n } var s = u.Ib(function () { return n.has("checkedValue") ? u.a.c(n.get("checkedValue")) : n.has("value") ? u.a.c(n.get("value")) : e.value }), o = "checkbox" == e.type, a = "radio" == e.type; if (o || a) { var f = o && u.a.c(t()) instanceof Array, l = f ? s() : p, c = a || f; a && !e.name && u.d.uniqueName.init(e, function () { return !0 }); u.s(r, null, { o: e }); u.a.n(e, "click", r); u.s(i, null, { o: e }) } } }; u.h.V.checked = !0; u.d.checkedValue = { update: function (e, t) { e.value = u.a.c(t()) } } })(); u.d.css = { update: function (e, t) { var n = u.a.c(t()); "object" == typeof n ? u.a.G(n, function (t, n) { n = u.a.c(n); u.a.Ba(e, t, n) }) : (n = String(n || ""), u.a.Ba(e, e.__ko__cssValue, !1), e.__ko__cssValue = n, u.a.Ba(e, n, !0)) } }; u.d.enable = { update: function (e, t) { var n = u.a.c(t()); n && e.disabled ? e.removeAttribute("disabled") : n || e.disabled || (e.disabled = !0) } }; u.d.disable = { update: function (e, t) { u.d.enable.update(e, function () { return !u.a.c(t()) }) } }; u.d.event = { init: function (e, t, n, r, i) { var s = t() || {}; u.a.G(s, function (s) { "string" == typeof s && u.a.n(e, s, function (e) { var o, a = t()[s]; if (a) { try { var f = u.a.S(arguments); r = i.$data; f.unshift(r); o = a.apply(r, f) } finally { !0 !== o && (e.preventDefault ? e.preventDefault() : e.returnValue = !1) } !1 === n.get(s + "Bubble") && (e.cancelBubble = !0, e.stopPropagation && e.stopPropagation()) } }) }) } }; u.d.foreach = { Eb: function (e) { return function () { var t = e(), n = u.a.Xa(t); if (!n || "number" == typeof n.length) return { foreach: t, templateEngine: u.O.Oa }; u.a.c(t); return { foreach: n.data, as: n.as, includeDestroyed: n.includeDestroyed, afterAdd: n.afterAdd, beforeRemove: n.beforeRemove, afterRender: n.afterRender, beforeMove: n.beforeMove, afterMove: n.afterMove, templateEngine: u.O.Oa } } }, init: function (e, t) { return u.d.template.init(e, u.d.foreach.Eb(t)) }, update: function (e, t, n, r, i) { return u.d.template.update(e, u.d.foreach.Eb(t), n, r, i) } }; u.h.ha.foreach = !1; u.f.Q.foreach = !0; u.d.hasfocus = { init: function (e, t, n) { function r(r) { e.__ko_hasfocusUpdating = !0; var i = e.ownerDocument; if ("activeElement" in i) { var s; try { s = i.activeElement } catch (o) { s = i.body } r = s === e } i = t(); u.h.pa(i, n, "hasfocus", r, !0); e.__ko_hasfocusLastValue = r; e.__ko_hasfocusUpdating = !1 } var i = r.bind(null, !0), s = r.bind(null, !1); u.a.n(e, "focus", i); u.a.n(e, "focusin", i); u.a.n(e, "blur", s); u.a.n(e, "focusout", s) }, update: function (e, t) { var n = !!u.a.c(t()); e.__ko_hasfocusUpdating || e.__ko_hasfocusLastValue === n || (n ? e.focus() : e.blur(), u.k.B(u.a.oa, null, [e, n ? "focusin" : "focusout"])) } }; u.h.V.hasfocus = !0; u.d.hasFocus = u.d.hasfocus; u.h.V.hasFocus = !0; u.d.html = { init: function () { return { controlsDescendantBindings: !0 } }, update: function (e, t) { u.a.$a(e, t()) } }; o("if"); o("ifnot", !1, !0); o("with", !0, !1, function (e, t) { return e.createChildContext(t) }); var m = {}; u.d.options = { init: function (e) { if ("select" !== u.a.t(e)) throw Error("options binding applies only to SELECT elements"); for (; 0 < e.length;) e.remove(0); return { controlsDescendantBindings: !0 } }, update: function (e, t, n) { function r() { return u.a.ta(e.options, function (e) { return e.selected }) } function i(e, t, n) { var r = typeof t; return "function" == r ? t(e) : "string" == r ? e[t] : n } function s(t, n) { if (c.length) { var r = 0 <= u.a.m(c, u.i.q(n[0])); u.a.Nb(n[0], r); h && !r && u.k.B(u.a.oa, null, [e, "change"]) } } var o = 0 != e.length && e.multiple ? e.scrollTop : null, a = u.a.c(t()), f = n.get("optionsIncludeDestroyed"); t = {}; var l, c; c = e.multiple ? u.a.Da(r(), u.i.q) : 0 <= e.selectedIndex ? [u.i.q(e.options[e.selectedIndex])] : []; a && ("undefined" == typeof a.length && (a = [a]), l = u.a.ta(a, function (e) { return f || e === p || null === e || !u.a.c(e._destroy) }), n.has("optionsCaption") && (a = u.a.c(n.get("optionsCaption")), null !== a && a !== p && l.unshift(m))); var h = !1; t.beforeRemove = function (t) { e.removeChild(t) }; a = s; n.has("optionsAfterRender") && (a = function (e, t) { s(0, t); u.k.B(n.get("optionsAfterRender"), null, [t[0], e !== m ? e : p]) }); u.a.Za(e, l, function (t, r, s) { s.length && (c = s[0].selected ? [u.i.q(s[0])] : [], h = !0); r = e.ownerDocument.createElement("option"); t === m ? (u.a.bb(r, n.get("optionsCaption")), u.i.ca(r, p)) : (s = i(t, n.get("optionsValue"), t), u.i.ca(r, u.a.c(s)), t = i(t, n.get("optionsText"), s), u.a.bb(r, t)); return [r] }, t, a); u.k.B(function () { n.get("valueAllowUnset") && n.has("value") ? u.i.ca(e, u.a.c(n.get("value")), !0) : (e.multiple ? c.length && r().length < c.length : c.length && 0 <= e.selectedIndex ? u.i.q(e.options[e.selectedIndex]) !== c[0] : c.length || 0 <= e.selectedIndex) && u.a.oa(e, "change") }); u.a.dc(e); o && 20 < Math.abs(o - e.scrollTop) && (e.scrollTop = o) } }; u.d.options.Va = u.a.e.F(); u.d.selectedOptions = { after: ["options", "foreach"], init: function (e, t, n) { u.a.n(e, "change", function () { var r = t(), i = []; u.a.u(e.getElementsByTagName("option"), function (e) { e.selected && i.push(u.i.q(e)) }); u.h.pa(r, n, "selectedOptions", i) }) }, update: function (e, t) { if ("select" != u.a.t(e)) throw Error("values binding applies only to SELECT elements"); var n = u.a.c(t()); n && "number" == typeof n.length && u.a.u(e.getElementsByTagName("option"), function (e) { var t = 0 <= u.a.m(n, u.i.q(e)); u.a.Nb(e, t) }) } }; u.h.V.selectedOptions = !0; u.d.style = { update: function (e, t) { var n = u.a.c(t() || {}); u.a.G(n, function (t, n) { n = u.a.c(n); if (null === n || n === p || !1 === n) n = ""; e.style[t] = n }) } }; u.d.submit = { init: function (e, t, n, r, i) { if ("function" != typeof t()) throw Error("The value for a submit binding must be a function"); u.a.n(e, "submit", function (n) { var r, s = t(); try { r = s.call(i.$data, e) } finally { !0 !== r && (n.preventDefault ? n.preventDefault() : n.returnValue = !1) } }) } }; u.d.text = { init: function () { return { controlsDescendantBindings: !0 } }, update: function (e, t) { u.a.bb(e, t()) } }; u.f.Q.text = !0; (function () { if (s && s.navigator) var e = function (e) { if (e) return parseFloat(e[1]) }, t = s.opera && s.opera.version && parseInt(s.opera.version()), n = s.navigator.userAgent, r = e(n.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i)), i = e(n.match(/Firefox\/([^ ]*)/)); if (10 > u.a.L) var o = u.a.e.F(), a = u.a.e.F(), f = function (e) { var t = this.activeElement; (t = t && u.a.e.get(t, a)) && t(e) }, l = function (e, t) { var n = e.ownerDocument; u.a.e.get(n, o) || (u.a.e.set(n, o, !0), u.a.n(n, "selectionchange", f)); u.a.e.set(e, a, t) }; u.d.textInput = { init: function (e, n, s) { function o(t, n) { u.a.n(e, t, n) } function a() { var t = u.a.c(n()); if (null === t || t === p) t = ""; v !== p && t === v ? setTimeout(a, 4) : e.value !== t && (h = t, e.value = t) } function f() { d || (v = e.value, d = setTimeout(c, 4)) } function c() { clearTimeout(d); v = d = p; var t = e.value; h !== t && (h = t, u.h.pa(n(), s, "textInput", t)) } var h = e.value, d, v; 10 > u.a.L ? (o("propertychange", function (e) { "value" === e.propertyName && c() }), 8 == u.a.L && (o("keyup", c), o("keydown", c)), 8 <= u.a.L && (l(e, c), o("dragend", f))) : (o("input", c), 5 > r && "textarea" === u.a.t(e) ? (o("keydown", f), o("paste", f), o("cut", f)) : 11 > t ? o("keydown", f) : 4 > i && (o("DOMAutoComplete", c), o("dragdrop", c), o("drop", c))); o("change", c); u.s(a, null, { o: e }) } }; u.h.V.textInput = !0; u.d.textinput = { preprocess: function (e, t, n) { n("textInput", e) } } })(); u.d.uniqueName = { init: function (e, t) { if (t()) { var n = "ko_unique_" + ++u.d.uniqueName.Zb; u.a.Mb(e, n) } } }; u.d.uniqueName.Zb = 0; u.d.value = { after: ["options", "foreach"], init: function (e, t, n) { if ("input" != e.tagName.toLowerCase() || "checkbox" != e.type && "radio" != e.type) { var r = ["change"], i = n.get("valueUpdate"), s = !1, o = null; i && ("string" == typeof i && (i = [i]), u.a.ga(r, i), r = u.a.rb(r)); var a = function () { o = null; s = !1; var r = t(), i = u.i.q(e); u.h.pa(r, n, "value", i) }; !u.a.L || "input" != e.tagName.toLowerCase() || "text" != e.type || "off" == e.autocomplete || e.form && "off" == e.form.autocomplete || -1 != u.a.m(r, "propertychange") || (u.a.n(e, "propertychange", function () { s = !0 }), u.a.n(e, "focus", function () { s = !1 }), u.a.n(e, "blur", function () { s && a() })); u.a.u(r, function (t) { var n = a; u.a.vc(t, "after") && (n = function () { o = u.i.q(e); setTimeout(a, 0) }, t = t.substring(5)); u.a.n(e, t, n) }); var f = function () { var r = u.a.c(t()), i = u.i.q(e); if (null !== o && r === o) setTimeout(f, 0); else if (r !== i) if ("select" === u.a.t(e)) { var s = n.get("valueAllowUnset"), i = function () { u.i.ca(e, r, s) }; i(); s || r === u.i.q(e) ? setTimeout(i, 0) : u.k.B(u.a.oa, null, [e, "change"]) } else u.i.ca(e, r) }; u.s(f, null, { o: e }) } else u.ra(e, { checkedValue: t }) }, update: function () { } }; u.h.V.value = !0; u.d.visible = { update: function (e, t) { var n = u.a.c(t()), r = "none" != e.style.display; n && !r ? e.style.display = "" : !n && r && (e.style.display = "none") } }; (function (e) { u.d[e] = { init: function (t, n, r, i, s) { return u.d.event.init.call(this, t, function () { var t = {}; t[e] = n(); return t }, r, i, s) } } })("click"); u.H = function () { }; u.H.prototype.renderTemplateSource = function () { throw Error("Override renderTemplateSource") }; u.H.prototype.createJavaScriptEvaluatorBlock = function () { throw Error("Override createJavaScriptEvaluatorBlock") }; u.H.prototype.makeTemplateSource = function (e, t) { if ("string" == typeof e) { t = t || v; var n = t.getElementById(e); if (!n) throw Error("Cannot find template with ID " + e); return new u.r.l(n) } if (1 == e.nodeType || 8 == e.nodeType) return new u.r.fa(e); throw Error("Unknown template type: " + e) }; u.H.prototype.renderTemplate = function (e, t, n, r) { e = this.makeTemplateSource(e, r); return this.renderTemplateSource(e, t, n) }; u.H.prototype.isTemplateRewritten = function (e, t) { return !1 === this.allowTemplateRewriting ? !0 : this.makeTemplateSource(e, t).data("isRewritten") }; u.H.prototype.rewriteTemplate = function (e, t, n) { e = this.makeTemplateSource(e, n); t = t(e.text()); e.text(t); e.data("isRewritten", !0) }; u.b("templateEngine", u.H); u.fb = function () { function e(e, t, n, r) { e = u.h.Wa(e); for (var i = u.h.ha, s = 0; s < e.length; s++) { var o = e[s].key; if (i.hasOwnProperty(o)) { var a = i[o]; if ("function" === typeof a) { if (o = a(e[s].value)) throw Error(o) } else if (!a) throw Error("This template engine does not support the '" + o + "' binding within its templates") } } n = "ko.__tr_ambtns(function($context,$element){return(function(){return{ " + u.h.ya(e, { valueAccessors: !0 }) + " } })()},'" + n.toLowerCase() + "')"; return r.createJavaScriptEvaluatorBlock(n) + t } var t = /(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi, n = /\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g; return { ec: function (e, t, n) { t.isTemplateRewritten(e, n) || t.rewriteTemplate(e, function (e) { return u.fb.nc(e, t) }, n) }, nc: function (r, i) { return r.replace(t, function (t, n, r, s, o) { return e(o, n, r, i) }).replace(n, function (t, n) { return e(n, "<!-- ko -->", "#comment", i) }) }, Xb: function (e, t) { return u.D.Ua(function (n, r) { var i = n.nextSibling; i && i.nodeName.toLowerCase() === t && u.ra(i, e, r) }) } } }(); u.b("__tr_ambtns", u.fb.Xb); (function () { u.r = {}; u.r.l = function (e) { this.l = e }; u.r.l.prototype.text = function () { var e = u.a.t(this.l), e = "script" === e ? "text" : "textarea" === e ? "value" : "innerHTML"; if (0 == arguments.length) return this.l[e]; var t = arguments[0]; "innerHTML" === e ? u.a.$a(this.l, t) : this.l[e] = t }; var e = u.a.e.F() + "_"; u.r.l.prototype.data = function (t) { if (1 === arguments.length) return u.a.e.get(this.l, e + t); u.a.e.set(this.l, e + t, arguments[1]) }; var t = u.a.e.F(); u.r.fa = function (e) { this.l = e }; u.r.fa.prototype = new u.r.l; u.r.fa.prototype.text = function () { if (0 == arguments.length) { var e = u.a.e.get(this.l, t) || {}; e.gb === p && e.Ga && (e.gb = e.Ga.innerHTML); return e.gb } u.a.e.set(this.l, t, { gb: arguments[0] }) }; u.r.l.prototype.nodes = function () { if (0 == arguments.length) return (u.a.e.get(this.l, t) || {}).Ga; u.a.e.set(this.l, t, { Ga: arguments[0] }) }; u.b("templateSources", u.r); u.b("templateSources.domElement", u.r.l); u.b("templateSources.anonymousTemplate", u.r.fa) })(); (function () { function e(e, t, n) { var r; for (t = u.f.nextSibling(t) ; e && (r = e) !== t;) e = u.f.nextSibling(r), n(r, e) } function t(t, n) { if (t.length) { var r = t[0], i = t[t.length - 1], s = r.parentNode, o = u.J.instance, a = o.preprocessNode; if (a) { e(r, i, function (e, t) { var n = e.previousSibling, s = a.call(o, e); s && (e === r && (r = s[0] || t), e === i && (i = s[s.length - 1] || n)) }); t.length = 0; if (!r) return; r === i ? t.push(r) : (t.push(r, i), u.a.ka(t, s)) } e(r, i, function (e) { 1 !== e.nodeType && 8 !== e.nodeType || u.pb(n, e) }); e(r, i, function (e) { 1 !== e.nodeType && 8 !== e.nodeType || u.D.Sb(e, [n]) }); u.a.ka(t, s) } } function n(e) { return e.nodeType ? e : 0 < e.length ? e[0] : null } function r(e, r, s, o, a) { a = a || {}; var f = e && n(e), f = f && f.ownerDocument, l = a.templateEngine || i; u.fb.ec(s, l, f); s = l.renderTemplate(s, o, a, f); if ("number" != typeof s.length || 0 < s.length && "number" != typeof s[0].nodeType) throw Error("Template engine must return an array of DOM nodes"); f = !1; switch (r) { case "replaceChildren": u.f.T(e, s); f = !0; break; case "replaceNode": u.a.Lb(e, s); f = !0; break; case "ignoreTargetNode": break; default: throw Error("Unknown renderMode: " + r) } f && (t(s, o), a.afterRender && u.k.B(a.afterRender, null, [s, o.$data])); return s } var i; u.ab = function (e) { if (e != p && !(e instanceof u.H)) throw Error("templateEngine must inherit from ko.templateEngine"); i = e }; u.Ya = function (e, t, s, o, a) { s = s || {}; if ((s.templateEngine || i) == p) throw Error("Set a template engine before calling renderTemplate"); a = a || "replaceChildren"; if (o) { var f = n(o); return u.j(function () { var i = t && t instanceof u.N ? t : new u.N(u.a.c(t)), l = u.C(e) ? e() : "function" === typeof e ? e(i.$data, i) : e, i = r(o, a, l, i, s); "replaceNode" == a && (o = i, f = n(o)) }, null, { Ia: function () { return !f || !u.a.Ja(f) }, o: f && "replaceNode" == a ? f.parentNode : f }) } return u.D.Ua(function (n) { u.Ya(e, t, s, n, "replaceNode") }) }; u.uc = function (e, n, i, s, o) { function a(e, n) { t(n, l); i.afterRender && i.afterRender(n, e) } function f(t, n) { l = o.createChildContext(t, i.as, function (e) { e.$index = n }); var s = u.C(e) ? e() : "function" === typeof e ? e(t, l) : e; return r(null, "ignoreTargetNode", s, l, i) } var l; return u.j(function () { var e = u.a.c(n) || []; "undefined" == typeof e.length && (e = [e]); e = u.a.ta(e, function (e) { return i.includeDestroyed || e === p || null === e || !u.a.c(e._destroy) }); u.k.B(u.a.Za, null, [s, e, f, i, a]) }, null, { o: s }) }; var s = u.a.e.F(); u.d.template = { init: function (e, t) { var n = u.a.c(t()); "string" == typeof n || n.name ? u.f.ja(e) : (n = u.f.childNodes(e), n = u.a.oc(n), (new u.r.fa(e)).nodes(n)); return { controlsDescendantBindings: !0 } }, update: function (e, t, n, r, i) { var o = t(), a; t = u.a.c(o); n = !0; r = null; "string" == typeof t ? t = {} : (o = t.name, "if" in t && (n = u.a.c(t["if"])), n && "ifnot" in t && (n = !u.a.c(t.ifnot)), a = u.a.c(t.data)); "foreach" in t ? r = u.uc(o || e, n && t.foreach || [], t, e, i) : n ? (i = "data" in t ? i.createChildContext(a, t.as) : i, r = u.Ya(o || e, i, t, e)) : u.f.ja(e); i = r; (a = u.a.e.get(e, s)) && "function" == typeof a.K && a.K(); u.a.e.set(e, s, i && i.Z() ? i : p) } }; u.h.ha.template = function (e) { e = u.h.Wa(e); return 1 == e.length && e[0].unknown || u.h.lc(e, "name") ? null : "This template engine does not support anonymous templates nested within its templates" }; u.f.Q.template = !0 })(); u.b("setTemplateEngine", u.ab); u.b("renderTemplate", u.Ya); u.a.wb = function (e, t, n) { if (e.length && t.length) { var r, i, s, o, u; for (r = i = 0; (!n || r < n) && (o = e[i]) ; ++i) { for (s = 0; u = t[s]; ++s) if (o.value === u.value) { o.moved = u.index; u.moved = o.index; t.splice(s, 1); r = s = 0; break } r += s } } }; u.a.Fa = function () { function e(e, t, n, r, i) { var s = Math.min, o = Math.max, a = [], f, l = e.length, c, h = t.length, p = h - l || 1, d = l + h + 1, v, m, g; for (f = 0; f <= l; f++) for (m = v, a.push(v = []), g = s(h, f + p), c = o(0, f - 1) ; c <= g; c++) v[c] = c ? f ? e[f - 1] === t[c - 1] ? m[c - 1] : s(m[c] || d, v[c - 1] || d) + 1 : c + 1 : f + 1; s = []; o = []; p = []; f = l; for (c = h; f || c;) h = a[f][c] - 1, c && h === a[f][c - 1] ? o.push(s[s.length] = { status: n, value: t[--c], index: c }) : f && h === a[f - 1][c] ? p.push(s[s.length] = { status: r, value: e[--f], index: f }) : (--c, --f, i.sparse || s.push({ status: "retained", value: t[c] })); u.a.wb(o, p, 10 * l); return s.reverse() } return function (t, n, r) { r = "boolean" === typeof r ? { dontLimitMoves: r } : r || {}; t = t || []; n = n || []; return t.length <= n.length ? e(t, n, "added", "deleted", r) : e(n, t, "deleted", "added", r) } }(); u.b("utils.compareArrays", u.a.Fa); (function () { function e(e, t, n, r, i) { var s = [], o = u.j(function () { var o = t(n, i, u.a.ka(s, e)) || []; 0 < s.length && (u.a.Lb(s, o), r && u.k.B(r, null, [n, o, i])); s.length = 0; u.a.ga(s, o) }, null, { o: e, Ia: function () { return !u.a.ob(s) } }); return { $: s, j: o.Z() ? o : p } } var t = u.a.e.F(); u.a.Za = function (n, r, i, s, o) { function a(e, t) { S = c[t]; g !== t && (E[e] = S); S.Na(g++); u.a.ka(S.$, n); v.push(S); w.push(S) } function f(e, t) { if (e) for (var n = 0, r = t.length; n < r; n++) t[n] && u.a.u(t[n].$, function (r) { e(r, n, t[n].sa) }) } r = r || []; s = s || {}; var l = u.a.e.get(n, t) === p, c = u.a.e.get(n, t) || [], h = u.a.Da(c, function (e) { return e.sa }), d = u.a.Fa(h, r, s.dontLimitMoves), v = [], m = 0, g = 0, y = [], w = []; r = []; for (var E = [], h = [], S, x = 0, T, N; T = d[x]; x++) switch (N = T.moved, T.status) { case "deleted": N === p && (S = c[m], S.j && S.j.K(), y.push.apply(y, u.a.ka(S.$, n)), s.beforeRemove && (r[x] = S, w.push(S))); m++; break; case "retained": a(x, m++); break; case "added": N !== p ? a(x, N) : (S = { sa: T.value, Na: u.p(g++) }, v.push(S), w.push(S), l || (h[x] = S)) } f(s.beforeMove, E); u.a.u(y, s.beforeRemove ? u.R : u.removeNode); for (var x = 0, l = u.f.firstChild(n), C; S = w[x]; x++) { S.$ || u.a.extend(S, e(n, i, S.sa, o, S.Na)); for (m = 0; d = S.$[m]; l = d.nextSibling, C = d, m++) d !== l && u.f.Bb(n, d, C); !S.ic && o && (o(S.sa, S.$, S.Na), S.ic = !0) } f(s.beforeRemove, r); f(s.afterMove, E); f(s.afterAdd, h); u.a.e.set(n, t, v) } })(); u.b("utils.setDomNodeChildrenFromArrayMapping", u.a.Za); u.O = function () { this.allowTemplateRewriting = !1 }; u.O.prototype = new u.H; u.O.prototype.renderTemplateSource = function (e) { var t = (9 > u.a.L ? 0 : e.nodes) ? e.nodes() : null; if (t) return u.a.S(t.cloneNode(!0).childNodes); e = e.text(); return u.a.ba(e) }; u.O.Oa = new u.O; u.ab(u.O.Oa); u.b("nativeTemplateEngine", u.O); (function () { u.Sa = function () { var e = this.kc = function () { if (!w || !w.tmpl) return 0; try { if (0 <= w.tmpl.tag.tmpl.open.toString().indexOf("__")) return 2 } catch (e) { } return 1 }(); this.renderTemplateSource = function (t, n, r) { r = r || {}; if (2 > e) throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later."); var i = t.data("precompiled"); i || (i = t.text() || "", i = w.template(null, "{{ko_with $item.koBindingContext}}" + i + "{{/ko_with}}"), t.data("precompiled", i)); t = [n.$data]; n = w.extend({ koBindingContext: n }, r.templateOptions); n = w.tmpl(i, t, n); n.appendTo(v.createElement("div")); w.fragments = {}; return n }; this.createJavaScriptEvaluatorBlock = function (e) { return "{{ko_code ((function() { return " + e + " })()) }}" }; this.addTemplate = function (e, t) { v.write("<script type='text/html' id='" + e + "'>" + t + "</script>") }; 0 < e && (w.tmpl.tag.ko_code = { open: "__.push($1 || '');" }, w.tmpl.tag.ko_with = { open: "with($1) {", close: "} " }) }; u.Sa.prototype = new u.H; var e = new u.Sa; 0 < e.kc && u.ab(e); u.b("jqueryTmplTemplateEngine", u.Sa) })() }) })() })();

/// Knockout Mapping plugin v2.4.1
/// (c) 2013 Steven Sanderson, Roy Jacobs - http://knockoutjs.com/
/// License: MIT (http://www.opensource.org/licenses/mit-license.php)
!function (e) { "function" == typeof require && "object" == typeof exports && "object" == typeof module ? e(require("knockout"), exports) : "function" == typeof define && define.amd ? define(["knockout", "exports"], e) : e(ko, ko.mapping = {}) }(function (e, r) { function t(e, n) { var a, i; for (i in n) if (n.hasOwnProperty(i) && n[i]) if (a = r.getType(e[i]), i && e[i] && "array" !== a && "string" !== a) t(e[i], n[i]); else if ("array" === r.getType(e[i]) && "array" === r.getType(n[i])) { a = e; for (var o = i, u = e[i], s = n[i], p = {}, l = u.length - 1; l >= 0; --l) p[u[l]] = u[l]; for (l = s.length - 1; l >= 0; --l) p[s[l]] = s[l]; u = [], s = void 0; for (s in p) u.push(p[s]); a[o] = u } else e[i] = n[i] } function n(e, r) { var n = {}; return t(n, e), t(n, r), n } function a(e, r) { for (var t = n({}, e), a = h.length - 1; a >= 0; a--) { var o = h[a]; t[o] && (t[""] instanceof Object || (t[""] = {}), t[""][o] = t[o], delete t[o]) } return r && (t.ignore = i(r.ignore, t.ignore), t.include = i(r.include, t.include), t.copy = i(r.copy, t.copy), t.observe = i(r.observe, t.observe)), t.ignore = i(t.ignore, T.ignore), t.include = i(t.include, T.include), t.copy = i(t.copy, T.copy), t.observe = i(t.observe, T.observe), t.mappedProperties = t.mappedProperties || {}, t.copiedProperties = t.copiedProperties || {}, t } function i(t, n) { return "array" !== r.getType(t) && (t = "undefined" === r.getType(t) ? [] : [t]), "array" !== r.getType(n) && (n = "undefined" === r.getType(n) ? [] : [n]), e.utils.arrayGetDistinctValues(t.concat(n)) } function o(t, a, i, s, d, v, m) { var h = "array" === r.getType(e.utils.unwrapObservable(a)); if (v = v || "", r.isMapped(t)) { var k = e.utils.unwrapObservable(t)[g]; i = n(k, i) } var T = m || d, x = function () { return i[s] && i[s].create instanceof Function }, j = function (r) { var t = b, n = e.dependentObservable; return e.dependentObservable = function (r, n, a) { a = a || {}, r && "object" == typeof r && (a = r); var i = a.deferEvaluation, o = !1; if (a.deferEvaluation = !0, r = new O(r, n, a), !i) { var u = r, i = e.dependentObservable; e.dependentObservable = O, r = e.isWriteableObservable(u), e.dependentObservable = i, i = O({ read: function () { return o || (e.utils.arrayRemoveItem(t, u), o = !0), u.apply(u, arguments) }, write: r && function (e) { return u(e) }, deferEvaluation: !0 }), i.__DO = u, r = i, t.push(r) } return r }, e.dependentObservable.fn = O.fn, e.computed = e.dependentObservable, r = i[s].create(e.utils.unwrapObservable(d) instanceof Array ? { data: r || a, parent: T, skip: w } : { data: r || a, parent: T }), e.dependentObservable = n, e.computed = e.dependentObservable, r }, I = function () { return i[s] && i[s].update instanceof Function }, J = function (r, t) { var n = { data: t || a, parent: T, target: e.utils.unwrapObservable(r) }; return e.isWriteableObservable(r) && (n.observable = r), i[s].update(n) }; if (m = y.get(a)) return m; if (s = s || "", h) { var h = [], E = !1, P = function (e) { return e }; i[s] && i[s].key && (P = i[s].key, E = !0), e.isObservable(t) || (t = e.observableArray([]), t.mappedRemove = function (e) { var r = "function" == typeof e ? e : function (r) { return r === P(e) }; return t.remove(function (e) { return r(P(e)) }) }, t.mappedRemoveAll = function (r) { var n = l(r, P); return t.remove(function (r) { return -1 != e.utils.arrayIndexOf(n, P(r)) }) }, t.mappedDestroy = function (e) { var r = "function" == typeof e ? e : function (r) { return r === P(e) }; return t.destroy(function (e) { return r(P(e)) }) }, t.mappedDestroyAll = function (r) { var n = l(r, P); return t.destroy(function (r) { return -1 != e.utils.arrayIndexOf(n, P(r)) }) }, t.mappedIndexOf = function (r) { var n = l(t(), P); return r = P(r), e.utils.arrayIndexOf(n, r) }, t.mappedGet = function (e) { return t()[t.mappedIndexOf(e)] }, t.mappedCreate = function (r) { if (-1 !== t.mappedIndexOf(r)) throw Error("There already is an object with the key that you specified."); var n = x() ? j(r) : r; return I() && (r = J(n, r), e.isWriteableObservable(n) ? n(r) : n = r), t.push(n), n }), m = l(e.utils.unwrapObservable(t), P).sort(), k = l(a, P), E && k.sort(), E = e.utils.compareArrays(m, k), m = {}; var S, N = e.utils.unwrapObservable(a), _ = {}, W = !0, k = 0; for (S = N.length; S > k; k++) { var D = P(N[k]); if (void 0 === D || D instanceof Object) { W = !1; break } _[D] = N[k] } var N = [], F = 0, k = 0; for (S = E.length; S > k; k++) { var A, D = E[k], M = v + "[" + k + "]"; switch (D.status) { case "added": var C = W ? _[D.value] : p(e.utils.unwrapObservable(a), D.value, P); A = o(void 0, C, i, s, t, M, d), x() || (A = e.utils.unwrapObservable(A)), M = u(e.utils.unwrapObservable(a), C, m), A === w ? F++ : N[M - F] = A, m[M] = !0; break; case "retained": C = W ? _[D.value] : p(e.utils.unwrapObservable(a), D.value, P), A = p(t, D.value, P), o(A, C, i, s, t, M, d), M = u(e.utils.unwrapObservable(a), C, m), N[M] = A, m[M] = !0; break; case "deleted": A = p(t, D.value, P) } h.push({ event: D.status, item: A }) } t(N), i[s] && i[s].arrayChanged && e.utils.arrayForEach(h, function (e) { i[s].arrayChanged(e.event, e.item) }) } else if (c(a)) { if (t = e.utils.unwrapObservable(t), !t) { if (x()) return E = j(), I() && (E = J(E)), E; if (I()) return J(E); t = {} } if (I() && (t = J(t)), y.save(a, t), I()) return t; f(a, function (r) { var n = v.length ? v + "." + r : r; if (-1 == e.utils.arrayIndexOf(i.ignore, n)) if (-1 != e.utils.arrayIndexOf(i.copy, n)) t[r] = a[r]; else if ("object" != typeof a[r] && "array" != typeof a[r] && 0 < i.observe.length && -1 == e.utils.arrayIndexOf(i.observe, n)) t[r] = a[r], i.copiedProperties[n] = !0; else { var u = y.get(a[r]), s = o(t[r], a[r], i, r, t, n, t), u = u || s; 0 < i.observe.length && -1 == e.utils.arrayIndexOf(i.observe, n) ? (t[r] = u(), i.copiedProperties[n] = !0) : (e.isWriteableObservable(t[r]) ? (u = e.utils.unwrapObservable(u), t[r]() !== u && t[r](u)) : (u = void 0 === t[r] ? u : e.utils.unwrapObservable(u), t[r] = u), i.mappedProperties[n] = !0) } }) } else switch (r.getType(a)) { case "function": I() ? e.isWriteableObservable(a) ? (a(J(a)), t = a) : t = J(a) : t = a; break; default: if (e.isWriteableObservable(t)) return A = I() ? J(t) : e.utils.unwrapObservable(a), t(A), A; x() || I(), t = x() ? j() : e.observable(e.utils.unwrapObservable(a)), I() && t(J(t)) } return t } function u(e, r, t) { for (var n = 0, a = e.length; a > n; n++) if (!0 !== t[n] && e[n] === r) return n; return null } function s(t, n) { var a; return n && (a = n(t)), "undefined" === r.getType(a) && (a = t), e.utils.unwrapObservable(a) } function p(r, t, n) { r = e.utils.unwrapObservable(r); for (var a = 0, i = r.length; i > a; a++) { var o = r[a]; if (s(o, n) === t) return o } throw Error("When calling ko.update*, the key '" + t + "' was not found!") } function l(r, t) { return e.utils.arrayMap(e.utils.unwrapObservable(r), function (e) { return t ? s(e, t) : e }) } function f(e, t) { if ("array" === r.getType(e)) for (var n = 0; n < e.length; n++) t(n); else for (n in e) t(n) } function c(e) { var t = r.getType(e); return ("object" === t || "array" === t) && null !== e } function d() { var r = [], t = []; this.save = function (n, a) { var i = e.utils.arrayIndexOf(r, n); i >= 0 ? t[i] = a : (r.push(n), t.push(a)) }, this.get = function (n) { return n = e.utils.arrayIndexOf(r, n), n >= 0 ? t[n] : void 0 } } function v() { var e = {}, r = function (r) { var t; try { t = r } catch (n) { t = "$$$" } return r = e[t], void 0 === r && (r = new d, e[t] = r), r }; this.save = function (e, t) { r(e).save(e, t) }, this.get = function (e) { return r(e).get(e) } } var b, y, g = "__ko_mapping__", O = e.dependentObservable, m = 0, h = ["create", "update", "key", "arrayChanged"], w = {}, k = { include: ["_destroy"], ignore: [], copy: [], observe: [] }, T = k; r.isMapped = function (r) { return (r = e.utils.unwrapObservable(r)) && r[g] }, r.fromJS = function (e) { if (0 == arguments.length) throw Error("When calling ko.fromJS, pass the object you want to convert."); try { m++ || (b = [], y = new v); var r, t; 2 == arguments.length && (arguments[1][g] ? t = arguments[1] : r = arguments[1]), 3 == arguments.length && (r = arguments[1], t = arguments[2]), t && (r = n(r, t[g])), r = a(r); var i = o(t, e, r); if (t && (i = t), !--m) for (; b.length;) { var u = b.pop(); u && (u(), u.__DO.throttleEvaluation = u.throttleEvaluation) } return i[g] = n(i[g], r), i } catch (s) { throw m = 0, s } }, r.fromJSON = function (t) { var n = e.utils.parseJson(t); return arguments[0] = n, r.fromJS.apply(this, arguments) }, r.updateFromJS = function () { throw Error("ko.mapping.updateFromJS, use ko.mapping.fromJS instead. Please note that the order of parameters is different!") }, r.updateFromJSON = function () { throw Error("ko.mapping.updateFromJSON, use ko.mapping.fromJSON instead. Please note that the order of parameters is different!") }, r.toJS = function (t, n) { if (T || r.resetDefaultOptions(), 0 == arguments.length) throw Error("When calling ko.mapping.toJS, pass the object you want to convert."); if ("array" !== r.getType(T.ignore)) throw Error("ko.mapping.defaultOptions().ignore should be an array."); if ("array" !== r.getType(T.include)) throw Error("ko.mapping.defaultOptions().include should be an array."); if ("array" !== r.getType(T.copy)) throw Error("ko.mapping.defaultOptions().copy should be an array."); return n = a(n, t[g]), r.visitModel(t, function (r) { return e.utils.unwrapObservable(r) }, n) }, r.toJSON = function (t, n) { var a = r.toJS(t, n); return e.utils.stringifyJson(a) }, r.defaultOptions = function () { return 0 < arguments.length ? void (T = arguments[0]) : T }, r.resetDefaultOptions = function () { T = { include: k.include.slice(0), ignore: k.ignore.slice(0), copy: k.copy.slice(0) } }, r.getType = function (e) { if (e && "object" == typeof e) { if (e.constructor === Date) return "date"; if (e.constructor === Array) return "array" } return typeof e }, r.visitModel = function (t, n, i) { i = i || {}, i.visitedObjects = i.visitedObjects || new v; var o, u = e.utils.unwrapObservable(t); if (!c(u)) return n(t, i.parentName); i = a(i, u[g]), n(t, i.parentName), o = "array" === r.getType(u) ? [] : {}, i.visitedObjects.save(t, o); var s = i.parentName; return f(u, function (t) { if (!i.ignore || -1 == e.utils.arrayIndexOf(i.ignore, t)) { var a = u[t], p = i, l = s || ""; if ("array" === r.getType(u) ? s && (l += "[" + t + "]") : (s && (l += "."), l += t), p.parentName = l, -1 !== e.utils.arrayIndexOf(i.copy, t) || -1 !== e.utils.arrayIndexOf(i.include, t) || !u[g] || !u[g].mappedProperties || u[g].mappedProperties[t] || !u[g].copiedProperties || u[g].copiedProperties[t] || "array" === r.getType(u)) switch (r.getType(e.utils.unwrapObservable(a))) { case "object": case "array": case "undefined": p = i.visitedObjects.get(a), o[t] = "undefined" !== r.getType(p) ? p : r.visitModel(a, n, i); break; default: o[t] = n(a, i.parentName) } } }), o } });



///*!
// * jQuery Cookie Plugin v1.3.1
// * https://github.com/carhartl/jquery-cookie
// *
// * Copyright 2013 Klaus Hartl
// * Released under the MIT license
// */
(function (g, l, n) {
    function p(a) { return a } function q(a) { a = decodeURIComponent(a.replace(k, " ")); 0 === a.indexOf('"') && (a = a.slice(1, -1).replace(/\\"/g, '"').replace(/\\\\/g, "\\")); return a } var k = /\+/g, d = g.cookie = function (a, c, b) {
        if (c !== n) {
            b = g.extend({}, d.c, b); null === c && (b.a = -1); if ("number" === typeof b.a) { var h = b.a, f = b.a = new Date; f.setDate(f.getDate() + h) } c = d.b ? JSON.stringify(c) : String(c); return l.cookie = [encodeURIComponent(a), "=", d.d ? c : encodeURIComponent(c), b.a ? "; expires=" + b.a.toUTCString() : "", b.path ? "; path=" +
            b.path : "", b.domain ? "; domain=" + b.domain : "", b.f ? "; secure" : ""].join("")
        } c = d.d ? p : q; b = l.cookie.split("; "); for (var h = a ? null : {}, f = 0, k = b.length; f < k; f++) { var e = b[f].split("="), m = c(e.shift()), e = c(e.join("=")); if (a && a === m) { h = d.b ? JSON.parse(e) : e; break } a || (h[m] = d.b ? JSON.parse(e) : e) } return h
    }; d.c = {}; g.e = function (a, c) { return null !== g.cookie(a) ? (g.cookie(a, null, c), !0) : !1 }
})(jQuery, document);


/*! jQuery UI - v1.10.4 - 2015-07-14
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.position.js, jquery.ui.autocomplete.js, jquery.ui.datepicker.js, jquery.ui.menu.js, jquery.ui.slider.js, jquery.ui.tabs.js
* Copyright 2015 jQuery Foundation and other contributors; Licensed MIT */

(function (e, t) { function i(t, i) { var n, a, o, r = t.nodeName.toLowerCase(); return "area" === r ? (n = t.parentNode, a = n.name, t.href && a && "map" === n.nodeName.toLowerCase() ? (o = e("img[usemap=#" + a + "]")[0], !!o && s(o)) : !1) : (/input|select|textarea|button|object/.test(r) ? !t.disabled : "a" === r ? t.href || i : i) && s(t) } function s(t) { return e.expr.filters.visible(t) && !e(t).parents().addBack().filter(function () { return "hidden" === e.css(this, "visibility") }).length } var n = 0, a = /^ui-id-\d+$/; e.ui = e.ui || {}, e.extend(e.ui, { version: "1.10.4", keyCode: { BACKSPACE: 8, COMMA: 188, DELETE: 46, DOWN: 40, END: 35, ENTER: 13, ESCAPE: 27, HOME: 36, LEFT: 37, NUMPAD_ADD: 107, NUMPAD_DECIMAL: 110, NUMPAD_DIVIDE: 111, NUMPAD_ENTER: 108, NUMPAD_MULTIPLY: 106, NUMPAD_SUBTRACT: 109, PAGE_DOWN: 34, PAGE_UP: 33, PERIOD: 190, RIGHT: 39, SPACE: 32, TAB: 9, UP: 38 } }), e.fn.extend({ focus: function (t) { return function (i, s) { return "number" == typeof i ? this.each(function () { var t = this; setTimeout(function () { e(t).focus(), s && s.call(t) }, i) }) : t.apply(this, arguments) } }(e.fn.focus), scrollParent: function () { var t; return t = e.ui.ie && /(static|relative)/.test(this.css("position")) || /absolute/.test(this.css("position")) ? this.parents().filter(function () { return /(relative|absolute|fixed)/.test(e.css(this, "position")) && /(auto|scroll)/.test(e.css(this, "overflow") + e.css(this, "overflow-y") + e.css(this, "overflow-x")) }).eq(0) : this.parents().filter(function () { return /(auto|scroll)/.test(e.css(this, "overflow") + e.css(this, "overflow-y") + e.css(this, "overflow-x")) }).eq(0), /fixed/.test(this.css("position")) || !t.length ? e(document) : t }, zIndex: function (i) { if (i !== t) return this.css("zIndex", i); if (this.length) for (var s, n, a = e(this[0]) ; a.length && a[0] !== document;) { if (s = a.css("position"), ("absolute" === s || "relative" === s || "fixed" === s) && (n = parseInt(a.css("zIndex"), 10), !isNaN(n) && 0 !== n)) return n; a = a.parent() } return 0 }, uniqueId: function () { return this.each(function () { this.id || (this.id = "ui-id-" + ++n) }) }, removeUniqueId: function () { return this.each(function () { a.test(this.id) && e(this).removeAttr("id") }) } }), e.extend(e.expr[":"], { data: e.expr.createPseudo ? e.expr.createPseudo(function (t) { return function (i) { return !!e.data(i, t) } }) : function (t, i, s) { return !!e.data(t, s[3]) }, focusable: function (t) { return i(t, !isNaN(e.attr(t, "tabindex"))) }, tabbable: function (t) { var s = e.attr(t, "tabindex"), n = isNaN(s); return (n || s >= 0) && i(t, !n) } }), e("<a>").outerWidth(1).jquery || e.each(["Width", "Height"], function (i, s) { function n(t, i, s, n) { return e.each(a, function () { i -= parseFloat(e.css(t, "padding" + this)) || 0, s && (i -= parseFloat(e.css(t, "border" + this + "Width")) || 0), n && (i -= parseFloat(e.css(t, "margin" + this)) || 0) }), i } var a = "Width" === s ? ["Left", "Right"] : ["Top", "Bottom"], o = s.toLowerCase(), r = { innerWidth: e.fn.innerWidth, innerHeight: e.fn.innerHeight, outerWidth: e.fn.outerWidth, outerHeight: e.fn.outerHeight }; e.fn["inner" + s] = function (i) { return i === t ? r["inner" + s].call(this) : this.each(function () { e(this).css(o, n(this, i) + "px") }) }, e.fn["outer" + s] = function (t, i) { return "number" != typeof t ? r["outer" + s].call(this, t) : this.each(function () { e(this).css(o, n(this, t, !0, i) + "px") }) } }), e.fn.addBack || (e.fn.addBack = function (e) { return this.add(null == e ? this.prevObject : this.prevObject.filter(e)) }), e("<a>").data("a-b", "a").removeData("a-b").data("a-b") && (e.fn.removeData = function (t) { return function (i) { return arguments.length ? t.call(this, e.camelCase(i)) : t.call(this) } }(e.fn.removeData)), e.ui.ie = !!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()), e.support.selectstart = "onselectstart" in document.createElement("div"), e.fn.extend({ disableSelection: function () { return this.bind((e.support.selectstart ? "selectstart" : "mousedown") + ".ui-disableSelection", function (e) { e.preventDefault() }) }, enableSelection: function () { return this.unbind(".ui-disableSelection") } }), e.extend(e.ui, { plugin: { add: function (t, i, s) { var n, a = e.ui[t].prototype; for (n in s) a.plugins[n] = a.plugins[n] || [], a.plugins[n].push([i, s[n]]) }, call: function (e, t, i) { var s, n = e.plugins[t]; if (n && e.element[0].parentNode && 11 !== e.element[0].parentNode.nodeType) for (s = 0; n.length > s; s++) e.options[n[s][0]] && n[s][1].apply(e.element, i) } }, hasScroll: function (t, i) { if ("hidden" === e(t).css("overflow")) return !1; var s = i && "left" === i ? "scrollLeft" : "scrollTop", n = !1; return t[s] > 0 ? !0 : (t[s] = 1, n = t[s] > 0, t[s] = 0, n) } }) })(jQuery); (function (e, t) { var i = 0, s = Array.prototype.slice, n = e.cleanData; e.cleanData = function (t) { for (var i, s = 0; null != (i = t[s]) ; s++) try { e(i).triggerHandler("remove") } catch (a) { } n(t) }, e.widget = function (i, s, n) { var a, o, r, h, l = {}, u = i.split(".")[0]; i = i.split(".")[1], a = u + "-" + i, n || (n = s, s = e.Widget), e.expr[":"][a.toLowerCase()] = function (t) { return !!e.data(t, a) }, e[u] = e[u] || {}, o = e[u][i], r = e[u][i] = function (e, i) { return this._createWidget ? (arguments.length && this._createWidget(e, i), t) : new r(e, i) }, e.extend(r, o, { version: n.version, _proto: e.extend({}, n), _childConstructors: [] }), h = new s, h.options = e.widget.extend({}, h.options), e.each(n, function (i, n) { return e.isFunction(n) ? (l[i] = function () { var e = function () { return s.prototype[i].apply(this, arguments) }, t = function (e) { return s.prototype[i].apply(this, e) }; return function () { var i, s = this._super, a = this._superApply; return this._super = e, this._superApply = t, i = n.apply(this, arguments), this._super = s, this._superApply = a, i } }(), t) : (l[i] = n, t) }), r.prototype = e.widget.extend(h, { widgetEventPrefix: o ? h.widgetEventPrefix || i : i }, l, { constructor: r, namespace: u, widgetName: i, widgetFullName: a }), o ? (e.each(o._childConstructors, function (t, i) { var s = i.prototype; e.widget(s.namespace + "." + s.widgetName, r, i._proto) }), delete o._childConstructors) : s._childConstructors.push(r), e.widget.bridge(i, r) }, e.widget.extend = function (i) { for (var n, a, o = s.call(arguments, 1), r = 0, h = o.length; h > r; r++) for (n in o[r]) a = o[r][n], o[r].hasOwnProperty(n) && a !== t && (i[n] = e.isPlainObject(a) ? e.isPlainObject(i[n]) ? e.widget.extend({}, i[n], a) : e.widget.extend({}, a) : a); return i }, e.widget.bridge = function (i, n) { var a = n.prototype.widgetFullName || i; e.fn[i] = function (o) { var r = "string" == typeof o, h = s.call(arguments, 1), l = this; return o = !r && h.length ? e.widget.extend.apply(null, [o].concat(h)) : o, r ? this.each(function () { var s, n = e.data(this, a); return n ? e.isFunction(n[o]) && "_" !== o.charAt(0) ? (s = n[o].apply(n, h), s !== n && s !== t ? (l = s && s.jquery ? l.pushStack(s.get()) : s, !1) : t) : e.error("no such method '" + o + "' for " + i + " widget instance") : e.error("cannot call methods on " + i + " prior to initialization; " + "attempted to call method '" + o + "'") }) : this.each(function () { var t = e.data(this, a); t ? t.option(o || {})._init() : e.data(this, a, new n(o, this)) }), l } }, e.Widget = function () { }, e.Widget._childConstructors = [], e.Widget.prototype = { widgetName: "widget", widgetEventPrefix: "", defaultElement: "<div>", options: { disabled: !1, create: null }, _createWidget: function (t, s) { s = e(s || this.defaultElement || this)[0], this.element = e(s), this.uuid = i++, this.eventNamespace = "." + this.widgetName + this.uuid, this.options = e.widget.extend({}, this.options, this._getCreateOptions(), t), this.bindings = e(), this.hoverable = e(), this.focusable = e(), s !== this && (e.data(s, this.widgetFullName, this), this._on(!0, this.element, { remove: function (e) { e.target === s && this.destroy() } }), this.document = e(s.style ? s.ownerDocument : s.document || s), this.window = e(this.document[0].defaultView || this.document[0].parentWindow)), this._create(), this._trigger("create", null, this._getCreateEventData()), this._init() }, _getCreateOptions: e.noop, _getCreateEventData: e.noop, _create: e.noop, _init: e.noop, destroy: function () { this._destroy(), this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)), this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName + "-disabled " + "ui-state-disabled"), this.bindings.unbind(this.eventNamespace), this.hoverable.removeClass("ui-state-hover"), this.focusable.removeClass("ui-state-focus") }, _destroy: e.noop, widget: function () { return this.element }, option: function (i, s) { var n, a, o, r = i; if (0 === arguments.length) return e.widget.extend({}, this.options); if ("string" == typeof i) if (r = {}, n = i.split("."), i = n.shift(), n.length) { for (a = r[i] = e.widget.extend({}, this.options[i]), o = 0; n.length - 1 > o; o++) a[n[o]] = a[n[o]] || {}, a = a[n[o]]; if (i = n.pop(), 1 === arguments.length) return a[i] === t ? null : a[i]; a[i] = s } else { if (1 === arguments.length) return this.options[i] === t ? null : this.options[i]; r[i] = s } return this._setOptions(r), this }, _setOptions: function (e) { var t; for (t in e) this._setOption(t, e[t]); return this }, _setOption: function (e, t) { return this.options[e] = t, "disabled" === e && (this.widget().toggleClass(this.widgetFullName + "-disabled ui-state-disabled", !!t).attr("aria-disabled", t), this.hoverable.removeClass("ui-state-hover"), this.focusable.removeClass("ui-state-focus")), this }, enable: function () { return this._setOption("disabled", !1) }, disable: function () { return this._setOption("disabled", !0) }, _on: function (i, s, n) { var a, o = this; "boolean" != typeof i && (n = s, s = i, i = !1), n ? (s = a = e(s), this.bindings = this.bindings.add(s)) : (n = s, s = this.element, a = this.widget()), e.each(n, function (n, r) { function h() { return i || o.options.disabled !== !0 && !e(this).hasClass("ui-state-disabled") ? ("string" == typeof r ? o[r] : r).apply(o, arguments) : t } "string" != typeof r && (h.guid = r.guid = r.guid || h.guid || e.guid++); var l = n.match(/^(\w+)\s*(.*)$/), u = l[1] + o.eventNamespace, c = l[2]; c ? a.delegate(c, u, h) : s.bind(u, h) }) }, _off: function (e, t) { t = (t || "").split(" ").join(this.eventNamespace + " ") + this.eventNamespace, e.unbind(t).undelegate(t) }, _delay: function (e, t) { function i() { return ("string" == typeof e ? s[e] : e).apply(s, arguments) } var s = this; return setTimeout(i, t || 0) }, _hoverable: function (t) { this.hoverable = this.hoverable.add(t), this._on(t, { mouseenter: function (t) { e(t.currentTarget).addClass("ui-state-hover") }, mouseleave: function (t) { e(t.currentTarget).removeClass("ui-state-hover") } }) }, _focusable: function (t) { this.focusable = this.focusable.add(t), this._on(t, { focusin: function (t) { e(t.currentTarget).addClass("ui-state-focus") }, focusout: function (t) { e(t.currentTarget).removeClass("ui-state-focus") } }) }, _trigger: function (t, i, s) { var n, a, o = this.options[t]; if (s = s || {}, i = e.Event(i), i.type = (t === this.widgetEventPrefix ? t : this.widgetEventPrefix + t).toLowerCase(), i.target = this.element[0], a = i.originalEvent) for (n in a) n in i || (i[n] = a[n]); return this.element.trigger(i, s), !(e.isFunction(o) && o.apply(this.element[0], [i].concat(s)) === !1 || i.isDefaultPrevented()) } }, e.each({ show: "fadeIn", hide: "fadeOut" }, function (t, i) { e.Widget.prototype["_" + t] = function (s, n, a) { "string" == typeof n && (n = { effect: n }); var o, r = n ? n === !0 || "number" == typeof n ? i : n.effect || i : t; n = n || {}, "number" == typeof n && (n = { duration: n }), o = !e.isEmptyObject(n), n.complete = a, n.delay && s.delay(n.delay), o && e.effects && e.effects.effect[r] ? s[t](n) : r !== t && s[r] ? s[r](n.duration, n.easing, a) : s.queue(function (i) { e(this)[t](), a && a.call(s[0]), i() }) } }) })(jQuery); (function (e) { var t = !1; e(document).mouseup(function () { t = !1 }), e.widget("ui.mouse", { version: "1.10.4", options: { cancel: "input,textarea,button,select,option", distance: 1, delay: 0 }, _mouseInit: function () { var t = this; this.element.bind("mousedown." + this.widgetName, function (e) { return t._mouseDown(e) }).bind("click." + this.widgetName, function (i) { return !0 === e.data(i.target, t.widgetName + ".preventClickEvent") ? (e.removeData(i.target, t.widgetName + ".preventClickEvent"), i.stopImmediatePropagation(), !1) : undefined }), this.started = !1 }, _mouseDestroy: function () { this.element.unbind("." + this.widgetName), this._mouseMoveDelegate && e(document).unbind("mousemove." + this.widgetName, this._mouseMoveDelegate).unbind("mouseup." + this.widgetName, this._mouseUpDelegate) }, _mouseDown: function (i) { if (!t) { this._mouseStarted && this._mouseUp(i), this._mouseDownEvent = i; var s = this, n = 1 === i.which, a = "string" == typeof this.options.cancel && i.target.nodeName ? e(i.target).closest(this.options.cancel).length : !1; return n && !a && this._mouseCapture(i) ? (this.mouseDelayMet = !this.options.delay, this.mouseDelayMet || (this._mouseDelayTimer = setTimeout(function () { s.mouseDelayMet = !0 }, this.options.delay)), this._mouseDistanceMet(i) && this._mouseDelayMet(i) && (this._mouseStarted = this._mouseStart(i) !== !1, !this._mouseStarted) ? (i.preventDefault(), !0) : (!0 === e.data(i.target, this.widgetName + ".preventClickEvent") && e.removeData(i.target, this.widgetName + ".preventClickEvent"), this._mouseMoveDelegate = function (e) { return s._mouseMove(e) }, this._mouseUpDelegate = function (e) { return s._mouseUp(e) }, e(document).bind("mousemove." + this.widgetName, this._mouseMoveDelegate).bind("mouseup." + this.widgetName, this._mouseUpDelegate), i.preventDefault(), t = !0, !0)) : !0 } }, _mouseMove: function (t) { return e.ui.ie && (!document.documentMode || 9 > document.documentMode) && !t.button ? this._mouseUp(t) : this._mouseStarted ? (this._mouseDrag(t), t.preventDefault()) : (this._mouseDistanceMet(t) && this._mouseDelayMet(t) && (this._mouseStarted = this._mouseStart(this._mouseDownEvent, t) !== !1, this._mouseStarted ? this._mouseDrag(t) : this._mouseUp(t)), !this._mouseStarted) }, _mouseUp: function (t) { return e(document).unbind("mousemove." + this.widgetName, this._mouseMoveDelegate).unbind("mouseup." + this.widgetName, this._mouseUpDelegate), this._mouseStarted && (this._mouseStarted = !1, t.target === this._mouseDownEvent.target && e.data(t.target, this.widgetName + ".preventClickEvent", !0), this._mouseStop(t)), !1 }, _mouseDistanceMet: function (e) { return Math.max(Math.abs(this._mouseDownEvent.pageX - e.pageX), Math.abs(this._mouseDownEvent.pageY - e.pageY)) >= this.options.distance }, _mouseDelayMet: function () { return this.mouseDelayMet }, _mouseStart: function () { }, _mouseDrag: function () { }, _mouseStop: function () { }, _mouseCapture: function () { return !0 } }) })(jQuery); (function (e, t) { function i(e, t, i) { return [parseFloat(e[0]) * (p.test(e[0]) ? t / 100 : 1), parseFloat(e[1]) * (p.test(e[1]) ? i / 100 : 1)] } function s(t, i) { return parseInt(e.css(t, i), 10) || 0 } function n(t) { var i = t[0]; return 9 === i.nodeType ? { width: t.width(), height: t.height(), offset: { top: 0, left: 0 } } : e.isWindow(i) ? { width: t.width(), height: t.height(), offset: { top: t.scrollTop(), left: t.scrollLeft() } } : i.preventDefault ? { width: 0, height: 0, offset: { top: i.pageY, left: i.pageX } } : { width: t.outerWidth(), height: t.outerHeight(), offset: t.offset() } } e.ui = e.ui || {}; var a, o = Math.max, r = Math.abs, h = Math.round, l = /left|center|right/, u = /top|center|bottom/, c = /[\+\-]\d+(\.[\d]+)?%?/, d = /^\w+/, p = /%$/, f = e.fn.position; e.position = { scrollbarWidth: function () { if (a !== t) return a; var i, s, n = e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"), o = n.children()[0]; return e("body").append(n), i = o.offsetWidth, n.css("overflow", "scroll"), s = o.offsetWidth, i === s && (s = n[0].clientWidth), n.remove(), a = i - s }, getScrollInfo: function (t) { var i = t.isWindow || t.isDocument ? "" : t.element.css("overflow-x"), s = t.isWindow || t.isDocument ? "" : t.element.css("overflow-y"), n = "scroll" === i || "auto" === i && t.width < t.element[0].scrollWidth, a = "scroll" === s || "auto" === s && t.height < t.element[0].scrollHeight; return { width: a ? e.position.scrollbarWidth() : 0, height: n ? e.position.scrollbarWidth() : 0 } }, getWithinInfo: function (t) { var i = e(t || window), s = e.isWindow(i[0]), n = !!i[0] && 9 === i[0].nodeType; return { element: i, isWindow: s, isDocument: n, offset: i.offset() || { left: 0, top: 0 }, scrollLeft: i.scrollLeft(), scrollTop: i.scrollTop(), width: s ? i.width() : i.outerWidth(), height: s ? i.height() : i.outerHeight() } } }, e.fn.position = function (t) { if (!t || !t.of) return f.apply(this, arguments); t = e.extend({}, t); var a, p, m, g, v, y, b = e(t.of), _ = e.position.getWithinInfo(t.within), x = e.position.getScrollInfo(_), w = (t.collision || "flip").split(" "), k = {}; return y = n(b), b[0].preventDefault && (t.at = "left top"), p = y.width, m = y.height, g = y.offset, v = e.extend({}, g), e.each(["my", "at"], function () { var e, i, s = (t[this] || "").split(" "); 1 === s.length && (s = l.test(s[0]) ? s.concat(["center"]) : u.test(s[0]) ? ["center"].concat(s) : ["center", "center"]), s[0] = l.test(s[0]) ? s[0] : "center", s[1] = u.test(s[1]) ? s[1] : "center", e = c.exec(s[0]), i = c.exec(s[1]), k[this] = [e ? e[0] : 0, i ? i[0] : 0], t[this] = [d.exec(s[0])[0], d.exec(s[1])[0]] }), 1 === w.length && (w[1] = w[0]), "right" === t.at[0] ? v.left += p : "center" === t.at[0] && (v.left += p / 2), "bottom" === t.at[1] ? v.top += m : "center" === t.at[1] && (v.top += m / 2), a = i(k.at, p, m), v.left += a[0], v.top += a[1], this.each(function () { var n, l, u = e(this), c = u.outerWidth(), d = u.outerHeight(), f = s(this, "marginLeft"), y = s(this, "marginTop"), T = c + f + s(this, "marginRight") + x.width, D = d + y + s(this, "marginBottom") + x.height, S = e.extend({}, v), M = i(k.my, u.outerWidth(), u.outerHeight()); "right" === t.my[0] ? S.left -= c : "center" === t.my[0] && (S.left -= c / 2), "bottom" === t.my[1] ? S.top -= d : "center" === t.my[1] && (S.top -= d / 2), S.left += M[0], S.top += M[1], e.support.offsetFractions || (S.left = h(S.left), S.top = h(S.top)), n = { marginLeft: f, marginTop: y }, e.each(["left", "top"], function (i, s) { e.ui.position[w[i]] && e.ui.position[w[i]][s](S, { targetWidth: p, targetHeight: m, elemWidth: c, elemHeight: d, collisionPosition: n, collisionWidth: T, collisionHeight: D, offset: [a[0] + M[0], a[1] + M[1]], my: t.my, at: t.at, within: _, elem: u }) }), t.using && (l = function (e) { var i = g.left - S.left, s = i + p - c, n = g.top - S.top, a = n + m - d, h = { target: { element: b, left: g.left, top: g.top, width: p, height: m }, element: { element: u, left: S.left, top: S.top, width: c, height: d }, horizontal: 0 > s ? "left" : i > 0 ? "right" : "center", vertical: 0 > a ? "top" : n > 0 ? "bottom" : "middle" }; c > p && p > r(i + s) && (h.horizontal = "center"), d > m && m > r(n + a) && (h.vertical = "middle"), h.important = o(r(i), r(s)) > o(r(n), r(a)) ? "horizontal" : "vertical", t.using.call(this, e, h) }), u.offset(e.extend(S, { using: l })) }) }, e.ui.position = { fit: { left: function (e, t) { var i, s = t.within, n = s.isWindow ? s.scrollLeft : s.offset.left, a = s.width, r = e.left - t.collisionPosition.marginLeft, h = n - r, l = r + t.collisionWidth - a - n; t.collisionWidth > a ? h > 0 && 0 >= l ? (i = e.left + h + t.collisionWidth - a - n, e.left += h - i) : e.left = l > 0 && 0 >= h ? n : h > l ? n + a - t.collisionWidth : n : h > 0 ? e.left += h : l > 0 ? e.left -= l : e.left = o(e.left - r, e.left) }, top: function (e, t) { var i, s = t.within, n = s.isWindow ? s.scrollTop : s.offset.top, a = t.within.height, r = e.top - t.collisionPosition.marginTop, h = n - r, l = r + t.collisionHeight - a - n; t.collisionHeight > a ? h > 0 && 0 >= l ? (i = e.top + h + t.collisionHeight - a - n, e.top += h - i) : e.top = l > 0 && 0 >= h ? n : h > l ? n + a - t.collisionHeight : n : h > 0 ? e.top += h : l > 0 ? e.top -= l : e.top = o(e.top - r, e.top) } }, flip: { left: function (e, t) { var i, s, n = t.within, a = n.offset.left + n.scrollLeft, o = n.width, h = n.isWindow ? n.scrollLeft : n.offset.left, l = e.left - t.collisionPosition.marginLeft, u = l - h, c = l + t.collisionWidth - o - h, d = "left" === t.my[0] ? -t.elemWidth : "right" === t.my[0] ? t.elemWidth : 0, p = "left" === t.at[0] ? t.targetWidth : "right" === t.at[0] ? -t.targetWidth : 0, f = -2 * t.offset[0]; 0 > u ? (i = e.left + d + p + f + t.collisionWidth - o - a, (0 > i || r(u) > i) && (e.left += d + p + f)) : c > 0 && (s = e.left - t.collisionPosition.marginLeft + d + p + f - h, (s > 0 || c > r(s)) && (e.left += d + p + f)) }, top: function (e, t) { var i, s, n = t.within, a = n.offset.top + n.scrollTop, o = n.height, h = n.isWindow ? n.scrollTop : n.offset.top, l = e.top - t.collisionPosition.marginTop, u = l - h, c = l + t.collisionHeight - o - h, d = "top" === t.my[1], p = d ? -t.elemHeight : "bottom" === t.my[1] ? t.elemHeight : 0, f = "top" === t.at[1] ? t.targetHeight : "bottom" === t.at[1] ? -t.targetHeight : 0, m = -2 * t.offset[1]; 0 > u ? (s = e.top + p + f + m + t.collisionHeight - o - a, e.top + p + f + m > u && (0 > s || r(u) > s) && (e.top += p + f + m)) : c > 0 && (i = e.top - t.collisionPosition.marginTop + p + f + m - h, e.top + p + f + m > c && (i > 0 || c > r(i)) && (e.top += p + f + m)) } }, flipfit: { left: function () { e.ui.position.flip.left.apply(this, arguments), e.ui.position.fit.left.apply(this, arguments) }, top: function () { e.ui.position.flip.top.apply(this, arguments), e.ui.position.fit.top.apply(this, arguments) } } }, function () { var t, i, s, n, a, o = document.getElementsByTagName("body")[0], r = document.createElement("div"); t = document.createElement(o ? "div" : "body"), s = { visibility: "hidden", width: 0, height: 0, border: 0, margin: 0, background: "none" }, o && e.extend(s, { position: "absolute", left: "-1000px", top: "-1000px" }); for (a in s) t.style[a] = s[a]; t.appendChild(r), i = o || document.documentElement, i.insertBefore(t, i.firstChild), r.style.cssText = "position: absolute; left: 10.7432222px;", n = e(r).offset().left, e.support.offsetFractions = n > 10 && 11 > n, t.innerHTML = "", i.removeChild(t) }() })(jQuery); (function (e) { e.widget("ui.autocomplete", { version: "1.10.4", defaultElement: "<input>", options: { appendTo: null, autoFocus: !1, delay: 300, minLength: 1, position: { my: "left top", at: "left bottom", collision: "none" }, source: null, change: null, close: null, focus: null, open: null, response: null, search: null, select: null }, requestIndex: 0, pending: 0, _create: function () { var t, i, s, n = this.element[0].nodeName.toLowerCase(), a = "textarea" === n, o = "input" === n; this.isMultiLine = a ? !0 : o ? !1 : this.element.prop("isContentEditable"), this.valueMethod = this.element[a || o ? "val" : "text"], this.isNewMenu = !0, this.element.addClass("ui-autocomplete-input").attr("autocomplete", "off"), this._on(this.element, { keydown: function (n) { if (this.element.prop("readOnly")) return t = !0, s = !0, i = !0, undefined; t = !1, s = !1, i = !1; var a = e.ui.keyCode; switch (n.keyCode) { case a.PAGE_UP: t = !0, this._move("previousPage", n); break; case a.PAGE_DOWN: t = !0, this._move("nextPage", n); break; case a.UP: t = !0, this._keyEvent("previous", n); break; case a.DOWN: t = !0, this._keyEvent("next", n); break; case a.ENTER: case a.NUMPAD_ENTER: this.menu.active && (t = !0, n.preventDefault(), this.menu.select(n)); break; case a.TAB: this.menu.active && this.menu.select(n); break; case a.ESCAPE: this.menu.element.is(":visible") && (this._value(this.term), this.close(n), n.preventDefault()); break; default: i = !0, this._searchTimeout(n) } }, keypress: function (s) { if (t) return t = !1, (!this.isMultiLine || this.menu.element.is(":visible")) && s.preventDefault(), undefined; if (!i) { var n = e.ui.keyCode; switch (s.keyCode) { case n.PAGE_UP: this._move("previousPage", s); break; case n.PAGE_DOWN: this._move("nextPage", s); break; case n.UP: this._keyEvent("previous", s); break; case n.DOWN: this._keyEvent("next", s) } } }, input: function (e) { return s ? (s = !1, e.preventDefault(), undefined) : (this._searchTimeout(e), undefined) }, focus: function () { this.selectedItem = null, this.previous = this._value() }, blur: function (e) { return this.cancelBlur ? (delete this.cancelBlur, undefined) : (clearTimeout(this.searching), this.close(e), this._change(e), undefined) } }), this._initSource(), this.menu = e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({ role: null }).hide().data("ui-menu"), this._on(this.menu.element, { mousedown: function (t) { t.preventDefault(), this.cancelBlur = !0, this._delay(function () { delete this.cancelBlur }); var i = this.menu.element[0]; e(t.target).closest(".ui-menu-item").length || this._delay(function () { var t = this; this.document.one("mousedown", function (s) { s.target === t.element[0] || s.target === i || e.contains(i, s.target) || t.close() }) }) }, menufocus: function (t, i) { if (this.isNewMenu && (this.isNewMenu = !1, t.originalEvent && /^mouse/.test(t.originalEvent.type))) return this.menu.blur(), this.document.one("mousemove", function () { e(t.target).trigger(t.originalEvent) }), undefined; var s = i.item.data("ui-autocomplete-item"); !1 !== this._trigger("focus", t, { item: s }) ? t.originalEvent && /^key/.test(t.originalEvent.type) && this._value(s.value) : this.liveRegion.text(s.value) }, menuselect: function (e, t) { var i = t.item.data("ui-autocomplete-item"), s = this.previous; this.element[0] !== this.document[0].activeElement && (this.element.focus(), this.previous = s, this._delay(function () { this.previous = s, this.selectedItem = i })), !1 !== this._trigger("select", e, { item: i }) && this._value(i.value), this.term = this._value(), this.close(e), this.selectedItem = i } }), this.liveRegion = e("<span>", { role: "status", "aria-live": "polite" }).addClass("ui-helper-hidden-accessible").insertBefore(this.element), this._on(this.window, { beforeunload: function () { this.element.removeAttr("autocomplete") } }) }, _destroy: function () { clearTimeout(this.searching), this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"), this.menu.element.remove(), this.liveRegion.remove() }, _setOption: function (e, t) { this._super(e, t), "source" === e && this._initSource(), "appendTo" === e && this.menu.element.appendTo(this._appendTo()), "disabled" === e && t && this.xhr && this.xhr.abort() }, _appendTo: function () { var t = this.options.appendTo; return t && (t = t.jquery || t.nodeType ? e(t) : this.document.find(t).eq(0)), t || (t = this.element.closest(".ui-front")), t.length || (t = this.document[0].body), t }, _initSource: function () { var t, i, s = this; e.isArray(this.options.source) ? (t = this.options.source, this.source = function (i, s) { s(e.ui.autocomplete.filter(t, i.term)) }) : "string" == typeof this.options.source ? (i = this.options.source, this.source = function (t, n) { s.xhr && s.xhr.abort(), s.xhr = e.ajax({ url: i, data: t, dataType: "json", success: function (e) { n(e) }, error: function () { n([]) } }) }) : this.source = this.options.source }, _searchTimeout: function (e) { clearTimeout(this.searching), this.searching = this._delay(function () { this.term !== this._value() && (this.selectedItem = null, this.search(null, e)) }, this.options.delay) }, search: function (e, t) { return e = null != e ? e : this._value(), this.term = this._value(), e.length < this.options.minLength ? this.close(t) : this._trigger("search", t) !== !1 ? this._search(e) : undefined }, _search: function (e) { this.pending++, this.element.addClass("ui-autocomplete-loading"), this.cancelSearch = !1, this.source({ term: e }, this._response()) }, _response: function () { var t = ++this.requestIndex; return e.proxy(function (e) { t === this.requestIndex && this.__response(e), this.pending--, this.pending || this.element.removeClass("ui-autocomplete-loading") }, this) }, __response: function (e) { e && (e = this._normalize(e)), this._trigger("response", null, { content: e }), !this.options.disabled && e && e.length && !this.cancelSearch ? (this._suggest(e), this._trigger("open")) : this._close() }, close: function (e) { this.cancelSearch = !0, this._close(e) }, _close: function (e) { this.menu.element.is(":visible") && (this.menu.element.hide(), this.menu.blur(), this.isNewMenu = !0, this._trigger("close", e)) }, _change: function (e) { this.previous !== this._value() && this._trigger("change", e, { item: this.selectedItem }) }, _normalize: function (t) { return t.length && t[0].label && t[0].value ? t : e.map(t, function (t) { return "string" == typeof t ? { label: t, value: t } : e.extend({ label: t.label || t.value, value: t.value || t.label }, t) }) }, _suggest: function (t) { var i = this.menu.element.empty(); this._renderMenu(i, t), this.isNewMenu = !0, this.menu.refresh(), i.show(), this._resizeMenu(), i.position(e.extend({ of: this.element }, this.options.position)), this.options.autoFocus && this.menu.next() }, _resizeMenu: function () { var e = this.menu.element; e.outerWidth(Math.max(e.width("").outerWidth() + 1, this.element.outerWidth())) }, _renderMenu: function (t, i) { var s = this; e.each(i, function (e, i) { s._renderItemData(t, i) }) }, _renderItemData: function (e, t) { return this._renderItem(e, t).data("ui-autocomplete-item", t) }, _renderItem: function (t, i) { return e("<li>").append(e("<a>").text(i.label)).appendTo(t) }, _move: function (e, t) { return this.menu.element.is(":visible") ? this.menu.isFirstItem() && /^previous/.test(e) || this.menu.isLastItem() && /^next/.test(e) ? (this._value(this.term), this.menu.blur(), undefined) : (this.menu[e](t), undefined) : (this.search(null, t), undefined) }, widget: function () { return this.menu.element }, _value: function () { return this.valueMethod.apply(this.element, arguments) }, _keyEvent: function (e, t) { (!this.isMultiLine || this.menu.element.is(":visible")) && (this._move(e, t), t.preventDefault()) } }), e.extend(e.ui.autocomplete, { escapeRegex: function (e) { return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&") }, filter: function (t, i) { var s = RegExp(e.ui.autocomplete.escapeRegex(i), "i"); return e.grep(t, function (e) { return s.test(e.label || e.value || e) }) } }), e.widget("ui.autocomplete", e.ui.autocomplete, { options: { messages: { noResults: "No search results.", results: function (e) { return e + (e > 1 ? " results are" : " result is") + " available, use up and down arrow keys to navigate." } } }, __response: function (e) { var t; this._superApply(arguments), this.options.disabled || this.cancelSearch || (t = e && e.length ? this.options.messages.results(e.length) : this.options.messages.noResults, this.liveRegion.text(t)) } }) })(jQuery); (function (e, t) {
    function i() { this._curInst = null, this._keyEvent = !1, this._disabledInputs = [], this._datepickerShowing = !1, this._inDialog = !1, this._mainDivId = "ui-datepicker-div", this._inlineClass = "ui-datepicker-inline", this._appendClass = "ui-datepicker-append", this._triggerClass = "ui-datepicker-trigger", this._dialogClass = "ui-datepicker-dialog", this._disableClass = "ui-datepicker-disabled", this._unselectableClass = "ui-datepicker-unselectable", this._currentClass = "ui-datepicker-current-day", this._dayOverClass = "ui-datepicker-days-cell-over", this.regional = [], this.regional[""] = { closeText: "Done", prevText: "Prev", nextText: "Next", currentText: "Today", monthNames: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"], monthNamesShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"], dayNames: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"], dayNamesShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"], dayNamesMin: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"], weekHeader: "Wk", dateFormat: "mm/dd/yy", firstDay: 0, isRTL: !1, showMonthAfterYear: !1, yearSuffix: "" }, this._defaults = { showOn: "focus", showAnim: "fadeIn", showOptions: {}, defaultDate: null, appendText: "", buttonText: "...", buttonImage: "", buttonImageOnly: !1, hideIfNoPrevNext: !1, navigationAsDateFormat: !1, gotoCurrent: !1, changeMonth: !1, changeYear: !1, yearRange: "c-10:c+10", showOtherMonths: !1, selectOtherMonths: !1, showWeek: !1, calculateWeek: this.iso8601Week, shortYearCutoff: "+10", minDate: null, maxDate: null, duration: "fast", beforeShowDay: null, beforeShow: null, onSelect: null, onChangeMonthYear: null, onClose: null, numberOfMonths: 1, showCurrentAtPos: 0, stepMonths: 1, stepBigMonths: 12, altField: "", altFormat: "", constrainInput: !0, showButtonPanel: !1, autoSize: !1, disabled: !1 }, e.extend(this._defaults, this.regional[""]), this.dpDiv = s(e("<div id='" + this._mainDivId + "' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")) } function s(t) { var i = "button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a"; return t.delegate(i, "mouseout", function () { e(this).removeClass("ui-state-hover"), -1 !== this.className.indexOf("ui-datepicker-prev") && e(this).removeClass("ui-datepicker-prev-hover"), -1 !== this.className.indexOf("ui-datepicker-next") && e(this).removeClass("ui-datepicker-next-hover") }).delegate(i, "mouseover", function () { e.datepicker._isDisabledDatepicker(a.inline ? t.parent()[0] : a.input[0]) || (e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"), e(this).addClass("ui-state-hover"), -1 !== this.className.indexOf("ui-datepicker-prev") && e(this).addClass("ui-datepicker-prev-hover"), -1 !== this.className.indexOf("ui-datepicker-next") && e(this).addClass("ui-datepicker-next-hover")) }) } function n(t, i) { e.extend(t, i); for (var s in i) null == i[s] && (t[s] = i[s]); return t } e.extend(e.ui, { datepicker: { version: "1.10.4" } }); var a, o = "datepicker"; e.extend(i.prototype, {
        markerClassName: "hasDatepicker", maxRows: 4, _widgetDatepicker: function () { return this.dpDiv }, setDefaults: function (e) { return n(this._defaults, e || {}), this }, _attachDatepicker: function (t, i) { var s, n, a; s = t.nodeName.toLowerCase(), n = "div" === s || "span" === s, t.id || (this.uuid += 1, t.id = "dp" + this.uuid), a = this._newInst(e(t), n), a.settings = e.extend({}, i || {}), "input" === s ? this._connectDatepicker(t, a) : n && this._inlineDatepicker(t, a) }, _newInst: function (t, i) { var n = t[0].id.replace(/([^A-Za-z0-9_\-])/g, "\\\\$1"); return { id: n, input: t, selectedDay: 0, selectedMonth: 0, selectedYear: 0, drawMonth: 0, drawYear: 0, inline: i, dpDiv: i ? s(e("<div class='" + this._inlineClass + " ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")) : this.dpDiv } }, _connectDatepicker: function (t, i) { var s = e(t); i.append = e([]), i.trigger = e([]), s.hasClass(this.markerClassName) || (this._attachments(s, i), s.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp), this._autoSize(i), e.data(t, o, i), i.settings.disabled && this._disableDatepicker(t)) }, _attachments: function (t, i) { var s, n, a, o = this._get(i, "appendText"), r = this._get(i, "isRTL"); i.append && i.append.remove(), o && (i.append = e("<span class='" + this._appendClass + "'>" + o + "</span>"), t[r ? "before" : "after"](i.append)), t.unbind("focus", this._showDatepicker), i.trigger && i.trigger.remove(), s = this._get(i, "showOn"), ("focus" === s || "both" === s) && t.focus(this._showDatepicker), ("button" === s || "both" === s) && (n = this._get(i, "buttonText"), a = this._get(i, "buttonImage"), i.trigger = e(this._get(i, "buttonImageOnly") ? e("<img/>").addClass(this._triggerClass).attr({ src: a, alt: n, title: n }) : e("<button type='button'></button>").addClass(this._triggerClass).html(a ? e("<img/>").attr({ src: a, alt: n, title: n }) : n)), t[r ? "before" : "after"](i.trigger), i.trigger.click(function () { return e.datepicker._datepickerShowing && e.datepicker._lastInput === t[0] ? e.datepicker._hideDatepicker() : e.datepicker._datepickerShowing && e.datepicker._lastInput !== t[0] ? (e.datepicker._hideDatepicker(), e.datepicker._showDatepicker(t[0])) : e.datepicker._showDatepicker(t[0]), !1 })) }, _autoSize: function (e) { if (this._get(e, "autoSize") && !e.inline) { var t, i, s, n, a = new Date(2009, 11, 20), o = this._get(e, "dateFormat"); o.match(/[DM]/) && (t = function (e) { for (i = 0, s = 0, n = 0; e.length > n; n++) e[n].length > i && (i = e[n].length, s = n); return s }, a.setMonth(t(this._get(e, o.match(/MM/) ? "monthNames" : "monthNamesShort"))), a.setDate(t(this._get(e, o.match(/DD/) ? "dayNames" : "dayNamesShort")) + 20 - a.getDay())), e.input.attr("size", this._formatDate(e, a).length) } }, _inlineDatepicker: function (t, i) { var s = e(t); s.hasClass(this.markerClassName) || (s.addClass(this.markerClassName).append(i.dpDiv), e.data(t, o, i), this._setDate(i, this._getDefaultDate(i), !0), this._updateDatepicker(i), this._updateAlternate(i), i.settings.disabled && this._disableDatepicker(t), i.dpDiv.css("display", "block")) }, _dialogDatepicker: function (t, i, s, a, r) { var h, l, u, d, c, p = this._dialogInst; return p || (this.uuid += 1, h = "dp" + this.uuid, this._dialogInput = e("<input type='text' id='" + h + "' style='position: absolute; top: -100px; width: 0px;'/>"), this._dialogInput.keydown(this._doKeyDown), e("body").append(this._dialogInput), p = this._dialogInst = this._newInst(this._dialogInput, !1), p.settings = {}, e.data(this._dialogInput[0], o, p)), n(p.settings, a || {}), i = i && i.constructor === Date ? this._formatDate(p, i) : i, this._dialogInput.val(i), this._pos = r ? r.length ? r : [r.pageX, r.pageY] : null, this._pos || (l = document.documentElement.clientWidth, u = document.documentElement.clientHeight, d = document.documentElement.scrollLeft || document.body.scrollLeft, c = document.documentElement.scrollTop || document.body.scrollTop, this._pos = [l / 2 - 100 + d, u / 2 - 150 + c]), this._dialogInput.css("left", this._pos[0] + 20 + "px").css("top", this._pos[1] + "px"), p.settings.onSelect = s, this._inDialog = !0, this.dpDiv.addClass(this._dialogClass), this._showDatepicker(this._dialogInput[0]), e.blockUI && e.blockUI(this.dpDiv), e.data(this._dialogInput[0], o, p), this }, _destroyDatepicker: function (t) { var i, s = e(t), n = e.data(t, o); s.hasClass(this.markerClassName) && (i = t.nodeName.toLowerCase(), e.removeData(t, o), "input" === i ? (n.append.remove(), n.trigger.remove(), s.removeClass(this.markerClassName).unbind("focus", this._showDatepicker).unbind("keydown", this._doKeyDown).unbind("keypress", this._doKeyPress).unbind("keyup", this._doKeyUp)) : ("div" === i || "span" === i) && s.removeClass(this.markerClassName).empty()) }, _enableDatepicker: function (t) { var i, s, n = e(t), a = e.data(t, o); n.hasClass(this.markerClassName) && (i = t.nodeName.toLowerCase(), "input" === i ? (t.disabled = !1, a.trigger.filter("button").each(function () { this.disabled = !1 }).end().filter("img").css({ opacity: "1.0", cursor: "" })) : ("div" === i || "span" === i) && (s = n.children("." + this._inlineClass), s.children().removeClass("ui-state-disabled"), s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled", !1)), this._disabledInputs = e.map(this._disabledInputs, function (e) { return e === t ? null : e })) }, _disableDatepicker: function (t) { var i, s, n = e(t), a = e.data(t, o); n.hasClass(this.markerClassName) && (i = t.nodeName.toLowerCase(), "input" === i ? (t.disabled = !0, a.trigger.filter("button").each(function () { this.disabled = !0 }).end().filter("img").css({ opacity: "0.5", cursor: "default" })) : ("div" === i || "span" === i) && (s = n.children("." + this._inlineClass), s.children().addClass("ui-state-disabled"), s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled", !0)), this._disabledInputs = e.map(this._disabledInputs, function (e) { return e === t ? null : e }), this._disabledInputs[this._disabledInputs.length] = t) }, _isDisabledDatepicker: function (e) { if (!e) return !1; for (var t = 0; this._disabledInputs.length > t; t++) if (this._disabledInputs[t] === e) return !0; return !1 }, _getInst: function (t) { try { return e.data(t, o) } catch (i) { throw "Missing instance data for this datepicker" } }, _optionDatepicker: function (i, s, a) { var o, r, h, l, u = this._getInst(i); return 2 === arguments.length && "string" == typeof s ? "defaults" === s ? e.extend({}, e.datepicker._defaults) : u ? "all" === s ? e.extend({}, u.settings) : this._get(u, s) : null : (o = s || {}, "string" == typeof s && (o = {}, o[s] = a), u && (this._curInst === u && this._hideDatepicker(), r = this._getDateDatepicker(i, !0), h = this._getMinMaxDate(u, "min"), l = this._getMinMaxDate(u, "max"), n(u.settings, o), null !== h && o.dateFormat !== t && o.minDate === t && (u.settings.minDate = this._formatDate(u, h)), null !== l && o.dateFormat !== t && o.maxDate === t && (u.settings.maxDate = this._formatDate(u, l)), "disabled" in o && (o.disabled ? this._disableDatepicker(i) : this._enableDatepicker(i)), this._attachments(e(i), u), this._autoSize(u), this._setDate(u, r), this._updateAlternate(u), this._updateDatepicker(u)), t) }, _changeDatepicker: function (e, t, i) { this._optionDatepicker(e, t, i) }, _refreshDatepicker: function (e) { var t = this._getInst(e); t && this._updateDatepicker(t) }, _setDateDatepicker: function (e, t) { var i = this._getInst(e); i && (this._setDate(i, t), this._updateDatepicker(i), this._updateAlternate(i)) }, _getDateDatepicker: function (e, t) { var i = this._getInst(e); return i && !i.inline && this._setDateFromField(i, t), i ? this._getDate(i) : null }, _doKeyDown: function (t) { var i, s, n, a = e.datepicker._getInst(t.target), o = !0, r = a.dpDiv.is(".ui-datepicker-rtl"); if (a._keyEvent = !0, e.datepicker._datepickerShowing) switch (t.keyCode) { case 9: e.datepicker._hideDatepicker(), o = !1; break; case 13: return n = e("td." + e.datepicker._dayOverClass + ":not(." + e.datepicker._currentClass + ")", a.dpDiv), n[0] && e.datepicker._selectDay(t.target, a.selectedMonth, a.selectedYear, n[0]), i = e.datepicker._get(a, "onSelect"), i ? (s = e.datepicker._formatDate(a), i.apply(a.input ? a.input[0] : null, [s, a])) : e.datepicker._hideDatepicker(), !1; case 27: e.datepicker._hideDatepicker(); break; case 33: e.datepicker._adjustDate(t.target, t.ctrlKey ? -e.datepicker._get(a, "stepBigMonths") : -e.datepicker._get(a, "stepMonths"), "M"); break; case 34: e.datepicker._adjustDate(t.target, t.ctrlKey ? +e.datepicker._get(a, "stepBigMonths") : +e.datepicker._get(a, "stepMonths"), "M"); break; case 35: (t.ctrlKey || t.metaKey) && e.datepicker._clearDate(t.target), o = t.ctrlKey || t.metaKey; break; case 36: (t.ctrlKey || t.metaKey) && e.datepicker._gotoToday(t.target), o = t.ctrlKey || t.metaKey; break; case 37: (t.ctrlKey || t.metaKey) && e.datepicker._adjustDate(t.target, r ? 1 : -1, "D"), o = t.ctrlKey || t.metaKey, t.originalEvent.altKey && e.datepicker._adjustDate(t.target, t.ctrlKey ? -e.datepicker._get(a, "stepBigMonths") : -e.datepicker._get(a, "stepMonths"), "M"); break; case 38: (t.ctrlKey || t.metaKey) && e.datepicker._adjustDate(t.target, -7, "D"), o = t.ctrlKey || t.metaKey; break; case 39: (t.ctrlKey || t.metaKey) && e.datepicker._adjustDate(t.target, r ? -1 : 1, "D"), o = t.ctrlKey || t.metaKey, t.originalEvent.altKey && e.datepicker._adjustDate(t.target, t.ctrlKey ? +e.datepicker._get(a, "stepBigMonths") : +e.datepicker._get(a, "stepMonths"), "M"); break; case 40: (t.ctrlKey || t.metaKey) && e.datepicker._adjustDate(t.target, 7, "D"), o = t.ctrlKey || t.metaKey; break; default: o = !1 } else 36 === t.keyCode && t.ctrlKey ? e.datepicker._showDatepicker(this) : o = !1; o && (t.preventDefault(), t.stopPropagation()) }, _doKeyPress: function (i) { var s, n, a = e.datepicker._getInst(i.target); return e.datepicker._get(a, "constrainInput") ? (s = e.datepicker._possibleChars(e.datepicker._get(a, "dateFormat")), n = String.fromCharCode(null == i.charCode ? i.keyCode : i.charCode), i.ctrlKey || i.metaKey || " " > n || !s || s.indexOf(n) > -1) : t }, _doKeyUp: function (t) { var i, s = e.datepicker._getInst(t.target); if (s.input.val() !== s.lastVal) try { i = e.datepicker.parseDate(e.datepicker._get(s, "dateFormat"), s.input ? s.input.val() : null, e.datepicker._getFormatConfig(s)), i && (e.datepicker._setDateFromField(s), e.datepicker._updateAlternate(s), e.datepicker._updateDatepicker(s)) } catch (n) { } return !0 }, _showDatepicker: function (t) { if (t = t.target || t, "input" !== t.nodeName.toLowerCase() && (t = e("input", t.parentNode)[0]), !e.datepicker._isDisabledDatepicker(t) && e.datepicker._lastInput !== t) { var i, s, a, o, r, h, l; i = e.datepicker._getInst(t), e.datepicker._curInst && e.datepicker._curInst !== i && (e.datepicker._curInst.dpDiv.stop(!0, !0), i && e.datepicker._datepickerShowing && e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])), s = e.datepicker._get(i, "beforeShow"), a = s ? s.apply(t, [t, i]) : {}, a !== !1 && (n(i.settings, a), i.lastVal = null, e.datepicker._lastInput = t, e.datepicker._setDateFromField(i), e.datepicker._inDialog && (t.value = ""), e.datepicker._pos || (e.datepicker._pos = e.datepicker._findPos(t), e.datepicker._pos[1] += t.offsetHeight), o = !1, e(t).parents().each(function () { return o |= "fixed" === e(this).css("position"), !o }), r = { left: e.datepicker._pos[0], top: e.datepicker._pos[1] }, e.datepicker._pos = null, i.dpDiv.empty(), i.dpDiv.css({ position: "absolute", display: "block", top: "-1000px" }), e.datepicker._updateDatepicker(i), r = e.datepicker._checkOffset(i, r, o), i.dpDiv.css({ position: e.datepicker._inDialog && e.blockUI ? "static" : o ? "fixed" : "absolute", display: "none", left: r.left + "px", top: r.top + "px" }), i.inline || (h = e.datepicker._get(i, "showAnim"), l = e.datepicker._get(i, "duration"), i.dpDiv.zIndex(e(t).zIndex() + 1), e.datepicker._datepickerShowing = !0, e.effects && e.effects.effect[h] ? i.dpDiv.show(h, e.datepicker._get(i, "showOptions"), l) : i.dpDiv[h || "show"](h ? l : null), e.datepicker._shouldFocusInput(i) && i.input.focus(), e.datepicker._curInst = i)) } }, _updateDatepicker: function (t) { this.maxRows = 4, a = t, t.dpDiv.empty().append(this._generateHTML(t)), this._attachHandlers(t), t.dpDiv.find("." + this._dayOverClass + " a").mouseover(); var i, s = this._getNumberOfMonths(t), n = s[1], o = 17; t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""), n > 1 && t.dpDiv.addClass("ui-datepicker-multi-" + n).css("width", o * n + "em"), t.dpDiv[(1 !== s[0] || 1 !== s[1] ? "add" : "remove") + "Class"]("ui-datepicker-multi"), t.dpDiv[(this._get(t, "isRTL") ? "add" : "remove") + "Class"]("ui-datepicker-rtl"), t === e.datepicker._curInst && e.datepicker._datepickerShowing && e.datepicker._shouldFocusInput(t) && t.input.focus(), t.yearshtml && (i = t.yearshtml, setTimeout(function () { i === t.yearshtml && t.yearshtml && t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml), i = t.yearshtml = null }, 0)) }, _shouldFocusInput: function (e) { return e.input && e.input.is(":visible") && !e.input.is(":disabled") && !e.input.is(":focus") }, _checkOffset: function (t, i, s) { var n = t.dpDiv.outerWidth(), a = t.dpDiv.outerHeight(), o = t.input ? t.input.outerWidth() : 0, r = t.input ? t.input.outerHeight() : 0, h = document.documentElement.clientWidth + (s ? 0 : e(document).scrollLeft()), l = document.documentElement.clientHeight + (s ? 0 : e(document).scrollTop()); return i.left -= this._get(t, "isRTL") ? n - o : 0, i.left -= s && i.left === t.input.offset().left ? e(document).scrollLeft() : 0, i.top -= s && i.top === t.input.offset().top + r ? e(document).scrollTop() : 0, i.left -= Math.min(i.left, i.left + n > h && h > n ? Math.abs(i.left + n - h) : 0), i.top -= Math.min(i.top, i.top + a > l && l > a ? Math.abs(a + r) : 0), i }, _findPos: function (t) { for (var i, s = this._getInst(t), n = this._get(s, "isRTL") ; t && ("hidden" === t.type || 1 !== t.nodeType || e.expr.filters.hidden(t)) ;) t = t[n ? "previousSibling" : "nextSibling"]; return i = e(t).offset(), [i.left, i.top] }, _hideDatepicker: function (t) { var i, s, n, a, r = this._curInst; !r || t && r !== e.data(t, o) || this._datepickerShowing && (i = this._get(r, "showAnim"), s = this._get(r, "duration"), n = function () { e.datepicker._tidyDialog(r) }, e.effects && (e.effects.effect[i] || e.effects[i]) ? r.dpDiv.hide(i, e.datepicker._get(r, "showOptions"), s, n) : r.dpDiv["slideDown" === i ? "slideUp" : "fadeIn" === i ? "fadeOut" : "hide"](i ? s : null, n), i || n(), this._datepickerShowing = !1, a = this._get(r, "onClose"), a && a.apply(r.input ? r.input[0] : null, [r.input ? r.input.val() : "", r]), this._lastInput = null, this._inDialog && (this._dialogInput.css({ position: "absolute", left: "0", top: "-100px" }), e.blockUI && (e.unblockUI(), e("body").append(this.dpDiv))), this._inDialog = !1) }, _tidyDialog: function (e) { e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar") }, _checkExternalClick: function (t) { if (e.datepicker._curInst) { var i = e(t.target), s = e.datepicker._getInst(i[0]); (i[0].id !== e.datepicker._mainDivId && 0 === i.parents("#" + e.datepicker._mainDivId).length && !i.hasClass(e.datepicker.markerClassName) && !i.closest("." + e.datepicker._triggerClass).length && e.datepicker._datepickerShowing && (!e.datepicker._inDialog || !e.blockUI) || i.hasClass(e.datepicker.markerClassName) && e.datepicker._curInst !== s) && e.datepicker._hideDatepicker() } }, _adjustDate: function (t, i, s) { var n = e(t), a = this._getInst(n[0]); this._isDisabledDatepicker(n[0]) || (this._adjustInstDate(a, i + ("M" === s ? this._get(a, "showCurrentAtPos") : 0), s), this._updateDatepicker(a)) }, _gotoToday: function (t) { var i, s = e(t), n = this._getInst(s[0]); this._get(n, "gotoCurrent") && n.currentDay ? (n.selectedDay = n.currentDay, n.drawMonth = n.selectedMonth = n.currentMonth, n.drawYear = n.selectedYear = n.currentYear) : (i = new Date, n.selectedDay = i.getDate(), n.drawMonth = n.selectedMonth = i.getMonth(), n.drawYear = n.selectedYear = i.getFullYear()), this._notifyChange(n), this._adjustDate(s) }, _selectMonthYear: function (t, i, s) { var n = e(t), a = this._getInst(n[0]); a["selected" + ("M" === s ? "Month" : "Year")] = a["draw" + ("M" === s ? "Month" : "Year")] = parseInt(i.options[i.selectedIndex].value, 10), this._notifyChange(a), this._adjustDate(n) }, _selectDay: function (t, i, s, n) { var a, o = e(t); e(n).hasClass(this._unselectableClass) || this._isDisabledDatepicker(o[0]) || (a = this._getInst(o[0]), a.selectedDay = a.currentDay = e("a", n).html(), a.selectedMonth = a.currentMonth = i, a.selectedYear = a.currentYear = s, this._selectDate(t, this._formatDate(a, a.currentDay, a.currentMonth, a.currentYear))) }, _clearDate: function (t) { var i = e(t); this._selectDate(i, "") }, _selectDate: function (t, i) { var s, n = e(t), a = this._getInst(n[0]); i = null != i ? i : this._formatDate(a), a.input && a.input.val(i), this._updateAlternate(a), s = this._get(a, "onSelect"), s ? s.apply(a.input ? a.input[0] : null, [i, a]) : a.input && a.input.trigger("change"), a.inline ? this._updateDatepicker(a) : (this._hideDatepicker(), this._lastInput = a.input[0], "object" != typeof a.input[0] && a.input.focus(), this._lastInput = null) }, _updateAlternate: function (t) { var i, s, n, a = this._get(t, "altField"); a && (i = this._get(t, "altFormat") || this._get(t, "dateFormat"), s = this._getDate(t), n = this.formatDate(i, s, this._getFormatConfig(t)), e(a).each(function () { e(this).val(n) })) }, noWeekends: function (e) { var t = e.getDay(); return [t > 0 && 6 > t, ""] }, iso8601Week: function (e) { var t, i = new Date(e.getTime()); return i.setDate(i.getDate() + 4 - (i.getDay() || 7)), t = i.getTime(), i.setMonth(0), i.setDate(1), Math.floor(Math.round((t - i) / 864e5) / 7) + 1 }, parseDate: function (i, s, n) { if (null == i || null == s) throw "Invalid arguments"; if (s = "object" == typeof s ? "" + s : s + "", "" === s) return null; var a, o, r, h, l = 0, u = (n ? n.shortYearCutoff : null) || this._defaults.shortYearCutoff, d = "string" != typeof u ? u : (new Date).getFullYear() % 100 + parseInt(u, 10), c = (n ? n.dayNamesShort : null) || this._defaults.dayNamesShort, p = (n ? n.dayNames : null) || this._defaults.dayNames, f = (n ? n.monthNamesShort : null) || this._defaults.monthNamesShort, m = (n ? n.monthNames : null) || this._defaults.monthNames, g = -1, v = -1, y = -1, b = -1, _ = !1, x = function (e) { var t = i.length > a + 1 && i.charAt(a + 1) === e; return t && a++, t }, w = function (e) { var t = x(e), i = "@" === e ? 14 : "!" === e ? 20 : "y" === e && t ? 4 : "o" === e ? 3 : 2, n = RegExp("^\\d{1," + i + "}"), a = s.substring(l).match(n); if (!a) throw "Missing number at position " + l; return l += a[0].length, parseInt(a[0], 10) }, k = function (i, n, a) { var o = -1, r = e.map(x(i) ? a : n, function (e, t) { return [[t, e]] }).sort(function (e, t) { return -(e[1].length - t[1].length) }); if (e.each(r, function (e, i) { var n = i[1]; return s.substr(l, n.length).toLowerCase() === n.toLowerCase() ? (o = i[0], l += n.length, !1) : t }), -1 !== o) return o + 1; throw "Unknown name at position " + l }, D = function () { if (s.charAt(l) !== i.charAt(a)) throw "Unexpected literal at position " + l; l++ }; for (a = 0; i.length > a; a++) if (_) "'" !== i.charAt(a) || x("'") ? D() : _ = !1; else switch (i.charAt(a)) { case "d": y = w("d"); break; case "D": k("D", c, p); break; case "o": b = w("o"); break; case "m": v = w("m"); break; case "M": v = k("M", f, m); break; case "y": g = w("y"); break; case "@": h = new Date(w("@")), g = h.getFullYear(), v = h.getMonth() + 1, y = h.getDate(); break; case "!": h = new Date((w("!") - this._ticksTo1970) / 1e4), g = h.getFullYear(), v = h.getMonth() + 1, y = h.getDate(); break; case "'": x("'") ? D() : _ = !0; break; default: D() } if (s.length > l && (r = s.substr(l), !/^\s+/.test(r))) throw "Extra/unparsed characters found in date: " + r; if (-1 === g ? g = (new Date).getFullYear() : 100 > g && (g += (new Date).getFullYear() - (new Date).getFullYear() % 100 + (d >= g ? 0 : -100)), b > -1) for (v = 1, y = b; ;) { if (o = this._getDaysInMonth(g, v - 1), o >= y) break; v++, y -= o } if (h = this._daylightSavingAdjust(new Date(g, v - 1, y)), h.getFullYear() !== g || h.getMonth() + 1 !== v || h.getDate() !== y) throw "Invalid date"; return h }, ATOM: "yy-mm-dd", COOKIE: "D, dd M yy", ISO_8601: "yy-mm-dd", RFC_822: "D, d M y", RFC_850: "DD, dd-M-y", RFC_1036: "D, d M y", RFC_1123: "D, d M yy", RFC_2822: "D, d M yy", RSS: "D, d M y", TICKS: "!", TIMESTAMP: "@", W3C: "yy-mm-dd", _ticksTo1970: 1e7 * 60 * 60 * 24 * (718685 + Math.floor(492.5) - Math.floor(19.7) + Math.floor(4.925)), formatDate: function (e, t, i) { if (!t) return ""; var s, n = (i ? i.dayNamesShort : null) || this._defaults.dayNamesShort, a = (i ? i.dayNames : null) || this._defaults.dayNames, o = (i ? i.monthNamesShort : null) || this._defaults.monthNamesShort, r = (i ? i.monthNames : null) || this._defaults.monthNames, h = function (t) { var i = e.length > s + 1 && e.charAt(s + 1) === t; return i && s++, i }, l = function (e, t, i) { var s = "" + t; if (h(e)) for (; i > s.length;) s = "0" + s; return s }, u = function (e, t, i, s) { return h(e) ? s[t] : i[t] }, d = "", c = !1; if (t) for (s = 0; e.length > s; s++) if (c) "'" !== e.charAt(s) || h("'") ? d += e.charAt(s) : c = !1; else switch (e.charAt(s)) { case "d": d += l("d", t.getDate(), 2); break; case "D": d += u("D", t.getDay(), n, a); break; case "o": d += l("o", Math.round((new Date(t.getFullYear(), t.getMonth(), t.getDate()).getTime() - new Date(t.getFullYear(), 0, 0).getTime()) / 864e5), 3); break; case "m": d += l("m", t.getMonth() + 1, 2); break; case "M": d += u("M", t.getMonth(), o, r); break; case "y": d += h("y") ? t.getFullYear() : (10 > t.getYear() % 100 ? "0" : "") + t.getYear() % 100; break; case "@": d += t.getTime(); break; case "!": d += 1e4 * t.getTime() + this._ticksTo1970; break; case "'": h("'") ? d += "'" : c = !0; break; default: d += e.charAt(s) } return d }, _possibleChars: function (e) { var t, i = "", s = !1, n = function (i) { var s = e.length > t + 1 && e.charAt(t + 1) === i; return s && t++, s }; for (t = 0; e.length > t; t++) if (s) "'" !== e.charAt(t) || n("'") ? i += e.charAt(t) : s = !1; else switch (e.charAt(t)) { case "d": case "m": case "y": case "@": i += "0123456789"; break; case "D": case "M": return null; case "'": n("'") ? i += "'" : s = !0; break; default: i += e.charAt(t) } return i }, _get: function (e, i) { return e.settings[i] !== t ? e.settings[i] : this._defaults[i] }, _setDateFromField: function (e, t) { if (e.input.val() !== e.lastVal) { var i = this._get(e, "dateFormat"), s = e.lastVal = e.input ? e.input.val() : null, n = this._getDefaultDate(e), a = n, o = this._getFormatConfig(e); try { a = this.parseDate(i, s, o) || n } catch (r) { s = t ? "" : s } e.selectedDay = a.getDate(), e.drawMonth = e.selectedMonth = a.getMonth(), e.drawYear = e.selectedYear = a.getFullYear(), e.currentDay = s ? a.getDate() : 0, e.currentMonth = s ? a.getMonth() : 0, e.currentYear = s ? a.getFullYear() : 0, this._adjustInstDate(e) } }, _getDefaultDate: function (e) { return this._restrictMinMax(e, this._determineDate(e, this._get(e, "defaultDate"), new Date)) }, _determineDate: function (t, i, s) { var n = function (e) { var t = new Date; return t.setDate(t.getDate() + e), t }, a = function (i) { try { return e.datepicker.parseDate(e.datepicker._get(t, "dateFormat"), i, e.datepicker._getFormatConfig(t)) } catch (s) { } for (var n = (i.toLowerCase().match(/^c/) ? e.datepicker._getDate(t) : null) || new Date, a = n.getFullYear(), o = n.getMonth(), r = n.getDate(), h = /([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g, l = h.exec(i) ; l;) { switch (l[2] || "d") { case "d": case "D": r += parseInt(l[1], 10); break; case "w": case "W": r += 7 * parseInt(l[1], 10); break; case "m": case "M": o += parseInt(l[1], 10), r = Math.min(r, e.datepicker._getDaysInMonth(a, o)); break; case "y": case "Y": a += parseInt(l[1], 10), r = Math.min(r, e.datepicker._getDaysInMonth(a, o)) } l = h.exec(i) } return new Date(a, o, r) }, o = null == i || "" === i ? s : "string" == typeof i ? a(i) : "number" == typeof i ? isNaN(i) ? s : n(i) : new Date(i.getTime()); return o = o && "Invalid Date" == "" + o ? s : o, o && (o.setHours(0), o.setMinutes(0), o.setSeconds(0), o.setMilliseconds(0)), this._daylightSavingAdjust(o) }, _daylightSavingAdjust: function (e) { return e ? (e.setHours(e.getHours() > 12 ? e.getHours() + 2 : 0), e) : null }, _setDate: function (e, t, i) { var s = !t, n = e.selectedMonth, a = e.selectedYear, o = this._restrictMinMax(e, this._determineDate(e, t, new Date)); e.selectedDay = e.currentDay = o.getDate(), e.drawMonth = e.selectedMonth = e.currentMonth = o.getMonth(), e.drawYear = e.selectedYear = e.currentYear = o.getFullYear(), n === e.selectedMonth && a === e.selectedYear || i || this._notifyChange(e), this._adjustInstDate(e), e.input && e.input.val(s ? "" : this._formatDate(e)) }, _getDate: function (e) { var t = !e.currentYear || e.input && "" === e.input.val() ? null : this._daylightSavingAdjust(new Date(e.currentYear, e.currentMonth, e.currentDay)); return t }, _attachHandlers: function (t) { var i = this._get(t, "stepMonths"), s = "#" + t.id.replace(/\\\\/g, "\\"); t.dpDiv.find("[data-handler]").map(function () { var t = { prev: function () { e.datepicker._adjustDate(s, -i, "M") }, next: function () { e.datepicker._adjustDate(s, +i, "M") }, hide: function () { e.datepicker._hideDatepicker() }, today: function () { e.datepicker._gotoToday(s) }, selectDay: function () { return e.datepicker._selectDay(s, +this.getAttribute("data-month"), +this.getAttribute("data-year"), this), !1 }, selectMonth: function () { return e.datepicker._selectMonthYear(s, this, "M"), !1 }, selectYear: function () { return e.datepicker._selectMonthYear(s, this, "Y"), !1 } }; e(this).bind(this.getAttribute("data-event"), t[this.getAttribute("data-handler")]) }) }, _generateHTML: function (e) { var t, i, s, n, a, o, r, h, l, u, d, c, p, f, m, g, v, y, b, _, x, w, k, D, T, S, M, N, C, A, P, I, z, H, F, E, O, j, W, L = new Date, R = this._daylightSavingAdjust(new Date(L.getFullYear(), L.getMonth(), L.getDate())), Y = this._get(e, "isRTL"), J = this._get(e, "showButtonPanel"), B = this._get(e, "hideIfNoPrevNext"), K = this._get(e, "navigationAsDateFormat"), Q = this._getNumberOfMonths(e), V = this._get(e, "showCurrentAtPos"), q = this._get(e, "stepMonths"), U = 1 !== Q[0] || 1 !== Q[1], $ = this._daylightSavingAdjust(e.currentDay ? new Date(e.currentYear, e.currentMonth, e.currentDay) : new Date(9999, 9, 9)), G = this._getMinMaxDate(e, "min"), X = this._getMinMaxDate(e, "max"), Z = e.drawMonth - V, et = e.drawYear; if (0 > Z && (Z += 12, et--), X) for (t = this._daylightSavingAdjust(new Date(X.getFullYear(), X.getMonth() - Q[0] * Q[1] + 1, X.getDate())), t = G && G > t ? G : t; this._daylightSavingAdjust(new Date(et, Z, 1)) > t;) Z--, 0 > Z && (Z = 11, et--); for (e.drawMonth = Z, e.drawYear = et, i = this._get(e, "prevText"), i = K ? this.formatDate(i, this._daylightSavingAdjust(new Date(et, Z - q, 1)), this._getFormatConfig(e)) : i, s = this._canAdjustMonth(e, -1, et, Z) ? "<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='" + i + "'><span class='ui-icon ui-icon-circle-triangle-" + (Y ? "e" : "w") + "'>" + i + "</span></a>" : B ? "" : "<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='" + i + "'><span class='ui-icon ui-icon-circle-triangle-" + (Y ? "e" : "w") + "'>" + i + "</span></a>", n = this._get(e, "nextText"), n = K ? this.formatDate(n, this._daylightSavingAdjust(new Date(et, Z + q, 1)), this._getFormatConfig(e)) : n, a = this._canAdjustMonth(e, 1, et, Z) ? "<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='" + n + "'><span class='ui-icon ui-icon-circle-triangle-" + (Y ? "w" : "e") + "'>" + n + "</span></a>" : B ? "" : "<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='" + n + "'><span class='ui-icon ui-icon-circle-triangle-" + (Y ? "w" : "e") + "'>" + n + "</span></a>", o = this._get(e, "currentText"), r = this._get(e, "gotoCurrent") && e.currentDay ? $ : R, o = K ? this.formatDate(o, r, this._getFormatConfig(e)) : o, h = e.inline ? "" : "<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>" + this._get(e, "closeText") + "</button>", l = J ? "<div class='ui-datepicker-buttonpane ui-widget-content'>" + (Y ? h : "") + (this._isInRange(e, r) ? "<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>" + o + "</button>" : "") + (Y ? "" : h) + "</div>" : "", u = parseInt(this._get(e, "firstDay"), 10), u = isNaN(u) ? 0 : u, d = this._get(e, "showWeek"), c = this._get(e, "dayNames"), p = this._get(e, "dayNamesMin"), f = this._get(e, "monthNames"), m = this._get(e, "monthNamesShort"), g = this._get(e, "beforeShowDay"), v = this._get(e, "showOtherMonths"), y = this._get(e, "selectOtherMonths"), b = this._getDefaultDate(e), _ = "", w = 0; Q[0] > w; w++) { for (k = "", this.maxRows = 4, D = 0; Q[1] > D; D++) { if (T = this._daylightSavingAdjust(new Date(et, Z, e.selectedDay)), S = " ui-corner-all", M = "", U) { if (M += "<div class='ui-datepicker-group", Q[1] > 1) switch (D) { case 0: M += " ui-datepicker-group-first", S = " ui-corner-" + (Y ? "right" : "left"); break; case Q[1] - 1: M += " ui-datepicker-group-last", S = " ui-corner-" + (Y ? "left" : "right"); break; default: M += " ui-datepicker-group-middle", S = "" } M += "'>" } for (M += "<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix" + S + "'>" + (/all|left/.test(S) && 0 === w ? Y ? a : s : "") + (/all|right/.test(S) && 0 === w ? Y ? s : a : "") + this._generateMonthYearHeader(e, Z, et, G, X, w > 0 || D > 0, f, m) + "</div><table class='ui-datepicker-calendar'><thead>" + "<tr>", N = d ? "<th class='ui-datepicker-week-col'>" + this._get(e, "weekHeader") + "</th>" : "", x = 0; 7 > x; x++) C = (x + u) % 7, N += "<th" + ((x + u + 6) % 7 >= 5 ? " class='ui-datepicker-week-end'" : "") + ">" + "<span title='" + c[C] + "'>" + p[C] + "</span></th>"; for (M += N + "</tr></thead><tbody>", A = this._getDaysInMonth(et, Z), et === e.selectedYear && Z === e.selectedMonth && (e.selectedDay = Math.min(e.selectedDay, A)), P = (this._getFirstDayOfMonth(et, Z) - u + 7) % 7, I = Math.ceil((P + A) / 7), z = U ? this.maxRows > I ? this.maxRows : I : I, this.maxRows = z, H = this._daylightSavingAdjust(new Date(et, Z, 1 - P)), F = 0; z > F; F++) { for (M += "<tr>", E = d ? "<td class='ui-datepicker-week-col'>" + this._get(e, "calculateWeek")(H) + "</td>" : "", x = 0; 7 > x; x++) O = g ? g.apply(e.input ? e.input[0] : null, [H]) : [!0, ""], j = H.getMonth() !== Z, W = j && !y || !O[0] || G && G > H || X && H > X, E += "<td class='" + ((x + u + 6) % 7 >= 5 ? " ui-datepicker-week-end" : "") + (j ? " ui-datepicker-other-month" : "") + (H.getTime() === T.getTime() && Z === e.selectedMonth && e._keyEvent || b.getTime() === H.getTime() && b.getTime() === T.getTime() ? " " + this._dayOverClass : "") + (W ? " " + this._unselectableClass + " ui-state-disabled" : "") + (j && !v ? "" : " " + O[1] + (H.getTime() === $.getTime() ? " " + this._currentClass : "") + (H.getTime() === R.getTime() ? " ui-datepicker-today" : "")) + "'" + (j && !v || !O[2] ? "" : " title='" + O[2].replace(/'/g, "&#39;") + "'") + (W ? "" : " data-handler='selectDay' data-event='click' data-month='" + H.getMonth() + "' data-year='" + H.getFullYear() + "'") + ">" + (j && !v ? "&#xa0;" : W ? "<span class='ui-state-default'>" + H.getDate() + "</span>" : "<a class='ui-state-default" + (H.getTime() === R.getTime() ? " ui-state-highlight" : "") + (H.getTime() === $.getTime() ? " ui-state-active" : "") + (j ? " ui-priority-secondary" : "") + "' href='#'>" + H.getDate() + "</a>") + "</td>", H.setDate(H.getDate() + 1), H = this._daylightSavingAdjust(H); M += E + "</tr>" } Z++, Z > 11 && (Z = 0, et++), M += "</tbody></table>" + (U ? "</div>" + (Q[0] > 0 && D === Q[1] - 1 ? "<div class='ui-datepicker-row-break'></div>" : "") : ""), k += M } _ += k } return _ += l, e._keyEvent = !1, _ }, _generateMonthYearHeader: function (e, t, i, s, n, a, o, r) {
            var h, l, u, d, c, p, f, m, g = this._get(e, "changeMonth"), v = this._get(e, "changeYear"), y = this._get(e, "showMonthAfterYear"), b = "<div class='ui-datepicker-title'>", _ = ""; if (a || !g) _ += "<span class='ui-datepicker-month'>" + o[t] + "</span>"; else { for (h = s && s.getFullYear() === i, l = n && n.getFullYear() === i, _ += "<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>", u = 0; 12 > u; u++) (!h || u >= s.getMonth()) && (!l || n.getMonth() >= u) && (_ += "<option value='" + u + "'" + (u === t ? " selected='selected'" : "") + ">" + r[u] + "</option>"); _ += "</select>" } if (y || (b += _ + (!a && g && v ? "" : "&#xa0;")), !e.yearshtml) if (e.yearshtml = "", a || !v) b += "<span class='ui-datepicker-year'>" + i + "</span>"; else {
                for (d = this._get(e, "yearRange").split(":"), c = (new Date).getFullYear(), p = function (e) {
                var t = e.match(/c[+\-].*/) ? i + parseInt(e.substring(1), 10) : e.match(/[+\-].*/) ? c + parseInt(e, 10) : parseInt(e, 10);
                return isNaN(t) ? c : t
                }, f = p(d[0]), m = Math.max(f, p(d[1] || "")), f = s ? Math.max(f, s.getFullYear()) : f, m = n ? Math.min(m, n.getFullYear()) : m, e.yearshtml += "<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>"; m >= f; f++) e.yearshtml += "<option value='" + f + "'" + (f === i ? " selected='selected'" : "") + ">" + f + "</option>"; e.yearshtml += "</select>", b += e.yearshtml, e.yearshtml = null
            } return b += this._get(e, "yearSuffix"), y && (b += (!a && g && v ? "" : "&#xa0;") + _), b += "</div>"
        }, _adjustInstDate: function (e, t, i) { var s = e.drawYear + ("Y" === i ? t : 0), n = e.drawMonth + ("M" === i ? t : 0), a = Math.min(e.selectedDay, this._getDaysInMonth(s, n)) + ("D" === i ? t : 0), o = this._restrictMinMax(e, this._daylightSavingAdjust(new Date(s, n, a))); e.selectedDay = o.getDate(), e.drawMonth = e.selectedMonth = o.getMonth(), e.drawYear = e.selectedYear = o.getFullYear(), ("M" === i || "Y" === i) && this._notifyChange(e) }, _restrictMinMax: function (e, t) { var i = this._getMinMaxDate(e, "min"), s = this._getMinMaxDate(e, "max"), n = i && i > t ? i : t; return s && n > s ? s : n }, _notifyChange: function (e) { var t = this._get(e, "onChangeMonthYear"); t && t.apply(e.input ? e.input[0] : null, [e.selectedYear, e.selectedMonth + 1, e]) }, _getNumberOfMonths: function (e) { var t = this._get(e, "numberOfMonths"); return null == t ? [1, 1] : "number" == typeof t ? [1, t] : t }, _getMinMaxDate: function (e, t) { return this._determineDate(e, this._get(e, t + "Date"), null) }, _getDaysInMonth: function (e, t) { return 32 - this._daylightSavingAdjust(new Date(e, t, 32)).getDate() }, _getFirstDayOfMonth: function (e, t) { return new Date(e, t, 1).getDay() }, _canAdjustMonth: function (e, t, i, s) { var n = this._getNumberOfMonths(e), a = this._daylightSavingAdjust(new Date(i, s + (0 > t ? t : n[0] * n[1]), 1)); return 0 > t && a.setDate(this._getDaysInMonth(a.getFullYear(), a.getMonth())), this._isInRange(e, a) }, _isInRange: function (e, t) { var i, s, n = this._getMinMaxDate(e, "min"), a = this._getMinMaxDate(e, "max"), o = null, r = null, h = this._get(e, "yearRange"); return h && (i = h.split(":"), s = (new Date).getFullYear(), o = parseInt(i[0], 10), r = parseInt(i[1], 10), i[0].match(/[+\-].*/) && (o += s), i[1].match(/[+\-].*/) && (r += s)), (!n || t.getTime() >= n.getTime()) && (!a || t.getTime() <= a.getTime()) && (!o || t.getFullYear() >= o) && (!r || r >= t.getFullYear()) }, _getFormatConfig: function (e) { var t = this._get(e, "shortYearCutoff"); return t = "string" != typeof t ? t : (new Date).getFullYear() % 100 + parseInt(t, 10), { shortYearCutoff: t, dayNamesShort: this._get(e, "dayNamesShort"), dayNames: this._get(e, "dayNames"), monthNamesShort: this._get(e, "monthNamesShort"), monthNames: this._get(e, "monthNames") } }, _formatDate: function (e, t, i, s) { t || (e.currentDay = e.selectedDay, e.currentMonth = e.selectedMonth, e.currentYear = e.selectedYear); var n = t ? "object" == typeof t ? t : this._daylightSavingAdjust(new Date(s, i, t)) : this._daylightSavingAdjust(new Date(e.currentYear, e.currentMonth, e.currentDay)); return this.formatDate(this._get(e, "dateFormat"), n, this._getFormatConfig(e)) }
    }), e.fn.datepicker = function (t) { if (!this.length) return this; e.datepicker.initialized || (e(document).mousedown(e.datepicker._checkExternalClick), e.datepicker.initialized = !0), 0 === e("#" + e.datepicker._mainDivId).length && e("body").append(e.datepicker.dpDiv); var i = Array.prototype.slice.call(arguments, 1); return "string" != typeof t || "isDisabled" !== t && "getDate" !== t && "widget" !== t ? "option" === t && 2 === arguments.length && "string" == typeof arguments[1] ? e.datepicker["_" + t + "Datepicker"].apply(e.datepicker, [this[0]].concat(i)) : this.each(function () { "string" == typeof t ? e.datepicker["_" + t + "Datepicker"].apply(e.datepicker, [this].concat(i)) : e.datepicker._attachDatepicker(this, t) }) : e.datepicker["_" + t + "Datepicker"].apply(e.datepicker, [this[0]].concat(i)) }, e.datepicker = new i, e.datepicker.initialized = !1, e.datepicker.uuid = (new Date).getTime(), e.datepicker.version = "1.10.4"
})(jQuery); (function (e) { e.widget("ui.menu", { version: "1.10.4", defaultElement: "<ul>", delay: 300, options: { icons: { submenu: "ui-icon-carat-1-e" }, menus: "ul", position: { my: "left top", at: "right top" }, role: "menu", blur: null, focus: null, select: null }, _create: function () { this.activeMenu = this.element, this.mouseHandled = !1, this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons", !!this.element.find(".ui-icon").length).attr({ role: this.options.role, tabIndex: 0 }).bind("click" + this.eventNamespace, e.proxy(function (e) { this.options.disabled && e.preventDefault() }, this)), this.options.disabled && this.element.addClass("ui-state-disabled").attr("aria-disabled", "true"), this._on({ "mousedown .ui-menu-item > a": function (e) { e.preventDefault() }, "click .ui-state-disabled > a": function (e) { e.preventDefault() }, "click .ui-menu-item:has(a)": function (t) { var i = e(t.target).closest(".ui-menu-item"); !this.mouseHandled && i.not(".ui-state-disabled").length && (this.select(t), t.isPropagationStopped() || (this.mouseHandled = !0), i.has(".ui-menu").length ? this.expand(t) : !this.element.is(":focus") && e(this.document[0].activeElement).closest(".ui-menu").length && (this.element.trigger("focus", [!0]), this.active && 1 === this.active.parents(".ui-menu").length && clearTimeout(this.timer))) }, "mouseenter .ui-menu-item": function (t) { var i = e(t.currentTarget); i.siblings().children(".ui-state-active").removeClass("ui-state-active"), this.focus(t, i) }, mouseleave: "collapseAll", "mouseleave .ui-menu": "collapseAll", focus: function (e, t) { var i = this.active || this.element.children(".ui-menu-item").eq(0); t || this.focus(e, i) }, blur: function (t) { this._delay(function () { e.contains(this.element[0], this.document[0].activeElement) || this.collapseAll(t) }) }, keydown: "_keydown" }), this.refresh(), this._on(this.document, { click: function (t) { e(t.target).closest(".ui-menu").length || this.collapseAll(t), this.mouseHandled = !1 } }) }, _destroy: function () { this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(), this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function () { var t = e(this); t.data("ui-menu-submenu-carat") && t.remove() }), this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content") }, _keydown: function (t) { function i(e) { return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&") } var s, n, a, o, r, h = !0; switch (t.keyCode) { case e.ui.keyCode.PAGE_UP: this.previousPage(t); break; case e.ui.keyCode.PAGE_DOWN: this.nextPage(t); break; case e.ui.keyCode.HOME: this._move("first", "first", t); break; case e.ui.keyCode.END: this._move("last", "last", t); break; case e.ui.keyCode.UP: this.previous(t); break; case e.ui.keyCode.DOWN: this.next(t); break; case e.ui.keyCode.LEFT: this.collapse(t); break; case e.ui.keyCode.RIGHT: this.active && !this.active.is(".ui-state-disabled") && this.expand(t); break; case e.ui.keyCode.ENTER: case e.ui.keyCode.SPACE: this._activate(t); break; case e.ui.keyCode.ESCAPE: this.collapse(t); break; default: h = !1, n = this.previousFilter || "", a = String.fromCharCode(t.keyCode), o = !1, clearTimeout(this.filterTimer), a === n ? o = !0 : a = n + a, r = RegExp("^" + i(a), "i"), s = this.activeMenu.children(".ui-menu-item").filter(function () { return r.test(e(this).children("a").text()) }), s = o && -1 !== s.index(this.active.next()) ? this.active.nextAll(".ui-menu-item") : s, s.length || (a = String.fromCharCode(t.keyCode), r = RegExp("^" + i(a), "i"), s = this.activeMenu.children(".ui-menu-item").filter(function () { return r.test(e(this).children("a").text()) })), s.length ? (this.focus(t, s), s.length > 1 ? (this.previousFilter = a, this.filterTimer = this._delay(function () { delete this.previousFilter }, 1e3)) : delete this.previousFilter) : delete this.previousFilter } h && t.preventDefault() }, _activate: function (e) { this.active.is(".ui-state-disabled") || (this.active.children("a[aria-haspopup='true']").length ? this.expand(e) : this.select(e)) }, refresh: function () { var t, i = this.options.icons.submenu, s = this.element.find(this.options.menus); this.element.toggleClass("ui-menu-icons", !!this.element.find(".ui-icon").length), s.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({ role: this.options.role, "aria-hidden": "true", "aria-expanded": "false" }).each(function () { var t = e(this), s = t.prev("a"), n = e("<span>").addClass("ui-menu-icon ui-icon " + i).data("ui-menu-submenu-carat", !0); s.attr("aria-haspopup", "true").prepend(n), t.attr("aria-labelledby", s.attr("id")) }), t = s.add(this.element), t.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role", "presentation").children("a").uniqueId().addClass("ui-corner-all").attr({ tabIndex: -1, role: this._itemRole() }), t.children(":not(.ui-menu-item)").each(function () { var t = e(this); /[^\-\u2014\u2013\s]/.test(t.text()) || t.addClass("ui-widget-content ui-menu-divider") }), t.children(".ui-state-disabled").attr("aria-disabled", "true"), this.active && !e.contains(this.element[0], this.active[0]) && this.blur() }, _itemRole: function () { return { menu: "menuitem", listbox: "option" }[this.options.role] }, _setOption: function (e, t) { "icons" === e && this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu), this._super(e, t) }, focus: function (e, t) { var i, s; this.blur(e, e && "focus" === e.type), this._scrollIntoView(t), this.active = t.first(), s = this.active.children("a").addClass("ui-state-focus"), this.options.role && this.element.attr("aria-activedescendant", s.attr("id")), this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"), e && "keydown" === e.type ? this._close() : this.timer = this._delay(function () { this._close() }, this.delay), i = t.children(".ui-menu"), i.length && e && /^mouse/.test(e.type) && this._startOpening(i), this.activeMenu = t.parent(), this._trigger("focus", e, { item: t }) }, _scrollIntoView: function (t) { var i, s, n, a, o, r; this._hasScroll() && (i = parseFloat(e.css(this.activeMenu[0], "borderTopWidth")) || 0, s = parseFloat(e.css(this.activeMenu[0], "paddingTop")) || 0, n = t.offset().top - this.activeMenu.offset().top - i - s, a = this.activeMenu.scrollTop(), o = this.activeMenu.height(), r = t.height(), 0 > n ? this.activeMenu.scrollTop(a + n) : n + r > o && this.activeMenu.scrollTop(a + n - o + r)) }, blur: function (e, t) { t || clearTimeout(this.timer), this.active && (this.active.children("a").removeClass("ui-state-focus"), this.active = null, this._trigger("blur", e, { item: this.active })) }, _startOpening: function (e) { clearTimeout(this.timer), "true" === e.attr("aria-hidden") && (this.timer = this._delay(function () { this._close(), this._open(e) }, this.delay)) }, _open: function (t) { var i = e.extend({ of: this.active }, this.options.position); clearTimeout(this.timer), this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden", "true"), t.show().removeAttr("aria-hidden").attr("aria-expanded", "true").position(i) }, collapseAll: function (t, i) { clearTimeout(this.timer), this.timer = this._delay(function () { var s = i ? this.element : e(t && t.target).closest(this.element.find(".ui-menu")); s.length || (s = this.element), this._close(s), this.blur(t), this.activeMenu = s }, this.delay) }, _close: function (e) { e || (e = this.active ? this.active.parent() : this.element), e.find(".ui-menu").hide().attr("aria-hidden", "true").attr("aria-expanded", "false").end().find("a.ui-state-active").removeClass("ui-state-active") }, collapse: function (e) { var t = this.active && this.active.parent().closest(".ui-menu-item", this.element); t && t.length && (this._close(), this.focus(e, t)) }, expand: function (e) { var t = this.active && this.active.children(".ui-menu ").children(".ui-menu-item").first(); t && t.length && (this._open(t.parent()), this._delay(function () { this.focus(e, t) })) }, next: function (e) { this._move("next", "first", e) }, previous: function (e) { this._move("prev", "last", e) }, isFirstItem: function () { return this.active && !this.active.prevAll(".ui-menu-item").length }, isLastItem: function () { return this.active && !this.active.nextAll(".ui-menu-item").length }, _move: function (e, t, i) { var s; this.active && (s = "first" === e || "last" === e ? this.active["first" === e ? "prevAll" : "nextAll"](".ui-menu-item").eq(-1) : this.active[e + "All"](".ui-menu-item").eq(0)), s && s.length && this.active || (s = this.activeMenu.children(".ui-menu-item")[t]()), this.focus(i, s) }, nextPage: function (t) { var i, s, n; return this.active ? (this.isLastItem() || (this._hasScroll() ? (s = this.active.offset().top, n = this.element.height(), this.active.nextAll(".ui-menu-item").each(function () { return i = e(this), 0 > i.offset().top - s - n }), this.focus(t, i)) : this.focus(t, this.activeMenu.children(".ui-menu-item")[this.active ? "last" : "first"]())), undefined) : (this.next(t), undefined) }, previousPage: function (t) { var i, s, n; return this.active ? (this.isFirstItem() || (this._hasScroll() ? (s = this.active.offset().top, n = this.element.height(), this.active.prevAll(".ui-menu-item").each(function () { return i = e(this), i.offset().top - s + n > 0 }), this.focus(t, i)) : this.focus(t, this.activeMenu.children(".ui-menu-item").first())), undefined) : (this.next(t), undefined) }, _hasScroll: function () { return this.element.outerHeight() < this.element.prop("scrollHeight") }, select: function (t) { this.active = this.active || e(t.target).closest(".ui-menu-item"); var i = { item: this.active }; this.active.has(".ui-menu").length || this.collapseAll(t, !0), this._trigger("select", t, i) } }) })(jQuery); (function (e) { var t = 5; e.widget("ui.slider", e.ui.mouse, { version: "1.10.4", widgetEventPrefix: "slide", options: { animate: !1, distance: 0, max: 100, min: 0, orientation: "horizontal", range: !1, step: 1, value: 0, values: null, change: null, slide: null, start: null, stop: null }, _create: function () { this._keySliding = !1, this._mouseSliding = !1, this._animateOff = !0, this._handleIndex = null, this._detectOrientation(), this._mouseInit(), this.element.addClass("ui-slider ui-slider-" + this.orientation + " ui-widget" + " ui-widget-content" + " ui-corner-all"), this._refresh(), this._setOption("disabled", this.options.disabled), this._animateOff = !1 }, _refresh: function () { this._createRange(), this._createHandles(), this._setupEvents(), this._refreshValue() }, _createHandles: function () { var t, i, s = this.options, n = this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"), a = "<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>", o = []; for (i = s.values && s.values.length || 1, n.length > i && (n.slice(i).remove(), n = n.slice(0, i)), t = n.length; i > t; t++) o.push(a); this.handles = n.add(e(o.join("")).appendTo(this.element)), this.handle = this.handles.eq(0), this.handles.each(function (t) { e(this).data("ui-slider-handle-index", t) }) }, _createRange: function () { var t = this.options, i = ""; t.range ? (t.range === !0 && (t.values ? t.values.length && 2 !== t.values.length ? t.values = [t.values[0], t.values[0]] : e.isArray(t.values) && (t.values = t.values.slice(0)) : t.values = [this._valueMin(), this._valueMin()]), this.range && this.range.length ? this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({ left: "", bottom: "" }) : (this.range = e("<div></div>").appendTo(this.element), i = "ui-slider-range ui-widget-header ui-corner-all"), this.range.addClass(i + ("min" === t.range || "max" === t.range ? " ui-slider-range-" + t.range : ""))) : (this.range && this.range.remove(), this.range = null) }, _setupEvents: function () { var e = this.handles.add(this.range).filter("a"); this._off(e), this._on(e, this._handleEvents), this._hoverable(e), this._focusable(e) }, _destroy: function () { this.handles.remove(), this.range && this.range.remove(), this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"), this._mouseDestroy() }, _mouseCapture: function (t) { var i, s, n, a, o, r, h, l, u = this, c = this.options; return c.disabled ? !1 : (this.elementSize = { width: this.element.outerWidth(), height: this.element.outerHeight() }, this.elementOffset = this.element.offset(), i = { x: t.pageX, y: t.pageY }, s = this._normValueFromMouse(i), n = this._valueMax() - this._valueMin() + 1, this.handles.each(function (t) { var i = Math.abs(s - u.values(t)); (n > i || n === i && (t === u._lastChangedValue || u.values(t) === c.min)) && (n = i, a = e(this), o = t) }), r = this._start(t, o), r === !1 ? !1 : (this._mouseSliding = !0, this._handleIndex = o, a.addClass("ui-state-active").focus(), h = a.offset(), l = !e(t.target).parents().addBack().is(".ui-slider-handle"), this._clickOffset = l ? { left: 0, top: 0 } : { left: t.pageX - h.left - a.width() / 2, top: t.pageY - h.top - a.height() / 2 - (parseInt(a.css("borderTopWidth"), 10) || 0) - (parseInt(a.css("borderBottomWidth"), 10) || 0) + (parseInt(a.css("marginTop"), 10) || 0) }, this.handles.hasClass("ui-state-hover") || this._slide(t, o, s), this._animateOff = !0, !0)) }, _mouseStart: function () { return !0 }, _mouseDrag: function (e) { var t = { x: e.pageX, y: e.pageY }, i = this._normValueFromMouse(t); return this._slide(e, this._handleIndex, i), !1 }, _mouseStop: function (e) { return this.handles.removeClass("ui-state-active"), this._mouseSliding = !1, this._stop(e, this._handleIndex), this._change(e, this._handleIndex), this._handleIndex = null, this._clickOffset = null, this._animateOff = !1, !1 }, _detectOrientation: function () { this.orientation = "vertical" === this.options.orientation ? "vertical" : "horizontal" }, _normValueFromMouse: function (e) { var t, i, s, n, a; return "horizontal" === this.orientation ? (t = this.elementSize.width, i = e.x - this.elementOffset.left - (this._clickOffset ? this._clickOffset.left : 0)) : (t = this.elementSize.height, i = e.y - this.elementOffset.top - (this._clickOffset ? this._clickOffset.top : 0)), s = i / t, s > 1 && (s = 1), 0 > s && (s = 0), "vertical" === this.orientation && (s = 1 - s), n = this._valueMax() - this._valueMin(), a = this._valueMin() + s * n, this._trimAlignValue(a) }, _start: function (e, t) { var i = { handle: this.handles[t], value: this.value() }; return this.options.values && this.options.values.length && (i.value = this.values(t), i.values = this.values()), this._trigger("start", e, i) }, _slide: function (e, t, i) { var s, n, a; this.options.values && this.options.values.length ? (s = this.values(t ? 0 : 1), 2 === this.options.values.length && this.options.range === !0 && (0 === t && i > s || 1 === t && s > i) && (i = s), i !== this.values(t) && (n = this.values(), n[t] = i, a = this._trigger("slide", e, { handle: this.handles[t], value: i, values: n }), s = this.values(t ? 0 : 1), a !== !1 && this.values(t, i))) : i !== this.value() && (a = this._trigger("slide", e, { handle: this.handles[t], value: i }), a !== !1 && this.value(i)) }, _stop: function (e, t) { var i = { handle: this.handles[t], value: this.value() }; this.options.values && this.options.values.length && (i.value = this.values(t), i.values = this.values()), this._trigger("stop", e, i) }, _change: function (e, t) { if (!this._keySliding && !this._mouseSliding) { var i = { handle: this.handles[t], value: this.value() }; this.options.values && this.options.values.length && (i.value = this.values(t), i.values = this.values()), this._lastChangedValue = t, this._trigger("change", e, i) } }, value: function (e) { return arguments.length ? (this.options.value = this._trimAlignValue(e), this._refreshValue(), this._change(null, 0), undefined) : this._value() }, values: function (t, i) { var s, n, a; if (arguments.length > 1) return this.options.values[t] = this._trimAlignValue(i), this._refreshValue(), this._change(null, t), undefined; if (!arguments.length) return this._values(); if (!e.isArray(arguments[0])) return this.options.values && this.options.values.length ? this._values(t) : this.value(); for (s = this.options.values, n = arguments[0], a = 0; s.length > a; a += 1) s[a] = this._trimAlignValue(n[a]), this._change(null, a); this._refreshValue() }, _setOption: function (t, i) { var s, n = 0; switch ("range" === t && this.options.range === !0 && ("min" === i ? (this.options.value = this._values(0), this.options.values = null) : "max" === i && (this.options.value = this._values(this.options.values.length - 1), this.options.values = null)), e.isArray(this.options.values) && (n = this.options.values.length), e.Widget.prototype._setOption.apply(this, arguments), t) { case "orientation": this._detectOrientation(), this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-" + this.orientation), this._refreshValue(); break; case "value": this._animateOff = !0, this._refreshValue(), this._change(null, 0), this._animateOff = !1; break; case "values": for (this._animateOff = !0, this._refreshValue(), s = 0; n > s; s += 1) this._change(null, s); this._animateOff = !1; break; case "min": case "max": this._animateOff = !0, this._refreshValue(), this._animateOff = !1; break; case "range": this._animateOff = !0, this._refresh(), this._animateOff = !1 } }, _value: function () { var e = this.options.value; return e = this._trimAlignValue(e) }, _values: function (e) { var t, i, s; if (arguments.length) return t = this.options.values[e], t = this._trimAlignValue(t); if (this.options.values && this.options.values.length) { for (i = this.options.values.slice(), s = 0; i.length > s; s += 1) i[s] = this._trimAlignValue(i[s]); return i } return [] }, _trimAlignValue: function (e) { if (this._valueMin() >= e) return this._valueMin(); if (e >= this._valueMax()) return this._valueMax(); var t = this.options.step > 0 ? this.options.step : 1, i = (e - this._valueMin()) % t, s = e - i; return 2 * Math.abs(i) >= t && (s += i > 0 ? t : -t), parseFloat(s.toFixed(5)) }, _valueMin: function () { return this.options.min }, _valueMax: function () { return this.options.max }, _refreshValue: function () { var t, i, s, n, a, o = this.options.range, r = this.options, h = this, l = this._animateOff ? !1 : r.animate, u = {}; this.options.values && this.options.values.length ? this.handles.each(function (s) { i = 100 * ((h.values(s) - h._valueMin()) / (h._valueMax() - h._valueMin())), u["horizontal" === h.orientation ? "left" : "bottom"] = i + "%", e(this).stop(1, 1)[l ? "animate" : "css"](u, r.animate), h.options.range === !0 && ("horizontal" === h.orientation ? (0 === s && h.range.stop(1, 1)[l ? "animate" : "css"]({ left: i + "%" }, r.animate), 1 === s && h.range[l ? "animate" : "css"]({ width: i - t + "%" }, { queue: !1, duration: r.animate })) : (0 === s && h.range.stop(1, 1)[l ? "animate" : "css"]({ bottom: i + "%" }, r.animate), 1 === s && h.range[l ? "animate" : "css"]({ height: i - t + "%" }, { queue: !1, duration: r.animate }))), t = i }) : (s = this.value(), n = this._valueMin(), a = this._valueMax(), i = a !== n ? 100 * ((s - n) / (a - n)) : 0, u["horizontal" === this.orientation ? "left" : "bottom"] = i + "%", this.handle.stop(1, 1)[l ? "animate" : "css"](u, r.animate), "min" === o && "horizontal" === this.orientation && this.range.stop(1, 1)[l ? "animate" : "css"]({ width: i + "%" }, r.animate), "max" === o && "horizontal" === this.orientation && this.range[l ? "animate" : "css"]({ width: 100 - i + "%" }, { queue: !1, duration: r.animate }), "min" === o && "vertical" === this.orientation && this.range.stop(1, 1)[l ? "animate" : "css"]({ height: i + "%" }, r.animate), "max" === o && "vertical" === this.orientation && this.range[l ? "animate" : "css"]({ height: 100 - i + "%" }, { queue: !1, duration: r.animate })) }, _handleEvents: { keydown: function (i) { var s, n, a, o, r = e(i.target).data("ui-slider-handle-index"); switch (i.keyCode) { case e.ui.keyCode.HOME: case e.ui.keyCode.END: case e.ui.keyCode.PAGE_UP: case e.ui.keyCode.PAGE_DOWN: case e.ui.keyCode.UP: case e.ui.keyCode.RIGHT: case e.ui.keyCode.DOWN: case e.ui.keyCode.LEFT: if (i.preventDefault(), !this._keySliding && (this._keySliding = !0, e(i.target).addClass("ui-state-active"), s = this._start(i, r), s === !1)) return } switch (o = this.options.step, n = a = this.options.values && this.options.values.length ? this.values(r) : this.value(), i.keyCode) { case e.ui.keyCode.HOME: a = this._valueMin(); break; case e.ui.keyCode.END: a = this._valueMax(); break; case e.ui.keyCode.PAGE_UP: a = this._trimAlignValue(n + (this._valueMax() - this._valueMin()) / t); break; case e.ui.keyCode.PAGE_DOWN: a = this._trimAlignValue(n - (this._valueMax() - this._valueMin()) / t); break; case e.ui.keyCode.UP: case e.ui.keyCode.RIGHT: if (n === this._valueMax()) return; a = this._trimAlignValue(n + o); break; case e.ui.keyCode.DOWN: case e.ui.keyCode.LEFT: if (n === this._valueMin()) return; a = this._trimAlignValue(n - o) } this._slide(i, r, a) }, click: function (e) { e.preventDefault() }, keyup: function (t) { var i = e(t.target).data("ui-slider-handle-index"); this._keySliding && (this._keySliding = !1, this._stop(t, i), this._change(t, i), e(t.target).removeClass("ui-state-active")) } } }) })(jQuery); (function (e, t) { function i() { return ++n } function s(e) { return e = e.cloneNode(!1), e.hash.length > 1 && decodeURIComponent(e.href.replace(a, "")) === decodeURIComponent(location.href.replace(a, "")) } var n = 0, a = /#.*$/; e.widget("ui.tabs", { version: "1.10.4", delay: 300, options: { active: null, collapsible: !1, event: "click", heightStyle: "content", hide: null, show: null, activate: null, beforeActivate: null, beforeLoad: null, load: null }, _create: function () { var t = this, i = this.options; this.running = !1, this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible", i.collapsible).delegate(".ui-tabs-nav > li", "mousedown" + this.eventNamespace, function (t) { e(this).is(".ui-state-disabled") && t.preventDefault() }).delegate(".ui-tabs-anchor", "focus" + this.eventNamespace, function () { e(this).closest("li").is(".ui-state-disabled") && this.blur() }), this._processTabs(), i.active = this._initialActive(), e.isArray(i.disabled) && (i.disabled = e.unique(i.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"), function (e) { return t.tabs.index(e) }))).sort()), this.active = this.options.active !== !1 && this.anchors.length ? this._findActive(i.active) : e(), this._refresh(), this.active.length && this.load(i.active) }, _initialActive: function () { var i = this.options.active, s = this.options.collapsible, n = location.hash.substring(1); return null === i && (n && this.tabs.each(function (s, a) { return e(a).attr("aria-controls") === n ? (i = s, !1) : t }), null === i && (i = this.tabs.index(this.tabs.filter(".ui-tabs-active"))), (null === i || -1 === i) && (i = this.tabs.length ? 0 : !1)), i !== !1 && (i = this.tabs.index(this.tabs.eq(i)), -1 === i && (i = s ? !1 : 0)), !s && i === !1 && this.anchors.length && (i = 0), i }, _getCreateEventData: function () { return { tab: this.active, panel: this.active.length ? this._getPanelForTab(this.active) : e() } }, _tabKeydown: function (i) { var s = e(this.document[0].activeElement).closest("li"), n = this.tabs.index(s), a = !0; if (!this._handlePageNav(i)) { switch (i.keyCode) { case e.ui.keyCode.RIGHT: case e.ui.keyCode.DOWN: n++; break; case e.ui.keyCode.UP: case e.ui.keyCode.LEFT: a = !1, n--; break; case e.ui.keyCode.END: n = this.anchors.length - 1; break; case e.ui.keyCode.HOME: n = 0; break; case e.ui.keyCode.SPACE: return i.preventDefault(), clearTimeout(this.activating), this._activate(n), t; case e.ui.keyCode.ENTER: return i.preventDefault(), clearTimeout(this.activating), this._activate(n === this.options.active ? !1 : n), t; default: return } i.preventDefault(), clearTimeout(this.activating), n = this._focusNextTab(n, a), i.ctrlKey || (s.attr("aria-selected", "false"), this.tabs.eq(n).attr("aria-selected", "true"), this.activating = this._delay(function () { this.option("active", n) }, this.delay)) } }, _panelKeydown: function (t) { this._handlePageNav(t) || t.ctrlKey && t.keyCode === e.ui.keyCode.UP && (t.preventDefault(), this.active.focus()) }, _handlePageNav: function (i) { return i.altKey && i.keyCode === e.ui.keyCode.PAGE_UP ? (this._activate(this._focusNextTab(this.options.active - 1, !1)), !0) : i.altKey && i.keyCode === e.ui.keyCode.PAGE_DOWN ? (this._activate(this._focusNextTab(this.options.active + 1, !0)), !0) : t }, _findNextTab: function (t, i) { function s() { return t > n && (t = 0), 0 > t && (t = n), t } for (var n = this.tabs.length - 1; -1 !== e.inArray(s(), this.options.disabled) ;) t = i ? t + 1 : t - 1; return t }, _focusNextTab: function (e, t) { return e = this._findNextTab(e, t), this.tabs.eq(e).focus(), e }, _setOption: function (e, i) { return "active" === e ? (this._activate(i), t) : "disabled" === e ? (this._setupDisabled(i), t) : (this._super(e, i), "collapsible" === e && (this.element.toggleClass("ui-tabs-collapsible", i), i || this.options.active !== !1 || this._activate(0)), "event" === e && this._setupEvents(i), "heightStyle" === e && this._setupHeightStyle(i), t) }, _tabId: function (e) { return e.attr("aria-controls") || "ui-tabs-" + i() }, _sanitizeSelector: function (e) { return e ? e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g, "\\$&") : "" }, refresh: function () { var t = this.options, i = this.tablist.children(":has(a[href])"); t.disabled = e.map(i.filter(".ui-state-disabled"), function (e) { return i.index(e) }), this._processTabs(), t.active !== !1 && this.anchors.length ? this.active.length && !e.contains(this.tablist[0], this.active[0]) ? this.tabs.length === t.disabled.length ? (t.active = !1, this.active = e()) : this._activate(this._findNextTab(Math.max(0, t.active - 1), !1)) : t.active = this.tabs.index(this.active) : (t.active = !1, this.active = e()), this._refresh() }, _refresh: function () { this._setupDisabled(this.options.disabled), this._setupEvents(this.options.event), this._setupHeightStyle(this.options.heightStyle), this.tabs.not(this.active).attr({ "aria-selected": "false", tabIndex: -1 }), this.panels.not(this._getPanelForTab(this.active)).hide().attr({ "aria-expanded": "false", "aria-hidden": "true" }), this.active.length ? (this.active.addClass("ui-tabs-active ui-state-active").attr({ "aria-selected": "true", tabIndex: 0 }), this._getPanelForTab(this.active).show().attr({ "aria-expanded": "true", "aria-hidden": "false" })) : this.tabs.eq(0).attr("tabIndex", 0) }, _processTabs: function () { var t = this; this.tablist = this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role", "tablist"), this.tabs = this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({ role: "tab", tabIndex: -1 }), this.anchors = this.tabs.map(function () { return e("a", this)[0] }).addClass("ui-tabs-anchor").attr({ role: "presentation", tabIndex: -1 }), this.panels = e(), this.anchors.each(function (i, n) { var a, o, r, h = e(n).uniqueId().attr("id"), l = e(n).closest("li"), u = l.attr("aria-controls"); s(n) ? (a = n.hash, o = t.element.find(t._sanitizeSelector(a))) : (r = t._tabId(l), a = "#" + r, o = t.element.find(a), o.length || (o = t._createPanel(r), o.insertAfter(t.panels[i - 1] || t.tablist)), o.attr("aria-live", "polite")), o.length && (t.panels = t.panels.add(o)), u && l.data("ui-tabs-aria-controls", u), l.attr({ "aria-controls": a.substring(1), "aria-labelledby": h }), o.attr("aria-labelledby", h) }), this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role", "tabpanel") }, _getList: function () { return this.tablist || this.element.find("ol,ul").eq(0) }, _createPanel: function (t) { return e("<div>").attr("id", t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy", !0) }, _setupDisabled: function (t) { e.isArray(t) && (t.length ? t.length === this.anchors.length && (t = !0) : t = !1); for (var i, s = 0; i = this.tabs[s]; s++) t === !0 || -1 !== e.inArray(s, t) ? e(i).addClass("ui-state-disabled").attr("aria-disabled", "true") : e(i).removeClass("ui-state-disabled").removeAttr("aria-disabled"); this.options.disabled = t }, _setupEvents: function (t) { var i = { click: function (e) { e.preventDefault() } }; t && e.each(t.split(" "), function (e, t) { i[t] = "_eventHandler" }), this._off(this.anchors.add(this.tabs).add(this.panels)), this._on(this.anchors, i), this._on(this.tabs, { keydown: "_tabKeydown" }), this._on(this.panels, { keydown: "_panelKeydown" }), this._focusable(this.tabs), this._hoverable(this.tabs) }, _setupHeightStyle: function (t) { var i, s = this.element.parent(); "fill" === t ? (i = s.height(), i -= this.element.outerHeight() - this.element.height(), this.element.siblings(":visible").each(function () { var t = e(this), s = t.css("position"); "absolute" !== s && "fixed" !== s && (i -= t.outerHeight(!0)) }), this.element.children().not(this.panels).each(function () { i -= e(this).outerHeight(!0) }), this.panels.each(function () { e(this).height(Math.max(0, i - e(this).innerHeight() + e(this).height())) }).css("overflow", "auto")) : "auto" === t && (i = 0, this.panels.each(function () { i = Math.max(i, e(this).height("").height()) }).height(i)) }, _eventHandler: function (t) { var i = this.options, s = this.active, n = e(t.currentTarget), a = n.closest("li"), o = a[0] === s[0], r = o && i.collapsible, h = r ? e() : this._getPanelForTab(a), l = s.length ? this._getPanelForTab(s) : e(), u = { oldTab: s, oldPanel: l, newTab: r ? e() : a, newPanel: h }; t.preventDefault(), a.hasClass("ui-state-disabled") || a.hasClass("ui-tabs-loading") || this.running || o && !i.collapsible || this._trigger("beforeActivate", t, u) === !1 || (i.active = r ? !1 : this.tabs.index(a), this.active = o ? e() : a, this.xhr && this.xhr.abort(), l.length || h.length || e.error("jQuery UI Tabs: Mismatching fragment identifier."), h.length && this.load(this.tabs.index(a), t), this._toggle(t, u)) }, _toggle: function (t, i) { function s() { a.running = !1, a._trigger("activate", t, i) } function n() { i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"), o.length && a.options.show ? a._show(o, a.options.show, s) : (o.show(), s()) } var a = this, o = i.newPanel, r = i.oldPanel; this.running = !0, r.length && this.options.hide ? this._hide(r, this.options.hide, function () { i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"), n() }) : (i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"), r.hide(), n()), r.attr({ "aria-expanded": "false", "aria-hidden": "true" }), i.oldTab.attr("aria-selected", "false"), o.length && r.length ? i.oldTab.attr("tabIndex", -1) : o.length && this.tabs.filter(function () { return 0 === e(this).attr("tabIndex") }).attr("tabIndex", -1), o.attr({ "aria-expanded": "true", "aria-hidden": "false" }), i.newTab.attr({ "aria-selected": "true", tabIndex: 0 }) }, _activate: function (t) { var i, s = this._findActive(t); s[0] !== this.active[0] && (s.length || (s = this.active), i = s.find(".ui-tabs-anchor")[0], this._eventHandler({ target: i, currentTarget: i, preventDefault: e.noop })) }, _findActive: function (t) { return t === !1 ? e() : this.tabs.eq(t) }, _getIndex: function (e) { return "string" == typeof e && (e = this.anchors.index(this.anchors.filter("[href$='" + e + "']"))), e }, _destroy: function () { this.xhr && this.xhr.abort(), this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"), this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"), this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(), this.tabs.add(this.panels).each(function () { e.data(this, "ui-tabs-destroy") ? e(this).remove() : e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role") }), this.tabs.each(function () { var t = e(this), i = t.data("ui-tabs-aria-controls"); i ? t.attr("aria-controls", i).removeData("ui-tabs-aria-controls") : t.removeAttr("aria-controls") }), this.panels.show(), "content" !== this.options.heightStyle && this.panels.css("height", "") }, enable: function (i) { var s = this.options.disabled; s !== !1 && (i === t ? s = !1 : (i = this._getIndex(i), s = e.isArray(s) ? e.map(s, function (e) { return e !== i ? e : null }) : e.map(this.tabs, function (e, t) { return t !== i ? t : null })), this._setupDisabled(s)) }, disable: function (i) { var s = this.options.disabled; if (s !== !0) { if (i === t) s = !0; else { if (i = this._getIndex(i), -1 !== e.inArray(i, s)) return; s = e.isArray(s) ? e.merge([i], s).sort() : [i] } this._setupDisabled(s) } }, load: function (t, i) { t = this._getIndex(t); var n = this, a = this.tabs.eq(t), o = a.find(".ui-tabs-anchor"), r = this._getPanelForTab(a), h = { tab: a, panel: r }; s(o[0]) || (this.xhr = e.ajax(this._ajaxSettings(o, i, h)), this.xhr && "canceled" !== this.xhr.statusText && (a.addClass("ui-tabs-loading"), r.attr("aria-busy", "true"), this.xhr.success(function (e) { setTimeout(function () { r.html(e), n._trigger("load", i, h) }, 1) }).complete(function (e, t) { setTimeout(function () { "abort" === t && n.panels.stop(!1, !0), a.removeClass("ui-tabs-loading"), r.removeAttr("aria-busy"), e === n.xhr && delete n.xhr }, 1) }))) }, _ajaxSettings: function (t, i, s) { var n = this; return { url: t.attr("href"), beforeSend: function (t, a) { return n._trigger("beforeLoad", i, e.extend({ jqXHR: t, ajaxSettings: a }, s)) } } }, _getPanelForTab: function (t) { var i = e(t).attr("aria-controls"); return this.element.find(this._sanitizeSelector("#" + i)) } }) })(jQuery);


//added by Ganesh Lomte - 09-25-2014
// below script for HTML5 placeholder, which will work a cross all browsers including IE 7,8,9
(function (v) { v.e = { f: { addEventListener: function (b, f, d) { if (b.addEventListener) return b.addEventListener(f, d, !1); if (b.attachEvent) return b.attachEvent("on" + f, d) }, a: function (b, f) { var d, r; d = 0; for (r = b.length; d < r; d++) if (b[d] === f) return !0; return !1 }, b: function (b, f) { var d; b.createTextRange ? (d = b.createTextRange(), d.move("character", f), d.select()) : b.selectionStart && (b.focus(), b.setSelectionRange(f, f)) }, d: function (b, f) { try { return b.type = f, !0 } catch (d) { return !1 } } } } })(this);
(function (v) {
    function b() { } function f() { try { return document.activeElement } catch (a) { } } function d(a, c) { var b; b = !!c && a.value !== c; var d = a.value === a.getAttribute(k); if ((b || d) && "true" === a.getAttribute(p)) { a.removeAttribute(p); a.value = a.value.replace(a.getAttribute(k), ""); a.className = a.className.replace(K, ""); b = a.getAttribute(w); 0 <= parseInt(b, 10) && (a.setAttribute("maxLength", b), a.removeAttribute(w)); if (b = a.getAttribute(s)) a.type = b; return !0 } return !1 } function r(a) {
        var b; b = a.getAttribute(k); return "" === a.value &&
        b ? (a.setAttribute(p, "true"), a.value = b, a.className += " " + z, b = a.getAttribute(w), b || (a.setAttribute(w, a.maxLength), a.removeAttribute("maxLength")), (b = a.getAttribute(s)) ? a.type = "text" : "password" === a.type && e.d(a, "text") && a.setAttribute(s, "password"), !0) : !1
    } function B(a, b) { var c, d, e, f, h, g; if (a && a.getAttribute(k)) b(a); else for (e = a ? a.getElementsByTagName("input") : l, f = a ? a.getElementsByTagName("textarea") : t, c = e ? e.length : 0, d = f ? f.length : 0, g = 0, h = c + d; g < h; g++) d = g < c ? e[g] : f[g - c], b(d) } function C(a) { B(a, d) } function L(a) {
        B(a,
        r)
    } function M(a) { return function () { x && a.value === a.getAttribute(k) && "true" === a.getAttribute(p) ? e.b(a, 0) : d(a) } } function N(a) { return function () { r(a) } } function O(a) { return function (b) { A = a.value; if ("true" === a.getAttribute(p) && A === a.getAttribute(k) && e.a(P, b.keyCode)) return b.preventDefault && b.preventDefault(), !1 } } function Q(a) { return function () { d(a, A); "" === a.value && (a.blur(), e.b(a, 0)) } } function R(a) { return function () { a === f() && a.value === a.getAttribute(k) && "true" === a.getAttribute(p) && e.b(a, 0) } } function S(a) { return function () { C(a) } }
    function D(a) { a.form && (m = a.form, "string" === typeof m && (m = document.getElementById(m)), m.getAttribute(E) || (e.addEventListener(m, "submit", S(m)), m.setAttribute(E, "true"))); e.addEventListener(a, "focus", M(a)); e.addEventListener(a, "blur", N(a)); x && (e.addEventListener(a, "keydown", O(a)), e.addEventListener(a, "keyup", Q(a)), e.addEventListener(a, "click", R(a))); a.setAttribute(F, "true"); a.setAttribute(k, g); (x || a !== f()) && r(a) } var G = "text search url tel email password number textarea".split(" "), P = [27, 33, 34, 35, 36, 37,
    38, 39, 40, 8, 46], z = "placeholdersjs", K = new RegExp("(?:^|\\s)" + z + "(?!\\S)"), l, t, k = "data-placeholder-value", p = "data-placeholder-active", s = "data-placeholder-type", E = "data-placeholder-submit", F = "data-placeholder-bound", w = "data-placeholder-maxlength", q = document.createElement("input"), H = document.getElementsByTagName("head")[0], u = document.documentElement, n = v.e, e = n.f, x, I, A, g, J, m, c, y, h; n.c = void 0 !== q.placeholder; if (!n.c) {
        l = document.getElementsByTagName("input"); t = document.getElementsByTagName("textarea"); x = "false" ===
        u.getAttribute("data-placeholder-focus"); I = "false" !== u.getAttribute("data-placeholder-live"); q = document.createElement("style"); q.type = "text/css"; u = document.createTextNode("." + z + " { color:#ccc; }"); q.styleSheet ? q.styleSheet.cssText = u.nodeValue : q.appendChild(u); H.insertBefore(q, H.firstChild); h = 0; for (y = l.length + t.length; h < y; h++) c = h < l.length ? l[h] : t[h - l.length], (g = c.attributes.placeholder) && (g = g.nodeValue) && e.a(G, c.type) && D(c); J = setInterval(function () {
            h = 0; for (y = l.length + t.length; h < y; h++) (c = h < l.length ?
            l[h] : t[h - l.length], g = c.attributes.placeholder) ? (g = g.nodeValue) && e.a(G, c.type) && (c.getAttribute(F) || D(c), g !== c.getAttribute(k) || "password" === c.type && !c.getAttribute(s)) && ("password" === c.type && !c.getAttribute(s) && e.d(c, "text") && c.setAttribute(s, "password"), c.value === c.getAttribute(k) && (c.value = g), c.setAttribute(k, g)) : c.getAttribute(p) && (d(c), c.removeAttribute(k)); I || clearInterval(J)
        }, 100)
    } e.addEventListener(v, "beforeunload", function () { n.disable() }); n.disable = n.c ? b : C; n.enable = n.c ? b : L
})(this);

/* Prepand grey box layout at page load */
$(document).ready(function () {
    $("body").prepend("<div id='gb-overlay'></div><div id='processing' class='process'><img src='https://img.carwale.com/loader2.gif' border='0' style='padding:17px 0 0 20px;'/></div>");
});

var isDealer = false;

$(document).ready(function () {

    //Ask the Expert popup code starts here
    checkAsktheExperts();
    //Ask the Expert code ends here
    /* related to google search */
    //$('#queryText').cw_autocomplete({
    //    width: 195,
    //    source: 1,
    //    isNew: 1,
    //    textType: '1,2,4',
    //    onClear: function () {
    //        objSearch = new Object();
    //    },
    //    click: function (event, ui) {
    //        var arrData = ui.item.id.split('|');
    //        var make;
    //        var model;
    //        var url;
    //        if (arrData.length == 2) {
    //            make = FormatSpecial(arrData[0].split(':')[0]);
    //            model = arrData[1].split(':')[0];
    //            url = "/" + make + "-cars/" + model + "/";
    //        }
    //        else if (arrData.length == 1) {
    //            make = FormatSpecial(arrData[0].split(':')[0]);
    //            url = "/" + make + "-cars/";
    //        }
    //        //console.log(url);
    //        window.location = url;
    //    }
    //});
    $("#queryText").click(function () {
        if ($(this).val() == "Search") {
            $(this).val("");
        }
    }).blur(function () {
        if ($(this).val() == "") {
            $(this).val("Search");
        }
    }).keypress(function (e) {
        if (e.keyCode == 13) doSearch($(this).val());
    });

    $("#doSearch").click(function () {
        doSearch($("#queryText").val());
    });

    /* related to ajax login */
    var ajaxLogin = $("#ajaxLogin");
    var ajaxReg = $("#ajaxRegister");

    $("#login").click(function () {
        ajaxLogin.toggleClass("showAjaxLogin", true);
        var pos = $(this).position(); // get the position of the login link
        var posLeft = pos.left + 58 - $(ajaxLogin).width(); // adjust the left position
        var posTop = pos.top;
        ajaxLogin.css({ top: posTop, left: posLeft }).show(); // set the login div position as per the position of the login link	

        ajaxReg.hide();
    });

    $("#reg").click(function () {
        ajaxReg.toggleClass("showAjaxLogin", true);
        var pos = $(this).position(); // get the position of the login link
        var posLeft = pos.left; // adjust the left position
        var posTop = pos.top;
        ajaxReg.css({ top: posTop, left: posLeft }).show(); // set the login div position as per the position of the login link

        ajaxLogin.hide();
    });

    $("#doLogin").click(function () {
        requestLogin();
    });

    $("#txtLoginId").click(function () {
        if ($(this).val() == "Login Id" || $(this).val() == "Email")
            $(this).val("");
    }).blur(function () {
        if ($(this).val() == "") {
            if (isDealer)
                $(this).val("Login Id");
            else
                $(this).val("Email");
        }
    });

    $("#txtPassword").click(function () {// Password
        if ($(this).val() == "password")
            $(this).val("");
    }).blur(function () {
        if ($(this).val() == "") {
            $(this).val("password");
        }
    });

    $(".tabs li").click(function () {
        $(".tabs li").removeClass("sel").addClass("normal");
        $(this).addClass("sel");

        // check who is login(dealer or individual)
        if ($(this).find("span").html().toLowerCase() == "dealer") {
            isDealer = true;
            $("#txtLoginId").val("Login Id");
        } else {
            isDealer = false;
            $("#txtLoginId").val("Email");
        }

        $("#txtPassword").val("password");
    });
});


function checkAsktheExperts() {
    if ($.cookie("_AsktheExperts") == "" || $.cookie("_AsktheExperts") == null) {
        $(document).ready(function () {
            $('.tollFreeNum').animate({
                top: '300px',
                right: '0px'
            }, 1000);
            $(".toll-box-close").click(function () {
                document.cookie = '_AsktheExperts= 1 ;path =/';
                $('.tollFreeNum').animate({
                    right: '-160px'
                }, 500);
            });
        });
    }

}


function requestLogin() {
    var loginId = $("#txtLoginId").val().toLowerCase();
    var passwd = $("#txtPassword").val();
    var chkRemMe = $("#chkRemMe").attr("checked") ? true : false;

    if (validatedLogin(loginId, passwd)) {
        $.ajax({
            type: "POST",
            url: "/ajaxpro/CarwaleAjax.AjaxCommonPro,Carwale.ashx",
            data: '{"loginId":"' + loginId + '","pwd":"' + passwd + '","rememberMe":' + chkRemMe + ',"isDealer":' + isDealer + '}',
            beforeSend: function (xhr) { xhr.setRequestHeader("X-AjaxPro-Method", "UserLogin"); },
            success: function (response) {
                var loginStatus = eval('(' + response + ')');
                if (loginStatus.value == true) {
                    if (isDealer) {
                        location.href = "/dealer/members/membersdefault.aspx";
                    } else {
                        $.ajax({
                            type: "POST",
                            url: "/ajaxpro/CarwaleAjax.AjaxCommonPro,Carwale.ashx",
                            data: {},
                            beforeSend: function (xhr) { xhr.setRequestHeader("X-AjaxPro-Method", "GetCurrentUserName"); },
                            success: function (userName) {
                                var userName = eval('(' + userName + ')');
                                $("#login1_lblUser").html(userName.value); // update user name
                                $("#login1_hrefLogin").attr("href", "/users/login.aspx?logout=logout").html("<b>Logout</b>"); // update logout href
                                $("#login1_spnReg").hide();
                                $("#ajaxLogin").hide();
                            }
                        });
                    }
                } else {
                    alert("Invalid login details. Please try again.");
                }
            }
        });
    }
}

function validatedLogin(loginId, password) {
    var isError = false;
    var reEmail = /^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,6}$/;

    if (loginId == "" || password == "") {
        alert("Required field can not be left blank");
        isError = true;
    }

    // Validate email address only in case of Individual login because Individual login through email and dealer login through login id
    if (isError == false && isDealer == false && !reEmail.test(loginId)) {
        alert("Invalid login details. Please try again with valid login details.");
        isError = true;
    }

    if (isError) { return false; }
    else { return true };
}

function closeLogin() {
    $("#ajaxLogin,#ajaxRegister").hide();
}

function doSearch(query) {
    location.href = "/search/results.aspx?cx=002963291331112848676:ccmsgcrw20s&cof=FORID:9&ie=UTF-8&q=" + query + "&sa=Search&siteurl=www.carwale.com-F#1200";
}

/* Argument Desc: 1. js object 2. id if the dropdown you want to fill 
3. associated hidden field to manage post back(view state) 4. array of dependent dropdowns. 5. string at index 0 like --select-- or any  */
function bindDropDownList(response, cmbToFill, viewStateId, dependentCmbs, selectString) {
    if (response.Table != null) {
        if (!selectString || selectString == '') selectString = "--Select--";
        $(cmbToFill).empty().append("<option value=\"0\">" + selectString + "</option>").attr("disabled", false);

        var hdnValues = "";

        for (var i = 0; i < response.Table.length; i++) {
            $(cmbToFill).append("<option value=" + response.Table[i].Value + ">" + response.Table[i].Text + "</option>");

            if (hdnValues == "")
                hdnValues += response.Table[i].Text + "|" + response.Table[i].Value;
            else
                hdnValues += "|" + response.Table[i].Text + "|" + response.Table[i].Value;
        }
        if (viewStateId) $("#" + viewStateId).val(hdnValues);
    }

    if (dependentCmbs && dependentCmbs.length > 0) {
        for (var i = 0; i < dependentCmbs.length; i++) {
            $("#" + dependentCmbs[i]).attr("disabled", true);
        }
    }
}

// Function to show loading status in the model drop down box. Created by Ashish G. Kamble
function showLoading(objId) {
    $("#" + objId).find("option:first").text("--Loading--");
}


// Function to format url parameters for url rewriting. Written By : Ashish G. Kamble
function FormatSpecial(url) {
    reg = /[^/\-0-9a-zA-Z\s]*/g; // everything except a-z, 0-9, / and - 
    url = url.replace(reg, '');
    var formattedUrl = url.toLowerCase().replace(/ /g, "").replace(/-/g, "").replace("/", "");
    return formattedUrl;
}

// Written By : Ashish Kamble. 
// Summary : Function to format the price range. Function can be used for full price e.g. 300222 or 2339322.
function FormatFullPrice(minPrice, maxPrice) {
    var priceRange = "", tempMinPrice = "", tempMaxPrice = "";

    if (minPrice.indexOf(",") != -1) {
        minPrice = minPrice.Replace(",", "");
    }

    if (maxPrice.indexOf(",") != -1) {
        maxPrice = maxPrice.Replace(",", "");
    }

    if (parseFloat(minPrice) == parseFloat(maxPrice)) {
        if (minPrice.length >= 8) //when price in crore.
        {
            tempMinPrice = ((parseFloat(minPrice) / 10000000)).toFixed(2);
            priceRange = tempMinPrice.toString() + " crore";
        }

        else if ((minPrice.length >= 6) && (minPrice.length < 8)) //when price in lakhs.
        {
            tempMinPrice = ((parseFloat(minPrice) / 100000)).toFixed(2);
            priceRange = tempMinPrice.toString() + " lakh";
        }
        else //when price in thousands.
        {
            priceRange = minPrice.toString();
        }
    }
    else {
        if (minPrice.length >= 8)  //when both min and max prices are in crores
        {
            tempMinPrice = ((parseFloat(minPrice) / 10000000)).toFixed(2);
            tempMaxPrice = ((parseFloat(maxPrice) / 10000000)).toFixed(2);

            priceRange = tempMinPrice.toString() + " - " + tempMaxPrice.toString() + " crore";
        }
        else if ((minPrice.length < 8) && (minPrice.length >= 6) && (maxPrice.length >= 8)) //when min price in lakhs and max price is in crores
        {
            tempMinPrice = ((parseFloat(minPrice) / 100000)).toFixed(2);
            tempMaxPrice = ((parseFloat(maxPrice) / 10000000)).toFixed(2);

            priceRange = tempMinPrice.toString() + " lakhs - " + tempMaxPrice.toString() + " crore";
        }
        else if ((minPrice.length >= 6) && (maxPrice.length < 8) && (minPrice.length < 8)) //when min ans max prices are in lakhs
        {
            tempMinPrice = ((parseFloat(minPrice) / 100000)).toFixed(2);
            tempMaxPrice = ((parseFloat(maxPrice) / 100000)).toFixed(2);

            priceRange = tempMinPrice.toString() + " - " + tempMaxPrice.toString() + " lakh";
        }
        else //when min and max prices are in thousands
        {
            priceRange = minPrice.toString() + "-" + maxPrice.toString();
        }
    }

    return priceRange.replace(/.00/g, '');
}

// Written By : Ashish Kamble. 
// Summary : Function to format the price range. Function can be used for short price e.g. 2.34, 345.44
function FormatShortPrice(minPrice, maxPrice) {
    var priceRange = "", tempMinPrice = "", tempMaxPrice = "";
    if (minPrice == "" || maxPrice == "") return "N/A";

    if (PriceLength(minPrice) >= 3) //when min and max price in crore..
    {
        tempMinPrice = ((parseFloat(minPrice) / 100)).toFixed(2);
        tempMaxPrice = ((parseFloat(maxPrice) / 100)).toFixed(2);
        priceRange = tempMinPrice.toString() + " - " + tempMaxPrice.toString() + " crore";
    }
    else if ((PriceLength(minPrice) < 3) && (PriceLength(maxPrice) >= 3)) //when minprice in lakhs and maxprice in crore...
    {
        tempMinPrice = (parseFloat(minPrice)).toFixed(2);
        tempMaxPrice = ((parseFloat(maxPrice) / 100)).toFixed(2);
        priceRange = tempMinPrice.toString() + " lakhs - " + tempMaxPrice.toString() + " crore";
    }
    else { //when min and max price are in lakhs..
        tempMinPrice = (parseFloat(minPrice)).toFixed(2);
        tempMaxPrice = (parseFloat(maxPrice)).toFixed(2);
        priceRange = tempMinPrice.toString() + " - " + tempMaxPrice.toString() + " lakh";
    }
    return priceRange.replace(/.00/g, '');
}

// Written By : Ashish Kamble.
// Function to split the short price. e.g. 2.45
function PriceLength(price) {
    var temp = price.split('.');

    return (temp[0].length);
}

function bindDropDownListWithMaskingName(response, cmbToFill, viewStateId, dependentCmbs, selectString) {
    if (response.Table != null) {
        if (!selectString || selectString == '') selectString = "--Select--";
        $(cmbToFill).empty().append("<option value=\"0\" mask=\"\">" + selectString + "</option>").attr("disabled", false);

        var hdnValues = "";

        for (var i = 0; i < response.Table.length; i++) {
            $(cmbToFill).append('<option value="' + response.Table[i].Value + '" mask="' + response.Table[i].MaskingName + '">' + response.Table[i].Text + '</option>');

            if (hdnValues == "")
                hdnValues += response.Table[i].Text + "|" + response.Table[i].Value;
            else
                hdnValues += "|" + response.Table[i].Text + "|" + response.Table[i].Value;
        }
        if (viewStateId) $("#" + viewStateId).val(hdnValues);
    }

    if (dependentCmbs && dependentCmbs.length > 0) {
        for (var i = 0; i < dependentCmbs.length; i++) {
            $("#" + dependentCmbs[i]).attr("disabled", true);
        }
    }
}
/*Knockout Generic ViewModel and ajax funtions for droplists make,model*/
var genericMakeModelKVM = '{Make: ko.observable(-1),Makes: ko.observableArray(),Model: ko.observable(),Models: ko.observableArray([{ "ModelId": -1, "ModelName": "--Model--", "MaskingName": "" }]),Version: ko.observable(),Versions: ko.observableArray([{ "Id": -1, "Version": "--Version--", "MaskingName": "" }])}';


function bindVersionsByModelList(type, modelId, viewmodel, versionListNodeId, caption) {
    if (modelId > 0) {
        return $.ajax({
            type: "GET",
            url: "/webapi/carversionsdata/GetCarVersions/?type=" + type + "&modelId=" + modelId,
            beforeSend: function (xhr) {
                $(versionListNodeId).attr("disabled", true);
                $(versionListNodeId).empty();
                viewmodel.Versions({ "ID": -1, "Name": "--Loading--" });
            },
            success: function (response) {
                var responseJSON = eval('(' + response + ')');
                viewmodel.Versions(responseJSON);
                viewmodel.Versions.unshift(eval("({ 'ID': -1, 'Name': '" + caption + "' })"));//wont work without eval(caption is out of context)
                if (!(viewmodel.Models().length > 1)) { $(versionListNodeId).attr("disabled", true); }
                else { $(versionListNodeId).attr("disabled", false); }
                $(versionListNodeId).val(-1).change();
                $(versionListNodeId).prop('selectedIndex', 0);//IE 9
            }
        });
    }
    else {
        $(versionListNodeId).val(-1).attr("disabled", true); $(versionListNodeId).change();
    }
}
//Overload for selecting Cached version after API CALL
function bindVersionsByModelListCached(type, modelId, viewmodel, versionListNodeId, cachedVersion, caption) {
    if (modelId > 0) {
        return $.ajax({
            type: "GET",
            url: "/webapi/carversionsdata/GetCarVersions/?type=" + type + "&modelId=" + modelId,
            beforeSend: function (xhr) {
                viewmodel.Model(modelId);
                $(versionListNodeId).attr("disabled", true);
                $(versionListNodeId).empty();
                viewmodel.Versions({ "ID": -1, "Name": "--Loading--" });
            },
            success: function (response) {
                var responseJSON = eval('(' + response + ')');
                viewmodel.Versions(responseJSON);
                viewmodel.Versions.unshift(eval("({ 'ID': -1, 'Name': '" + caption + "' })"));
                $(versionListNodeId).val(cachedVersion).change();
                viewmodel.Version(cachedVersion);
                if (!(viewmodel.Models().length > 1)) { $(versionListNodeId).attr("disabled", true); }
                else { $(versionListNodeId).attr("disabled", false); }
            }
        });
    }
    else {
        $(versionListNodeId).val(-1).attr("disabled", true); $(versionListNodeId).change();
    }
}

function bindModelsList(type, makeId, viewmodel, modelListNodeId, caption) {
    if (makeId > 0) {
        return $.ajax({
            type: "GET",
            url: "/webapi/carmodeldata/GetCarModelsByType/?type=" + type + "&makeId=" + makeId,
            beforeSend: function (xhr) {
                $(modelListNodeId).attr('disabled', true);
                $(modelListNodeId).empty();
                viewmodel.Make(makeId);
                viewmodel.Models({ "ModelId": -1, "ModelName": "--Loading--", "MaskingName": "" });
            },
            success: function (response) {
                //var responseJSON = eval('(' + response + ')');
                //viewmodel.Models(responseJSON);
                viewmodel.Models(response)
                viewmodel.Models.unshift(eval("({ 'ModelId': -1, 'ModelName': '" + caption + "', 'MaskingName': '' })"));
                if (!(viewmodel.Models().length > 1)) { $(modelListNodeId).attr("disabled", true); }
                else { $(modelListNodeId).attr("disabled", false); }
                $(modelListNodeId).val(-1).change();
                $(modelListNodeId).prop('selectedIndex', 0);//IE 9
            }
        });
    }
    else {
        $(modelListNodeId).val(-1).attr("disabled", true); $(modelListNodeId).change();
    }
}
//Overload for selecting Cached model after API CALL
function bindModelsListCached(makeId, viewmodel, modelListNodeId, cachedModel, caption) {
    if (makeId > 0) {
        return $.ajax({
            type: "GET",
            url: "/webapi/carmodeldata/GetCarModelsByType/?type=new&makeId=" + makeId,
            beforeSend: function (xhr) {
                viewmodel.Make(makeId);
                $(modelListNodeId).attr("disabled", true);
                $(modelListNodeId).empty();
                viewmodel.Models({ "ModelId": -1, "ModelName": "--Loading--", "MaskingName": "" });
            },
            success: function (response) {
                //var responseJSON = eval('(' + response + ')');
                //viewmodel.Models(responseJSON);
                viewmodel.Models(responseJSON);
                viewmodel.Models.unshift(eval("({ 'ModelId': -1, 'ModelName': '" + caption + "', 'MaskingName': '' })"));
                $(modelListNodeId).val(cachedModel);
                if (!(viewmodel.Models().length > 1)) { $(modelListNodeId).attr("disabled", true); }
                else { $(modelListNodeId).attr("disabled", false); }
            }
        });
    }
    else {
        $(modelListNodeId).val(-1).attr("disabled", true); $(modelListNodeId).change();
    }
}
//

function bindMakesByCityList(cityId, viewmodel, makeListNodeId, caption) {
    if (cityId > 0) {
        $.ajax({
            type: "GET",
            url: "/webapi/newcardealers/GetMakesByCity/?cityid=" + cityId,
            beforeSend: function (xhr) {
                viewmodel.City(cityId);
                $(makeListNodeId).attr("disabled", true);
                $(makeListNodeId).empty();
                viewmodel.Makes({ "makeId": -1, "makeName": "--Loading--" });
            },
            success: function (response) {
                var responseJSON = eval('(' + response + ')');
                viewmodel.Makes(responseJSON);
                viewmodel.Makes.unshift(eval("({ 'makeId': -1, 'makeName': '" + caption + "'})"));
                if (!(viewmodel.Makes().length > 1)) { $(makeListNodeId).attr("disabled", true); }
                else { $(makeListNodeId).attr("disabled", false); }
                $(makeListNodeId).val(-1).change();
                $(makeListNodeId).prop('selectedIndex', 0);//IE 9
            }
        });
    }
    else {
        $(makeListNodeId).val(-1).attr("disabled", true);
    }
}
// Load the SDK asynchronously
(function (d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "//connect.facebook.net/en_US/sdk.js";
    fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));

$(document).ready(function (e) {
    $(document).click(function (x) {
        var roh = x.target;
        if (!$('#firstLogin').is(roh) && $('#firstLogin').has(roh).length == 0 && $('.login-pop').has(roh).length == 0)
        { $(".sign-up-stage").hide(); $("#divForgot").removeClass("alert").html(""); $(".login-stage").show(); $(".login-txt").html("Login"); $(".login-bx").removeClass("login-active"); $(".login-pop").hide(); }
    });

    $(document).on('click', '#firstLogin', loginClick);

    $("#alreadyAccount").click(function () {
        $(".sign-up-stage").hide();
        $(".login-stage").show();
        $(".login-txt").html("Login");
    });
    $("#registerHere").click(function () {
        $(".login-stage").hide();
        $(".sign-up-stage").show();
        $("#forgotpassbox").hide();
        $(".login-txt").html("Sign Up");
    });
    $("#forgotpass").click(function () {
        document.getElementById('txtForgotPass').value = document.getElementById('txtloginemail').value;
        $("#forgotpassbox").toggle();
    });
}); //END READY
function clicklogout() {
    $.cookie("_GoogleCookie", null, { path: '/' });
    $.cookie("_Fblogin", null, { path: '/' });
    window.location = "/users/login.aspx?logout=logout&returnurl=" + document.location.href;
}

window.fbAsyncInit = function () {
    FB.init({
        appId: FACEBOOKAPPID,
        cookie: true,  // enable cookies to allow the server to access 
        // the session
        xfbml: true,  // parse social plugins on this page
        version: 'v2.2' // use version 2.2
    });
}

function fb_login() {
    window.fbAsyncInit = function () {
        FB.init({
            appId: FACEBOOKAPPID,
            cookie: true,  // enable cookies to allow the server to access 
            // the session
            xfbml: true,  // parse social plugins on this page
            version: 'v2.2' // use version 2.2
        });
    }
    window.fbAsyncInit();
    FB.login(function (response) {
        var loginresponse = response;
        if (response.authResponse) {
            FB.api('/me', function (response) {
                if (response.id > 0) {
                    $.ajax({
                        type: "POST",
                        url: "/ajaxpro/CarwaleAjax.AjaxCommonPro,Carwale.ashx",
                        data: '{"fbId":"' + response.id + '","accessToken":"' + loginresponse.authResponse.accessToken + '"}',
                        beforeSend: function (xhr) { xhr.setRequestHeader("X-AjaxPro-Method", "FbRegistration"); },
                        success: function (verificationresp) {
                            var x = eval('(' + verificationresp + ')');
                            if (x.value == null || x.value == "") alert("Failed to login.");
                            else if ($.isNumeric(x.value.CustomerId) && x.value.CustomerId != "0") {
                                document.getElementById('status').innerHTML = '' + x.value.Name;
                                document.getElementById('profilepic').innerHTML = '<img src="http://graph.facebook.com/' + x.value.Id + '/picture" />';
                                document.getElementById('showicon').innerHTML = '<img src="http://graph.facebook.com/' + x.value.Id + '/picture" />';
                                var now = new Date();
                                var Time = now.getTime();
                                Time += 1000 * 60 * 60 * 5040;
                                now.setTime(Time);
                                document.cookie = '_Fblogin=' + x.value.Id + '; expires = ' + now.toGMTString() + ';path =/';
                                uiAfterLogin();
                            }
                            else alert("Sorry, we don't have permission to login.");
                        }
                    });
                }
            });
        }
    }, { scope: 'public_profile,email' });
}

var OAUTHURL = 'https://accounts.google.com/o/oauth2/auth?';
var VALIDURL = 'https://www.googleapis.com/oauth2/v1/tokeninfo?access_token=';
var TYPE = 'token';
var _url = OAUTHURL + 'scope=' + SCOPE + '&client_id=' + CLIENTID + '&redirect_uri=' + REDIRECT + '&response_type=' + TYPE;
var acToken;
var tokenType;
var expiresIn;
var user;
var loggedIn = false;

function login() {

    var win = window.open(_url, "windowname1", 'width=800, height=600');

    var pollTimer = window.setInterval(function () {
        try {
            if (win.document.URL.indexOf(REDIRECT) != -1) {
                window.clearInterval(pollTimer);
                var url = win.document.URL;
                acToken = gup(url, 'access_token');
                tokenType = gup(url, 'token_type');
                expiresIn = gup(url, 'expires_in');
                win.close();

                validateToken(acToken);
            }
        } catch (e) { }
    }, 500);
}

function validateToken(token) {
    $.ajax({
        type: "POST",
        url: "/ajaxpro/CarwaleAjax.AjaxCommonPro,Carwale.ashx",
        data: '{"accessToken":"' + token + '"}',
        beforeSend: function (xhr) { xhr.setRequestHeader("X-AjaxPro-Method", "GplusRegistration"); },
        success: function (verificationresp) {
            var x = eval('(' + verificationresp + ')');
            if (x.value.CustomerId == null || x.value.CustomerId == "-1") alert("Failed to login.");
            else if ($.isNumeric(x.value.CustomerId) && x.value.CustomerId != "0") {
                $('#status').append(x.value.Name);
                document.getElementById('profilepic').innerHTML = '<img src="' + x.value.Picture + '" />';
                document.getElementById('showicon').innerHTML = '<img src="' + x.value.Picture + '" />';
                var now = new Date();
                var Time = now.getTime();
                Time += 1000 * 60 * 60 * 5040;
                now.setTime(Time);
                document.cookie = '_GoogleCookie=' + x.value.Id + '|' + x.value.Picture + '; expires = ' + now.toGMTString() + ';path =/';
                uiAfterLogin();
            }
            else alert("Sorry, we don't have permission to login.");
        }
    });
}
var loginClick = function () {
    $(".login-bx").toggleClass("login-active");
    $(".login-pop").toggle();
}
function uiAfterLogin() {
    $('.login-box').hide();
    $('.logged-stage-stage').show();
    $(".login-pop").fadeOut(1000);
    setTimeout(function () { $(".login-bx").toggleClass("login-active"); }, 1000);
    $('#showicon').removeClass('hide').show();
    $('.login-txt ').hide();
}

//credits: http://www.netlobo.com/url_query_string_javascript.html
function gup(url, name) {
    name = name.replace(/[\[]/, "\\\[").replace(/[\]]/, "\\\]");
    var regexS = "[\\#&]" + name + "=([^&#]*)";
    var regex = new RegExp(regexS);
    var results = regex.exec(url);
    if (results == null)
        return "";
    else
        return results[1];
}

var reEmail = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
var emailQS = "";
var returnUrl = "";
function doLoginCustomer() {
    var loginId = $("#txtloginemail").val();
    var passwd = $("#txtpasswordlogin").val();
    var rememberMe = document.getElementById("chkRemMe").checked == true ? 'true' : 'false';
    if (loginId != "" && passwd != "") {
        $('#txtloginemail, #txtpasswordlogin').removeClass('red-border');
        requestLogin(loginId, passwd, rememberMe);
    } else {
        if (loginId == "") $('#txtloginemail').addClass('red-border'); else $('#txtloginemail').removeClass('red-border');
        if (passwd == "") $('#txtpasswordlogin').addClass('red-border'); else $('#txtpasswordlogin').removeClass('red-border');
    }
}

function requestLogin(loginId, passwd, rememberMe) {
    $.ajax({
        type: "POST",
        url: "/ajaxpro/CarwaleAjax.AjaxCommonPro,Carwale.ashx",
        data: '{"loginId":"' + loginId + '","pwd":"' + passwd + '","rememberMe":"' + rememberMe + '","isDealer":' + false + '}',
        beforeSend: function (xhr) { xhr.setRequestHeader("X-AjaxPro-Method", "UserLogin"); },
        success: function (response) {
            var loginStatus = eval('(' + response + ')');
            if (loginStatus.value == true) {
                location.reload();
            } else {
                $("#invalidlogin").removeClass('hide');
            }
        }
    });
}
function sendPwd() {
    var email = $("#txtForgotPass").val();
    if (reEmail.test(email)) {
        $.ajax({
            type: "POST",
            url: "/ajaxpro/CarwaleAjax.AjaxCommonPro,Carwale.ashx",
            data: '{"email":"' + email + '"}',
            beforeSend: function (xhr) { xhr.setRequestHeader("X-AjaxPro-Method", "SendCustomerPwd"); },
            success: function (response) {
                var status = eval('(' + response + ')');
                if (status.value == "200") {
                    $("#forgotpassbox").toggle();
                    $("#divForgot").addClass("alert").html("Your password has been sent to your email address.");
                } else { $("#divForgot").addClass("alert").html("Please try again later."); }
            }
        });
    } else {
        $("#divForgot").addClass("alert").html("Please enter a valid email.");
    }
}

function initRegisterCust() {
    var custName = $("#txtnamelogin");
    var email = $("#txtemailsignup");
    var passwd = $("#txtRegPasswd");
    var confPasswd = $("#txtConfPasswdlogin");
    var mobie = $("#txtmobilelogin");
    registerCust(custName, email, passwd, confPasswd, mobie);
}

function registerCust(objCust, objEmail, objPasswd, objConfPasswd, objMobile) {
    if (validateCustRegDetails(objCust, objEmail, objPasswd, objConfPasswd, objMobile)) {
        var phone = "";
        var cityId = "";
        $.ajax({
            type: "POST",
            url: "/ajaxpro/CarwaleAjax.AjaxCommonPro,Carwale.ashx",
            data: '{"custName":"' + $(objCust).val() + '", "password":"' + $(objPasswd).val() + '", "email":"' + $(objEmail).val() + '", "phone":"' + phone + '", "mobile":"' + $(objMobile).val() + '", "cityId":"' + cityId + '"}',
            beforeSend: function (xhr) { xhr.setRequestHeader("X-AjaxPro-Method", "UserRegistration"); },
            success: function (response) {
                var status = eval('(' + response + ')');

                if (Number(status.value) > 0) {
                    $('.sign-up-with-cw').hide();
                    $("#Testlogin-box").hide();
                    $('.login-pop').hide();
                    $('#showicon').removeClass('hide').show();
                    $('.logged-stage-stage').show();
                    $(".login-txt").html("Sign Up").hide();
                    $("#status").html($(objCust).val());
                } else {
                    alert("This email id is already registred with CarWale.");
                }
            }
        });
    }
}
function validateCustRegDetails(objCust, objEmail, objPasswd, objConfPasswd, objMobie) {
    var custName = $(objCust).val();
    var email = $(objEmail).val();
    var mobie = $(objMobie).val();
    var passwd = $(objPasswd).val();
    var confPasswd = $(objConfPasswd).val();
    var agreecheck = $('#agreecheck')[0];
    var re = new RegExp("^[0-9]+$");
    if (custName == "") {
        $(objCust).addClass("textAlert").addClass('red-border');
        return false;
    } else {
        $(objCust).removeClass("textAlert").removeClass('red-border');
    }

    if (email == "") {
        $(objEmail).addClass("textAlert").addClass('red-border');
        return false;
    } else if (!reEmail.test(email)) {
        $(objEmail).addClass("textAlert").addClass('red-border');
        return false;
    } else {
        $(objEmail).removeClass("textAlert").removeClass('red-border');
    }
    if (mobie == "") {
        $(objMobie).addClass("textAlert").addClass('red-border');
        return false;
    } else if (!re.test(mobie) || mobie.length > 10 || mobie.length < 10) {
        $(objMobie).addClass("textAlert").addClass('red-border');
        return false;
    } else {
        $(objMobie).removeClass("textAlert").removeClass('red-border');
    }
    if (passwd == "") {
        $(objPasswd).addClass("textAlert").addClass('red-border');
        return false;
    } else {
        $(objPasswd).removeClass("textAlert").removeClass('red-border');
    }
    if (confPasswd == "") {
        $(objConfPasswd).addClass("textAlert").addClass('red-border');
        return false;
    } else if (passwd != confPasswd) {
        $(objConfPasswd).addClass("textAlert").addClass('red-border');
        return false;
    } else {
        $(objConfPasswd).removeClass("textAlert").removeClass('red-border');
    }
    if (!(agreecheck.checked)) { $(agreecheck).parent().addClass("textAlert").addClass('red-border'); return false }
    else $(agreecheck).parent().removeClass("textAlert").removeClass('red-border');
    return true;
}
function setLangChangerHref(urlpath) {
if(window.location.hostname == "www."+"carw"+"ale."+"com")
    $("#Hindi").attr("href", "http://hindi"+".carw"+"ale.com" + urlpath);
else
    $("#English").attr("href", "http://www"+".carw"+"ale.com" + urlpath);
}
$(document).ready(function (e) {
    $(".lang-changer li a").click(function (e) {
        $(".lang-changer li a").removeClass('active-lang');
        $(".lang-changer li a span").removeClass('active');
        $(this).addClass('active-lang');
        $(this).find('span').addClass('active');
    });
});
var pagePath = function() {
    return window.location.href.substr(window.location.href.indexOf(window.location.host) + window.location.host.length, window.location.length);
}
$(window).on('hashchange', function () { setLangChangerHref(pagePath()); });