<?xml version="1.0" encoding="utf-8"?>
<!--
  For more information on how to configure your ASP.NET application, please visit
  http://go.microsoft.com/fwlink/?LinkId=169433
  -->
<configuration>
  <configSections>
    <section name="memcached" type="Enyim.Caching.Configuration.MemcachedClientSection, Enyim.Caching" />
    <section name="log4net" type="log4net.Config.Log4NetConfigurationSectionHandler, log4net" />
  </configSections>
  <system.web>
    <authentication mode="Forms">
      <forms name=".ASPXAUTH" loginUrl="/users/login/" />
    </authentication>    
    <customErrors mode="Off">
      <error statusCode="401" redirect="/users/login/" />
      <error statusCode="404" redirect="/pagenotfound.aspx" />
    </customErrors>
    <!--<httpRuntime requestValidationMode="2.0" />-->
    <!--<compilation debug="true" />-->
    <compilation debug="true" targetFramework="4.5.1" />
    <httpRuntime targetFramework="4.5.1" requestValidationMode="2.0" />
  </system.web>
  <connectionStrings>
    <add name="RabbitMQServerList" connectionString="172.16.0.20" />
  </connectionStrings>
  <appSettings>    
    <add key="ReadOnlyConnectionString" value="SERVER=172.16.0.26;UID=cwadmin;PASSWORD=cwadmin;DATABASE=bikewaledev;Allow User Variables=true;Min Pool Size=10;Max Pool Size=300" />
    <add key="MasterConnectionString" value="SERVER=172.16.0.26;UID=cwadmin;PASSWORD=cwadmin;DATABASE=bikewaledev;Allow User Variables=true;Min Pool Size=10;Max Pool Size=300" /> 
    <add key="imgHostURL" value="localhost:9010" />
    <add key="RabbitImgHostURL" value="172.16.0.20" />
    <add key="imgPathFolder" value="E:\sites\carwaleimg\staging\" />
    <add key="redirectUrl" value="http://webserver:9010" />
    <add key="bikewaleUrl" value="http://webserver:9010" />
    <add key="isProduction" value="false" />
    <!--calculation values for insurance-->
    <add key="A:1" value="1.708" />
    <add key="A:2" value="1.793" />
    <add key="A:3" value="1.879" />
    <add key="B:1" value="1.676" />
    <add key="B:2" value="1.760" />
    <add key="B:3" value="1.844" />
    <add key="d_.5" value="5" />
    <add key="d_1" value="15" />
    <add key="d_2" value="20" />
    <add key="d_3" value="35" />
    <add key="d_4" value="40" />
    <add key="d_5" value="50" />
    <add key="L:1" value="350" />
    <add key="L:2" value="355" />
    <add key="L:3" value="680" />
    <add key="ServiceTax" value="12.24" />
    <!--calculation values for insurance end here-->
    <add key="DefaultCity" value="1" />
    <add key="defaultName" value="Mumbai" />
    <!-- Keys for memcache -->
    <add key="IsMemcachedUsed" value="false" />    
    <add key="MemcacheTimespan" value="30" />
    <add key="SMTPSERVER" value="172.16.10.250" />
    <!-- SMTP Server -->
    <add key="errorMailTo" value="bikewalebugs2016@gmail.com" />
    <add key="localMail" value="contact@bikewale.com" />
    <add key="ReplyTo" value="contact@bikewale.com" />
    <add key="MailFrom" value="opr.webserver.BikeWale.com" />
    <add key="ApplicationName" value="BikeWale.com" />
    <add key="sendError" value="On" />
    <add key="BWDataSynchQueue" value="BWDATASYNC" />
    <add key="BWEsIndexUpdaterQueue" value="BWEsDocumentQueue" />
    <add key="BwHostUrl" value="http://webserver:9011" />
    <add key="BwHostUrlForJs" value="http://webserver:9011" />
    <add key="BwOprHostUrlForJs" value="http://webserver:9010/" />
    <add key="ABApiHostUrl" value="http://webserver:8084" />
    <add key="aspnet:UseTaskFriendlySynchronizationContext" value="true" />
    <add key="ImageQueueName" value="BWIMAGEIPC" />
    <add key="CwOprHostUrl" value="http://webserver:8082/" />
    <add key="GoogleDistanceMatrixAPIKey" value="AIzaSyArdIcynpbm2edjRHwyhcTplQJJ_v6GNwo" />
    <add key="areaMaxPerCall" value="50" />
    <add key="CwWebServiceHostUrl" value="http://webserver:8086" />
    <add key="AMPProjectUrl" value="www-bikewale-com" />
    <add key="SmsQueue" value="BWSMS" />
    <add key="notificationUserId" value="750, 1225" />
    <add key="unitSoldDataNotificationDay" value="15" />
    <add key="notificationOtherUserId" value="1454,750,1225" />
    <add key="notificationToUserMailId" value="manju.gawde@carwale.com" />
    <!--<add key="notificationToMailIdForPageMetas" value="abhishek.singh@carwale.com, piyush.thakker@carwale.com, ashish.kamble@carwale.com" />-->
    <add key="notificationToMailIdForPageMetas" value="manju.gawde@carwale.com, mayur.patil@carwale.com " />
    <add key="notificationCCUserMailId" value="abhishek.singh@carwale.com" />
    <add key="AWSAccessKey" value="AKIAIXWHZPIVBBDGRENQ" />
    <add key="AWSBucketName" value="m-aeplimages" />
    <add key="AWSSecretKey" value="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" />
    <add key="AWSEnvironment" value="dev/" />
    <add key="AWSImageQueueName" value="BW_S3ImageIPC" />
    <add key="SecurityHashLength" value="7" />
    <add key="apiKey" value="1AECC24B-10FD-485F-9083-752481FB21F2" />
    <add key="webpages:Version" value="3.0.0.0" />
    <add key="webpages:Enabled" value="false" />
    <add key="AWSS3Region" value="ap-south-1" />
    <!--<add key ="EmailsForBikeChange" value="gopal.b@cartrade.com,rajesh.suryawanshi@cartrade.com,gauri.dhumal@carwale.com,piyush.thakker@carwale.com,contact@bikewale.com"/>-->
    <add key="EmailsForBikeChange" value="aditi.srivastava@carwale.com,manju.gawde@carwale.com" />
    <!-- Key addition for elastic search -->
    <add key="ElasticHostUrl" value="172.16.0.11:9201" />
    <add key="MMindexName" value="11bwsrckeywordsv1" />
    <add key="BikePriceIndex" value="bikewalepricingindex"/>
  </appSettings>
  <memcached>
    <servers>
      <add address="172.16.1.39" port="11211" />
      <!-- Add more server instances here-->
    </servers>
    <socketPool minPoolSize="10" maxPoolSize="400" connectionTimeout="00:00:10" deadTimeout="00:02:00" />
  </memcached>
  <system.webServer>
    <handlers>
      <add name="AjaxPro.2" path="ajaxpro/*.ashx" verb="*" type="AjaxPro.AjaxHandlerFactory, AjaxPro.2" resourceType="Unspecified" preCondition="integratedMode" />
      <add name="ajax" path="ajax/*.ashx" verb="*" type="Ajax.PageHandlerFactory, Ajax" resourceType="Unspecified" preCondition="integratedMode" />
    </handlers>
    <rewrite>
      <rules>
        <rule name="bikewale opr domain redirect" stopProcessing="true">
          <match url="(.*)" ignoreCase="false" />
          <conditions logicalGrouping="MatchAll">
            <add input="{HTTP_X_FORWARDED_PROTO}" pattern="https" negate="true" ignoreCase="false" matchType="Pattern" />
            <add input="{HTTP_HOST}" pattern="^(opr|bwoprst).bikewale.com$" matchType="Pattern" />
          </conditions>
          <action type="Redirect" url="https://{HTTP_HOST}{R:1}" redirectType="Permanent" />
        </rule>
      </rules>
    </rewrite>
  </system.webServer>
  <runtime>
    <assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">
      <dependentAssembly>
        <assemblyIdentity name="log4net" publicKeyToken="669e0ddf0bb1aa2a" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-1.2.13.0" newVersion="1.2.13.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.Web.Helpers" publicKeyToken="31bf3856ad364e35" />
        <bindingRedirect oldVersion="1.0.0.0-3.0.0.0" newVersion="3.0.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.Web.WebPages" publicKeyToken="31bf3856ad364e35" />
        <bindingRedirect oldVersion="1.0.0.0-3.0.0.0" newVersion="3.0.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.Web.Mvc" publicKeyToken="31bf3856ad364e35" />
        <bindingRedirect oldVersion="1.0.0.0-5.2.3.0" newVersion="5.2.3.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Microsoft.Practices.ServiceLocation" publicKeyToken="31bf3856ad364e35" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-1.3.0.0" newVersion="1.3.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Newtonsoft.Json" publicKeyToken="30ad4fe6b2a6aeed" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-10.0.0.0" newVersion="10.0.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Nest" publicKeyToken="96c599bbe3e70f5d" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-5.0.0.0" newVersion="5.0.0.0" />
      </dependentAssembly>
    </assemblyBinding>
  </runtime>
  <log4net>
    <appender name="GelfUdpAppender" type="Gelf4net.Appender.GelfUdpAppender, Gelf4net">
      <remoteAddress value="172.16.1.39" />
      <remotePort value="21003" />
      <layout type="Gelf4net.Layout.GelfLayout, Gelf4net">
        <param name="AdditionalFields" value="app:BikeWaleOpr,version:1.0,Environment:ashishlocal,Level:%level" />
        <param name="Facility" value="BikeWaleOpr Errors" />
        <param name="IncludeLocationInformation" value="true" />
        <!-- Sets the full_message and short_message to the specified pattern-->
        <param name="ConversionPattern" value="[%t] %c{1} - %m" />
      </layout>
    </appender>
    <root>
      <level value="ERROR" />
      <appender-ref ref="GelfUdpAppender"/>
    </root>
  </log4net>
</configuration>
