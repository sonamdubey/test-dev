<div class="row" style="margin-top:5px;">
    <div class="col m10">
        @using (Html.BeginForm())
        {
            <table id="tblMakeData" class="bordered highlight z-depth-3 centered">
                <tr></tr>

                <tr></tr>

            </table>
        }
    </div>
    <div id="addMakeContainer" class="col s2 m2" data-bind="with : addMake">
        <ul class="collapsible" data-collapsible="accordion">
            <li>
                <div class="collapsible-header center-align"><strong>Add Make</strong></div>
                <div class="collapsible-body">
                    <div class="container">
                        <div class="input-field row s12">
                            @*@if (Model.Makes != null && Model.Makes.Count() > 0)
                            {*@
                                <select id="ddlmakes" name="makeIdList" data-bind="event:{change: selectMake}">
                                    <option>Select Make</option>
                                    @*@foreach (var make in Model.Makes)
                                    {*@
                                        <option @*value="@make.MakeId"*@>MakeName</option>>
                                    @*}*@
                                </select>
                            @*}*@
                            @*else
                            {
                                <span>Problem in retrieving makes</span>
                            }*@
                        </div>
                        <div class="input-field row">
                            <select data-placeholder="Select Models" id="ddlModels" data-bind="options: listModels(), optionsText: 'modelName', optionsValue: 'modelId', optionsCaption: 'Select All', enable : listModels().length>0" multiple></select>
                        </div>
                    
                        <div class="row">
                            <div class="input-field row s12">
                                <input type="checkbox" class="filled-in" id="chkShowPromotion" name="AdShowPromotion" />
                                <label for="chkShowPromotion">Promotion</label>
                            </div>
                            <div class="input-field row s12">
                                <input type="checkbox" class="filled-in" id="chkMonetization" name="AdMonetization" />
                                <label for="chkMonetization">Monetization</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col s12">
                                <div class="input-field">
                                    <i class="material-icons prefix margin-top15">date_range</i>
                                    <input type="date" id="startDateEle" class="datepicker margin-left5" value="" />
                                    <label for="startDateEle">Start Date</label>
                                </div>
                            </div>
                        </div>
                            <div class="row">
                                <div class="col s12">
                                    <div class="input-field">
                                        <input type="time" id="startTimeEle" value="" />
                                        
                                    </div>
                                </div>
                            </div>
                        <div class="row">
                            <div class="col s12">
                                <div class="input-field">
                                    <i class="material-icons prefix margin-top15">date_range</i>
                                    <input type="date" id="endDateEle" class="datepicker margin-left5" value="" />
                                    <label for="endDateEle" >End Date</label>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col s12">
                                <div class="input-field">
                                    <input type="time" id="endTimeEle" value="" />
                                   
                                </div>
                            </div>
                        </div>
                        <div class="input-field row s12">
                            <button id="btnAddMake" class="btn waves-effect waves-light" type="submit" name="action" data-bind="event : { click : function() { return validateMakeSubmit();}}">
                                Add Operation
                            </button>
                        </div>
                    </div>
                </div>
            </li>
        </ul>
    </div>
</div>
<script>
    var $dateInput = $('.datepicker').pickadate({
        selectMonths: true,
        closeOnSelect: true,
        onClose: function () { if (dateValue != $("#reviewDateEle").val()) $("#reviewDate").val($("#reviewDateEle").val()); },
        onOpen: function () { dateValue = $("#reviewDateEle").val() },
        onSet: function (ele) { if (ele.select) { this.close(); } }
    });
    var manufacturerRulesViewModel = function () {
        self.selectMake = function () {
            self.selectedMake($('#ddlMakes option:selected').val());
            if (self.selectedMake() != undefined && self.selectedMake() > 0) {
                $.ajax({
                    type: "GET",
                    url: bwHostUrl + "/api/campaigns/manufacturer/models/makeId/" + self.selectedMake() + "/",
                    datatype: "json",
                    success: function (response) {
                        var models = ko.toJS(response);
                        if (models) {
                            self.listModels(models);
                        }
                    },
                    complete: function (xhr) {
                        ddlModels.material_select();
                    }
                });
            }
            else {
                self.listModels([]);
                ddlModels.material_select();
            }
        };
    };
</script>
