òÒ
WD:\work\bikewaleweb\Bikewale.ManufacturerCampaign.DAL\ManufacturerCampaignRepository.cs
	namespace 	
Bikewale
 
.  
ManufacturerCampaign '
.' (
DAL( +
{ 
public 

class *
ManufacturerCampaignRepository /
:0 1
	Interface2 ;
.; <+
IManufacturerCampaignRepository< [
{ 
public 
IEnumerable 
< 
ManufacturerEntity -
>- . 
GetManufacturersList/ C
(C D
)D E
{ 	
IEnumerable 
< 
ManufacturerEntity *
>* +
manufacturers, 9
=: ;
null< @
;@ A
try 
{ 
using 
( 
IDbConnection $

connection% /
=0 1
DatabaseHelper2 @
.@ A
GetMasterConnectionA T
(T U
)U V
)V W
{ 

connection   
.   
Open   #
(  # $
)  $ %
;  % &
var## 
param## 
=## 
new##  #
DynamicParameters##$ 5
(##5 6
)##6 7
;##7 8
manufacturers$$ !
=$$" #

connection$$$ .
.$$. /
Query$$/ 4
<$$4 5
ManufacturerEntity$$5 G
>$$G H
($$H I
$str$$I b
,$$b c
param$$d i
:$$i j
param$$k p
,$$p q
commandType$$r }
:$$} ~
CommandType	$$ Š
.
$$Š ‹
StoredProcedure
$$‹ š
)
$$š ›
;
$$› œ
if'' 
('' 

connection'' "
.''" #
State''# (
=='') +
ConnectionState'', ;
.''; <
Open''< @
)''@ A

connection(( "
.((" #
Close((# (
(((( )
)(() *
;((* +
})) 
}** 
catch++ 
(++ 
	Exception++ 
ex++ 
)++  
{,, 

ErrorClass-- 
objErr-- !
=--" #
new--$ '

ErrorClass--( 2
(--2 3
ex--3 5
,--5 6
$str--7 u
)--u v
;--v w
}.. 
return11 
manufacturers11  
;11  !
}33 	
public99 
IEnumerable99 
<99 
BikeMakeEntity99 )
>99) *
GetBikeMakes99+ 7
(997 8
)998 9
{:: 	
IEnumerable;; 
<;; 
BikeMakeEntity;; &
>;;& '
	bikeMakes;;( 1
=;;2 3
null;;4 8
;;;8 9
try<< 
{== 
using>> 
(>> 
IDbConnection>> $

connection>>% /
=>>0 1
DatabaseHelper>>2 @
.>>@ A
GetMasterConnection>>A T
(>>T U
)>>U V
)>>V W
{?? 

connection@@ 
.@@ 
Open@@ #
(@@# $
)@@$ %
;@@% &
varAA 
paramAA 
=AA 
newAA  #
DynamicParametersAA$ 5
(AA5 6
)AA6 7
;AA7 8
	bikeMakesBB 
=BB 

connectionBB  *
.BB* +
QueryBB+ 0
<BB0 1
BikeMakeEntityBB1 ?
>BB? @
(BB@ A
$strBBA W
,BBW X
paramBBY ^
:BB^ _
paramBB` e
,BBe f
commandTypeBBg r
:BBr s
CommandTypeBBt 
.	BB €
StoredProcedure
BB€ 
)
BB 
;
BB ‘
ifDD 
(DD 

connectionDD "
.DD" #
StateDD# (
==DD) +
ConnectionStateDD, ;
.DD; <
OpenDD< @
)DD@ A

connectionEE "
.EE" #
CloseEE# (
(EE( )
)EE) *
;EE* +
}FF 
}GG 
catchHH 
(HH 
	ExceptionHH 
exHH 
)HH  
{II 

ErrorClassJJ 
objErrJJ !
=JJ" #
newJJ$ '

ErrorClassJJ( 2
(JJ2 3
exJJ3 5
,JJ5 6
$strJJ7 g
)JJg h
;JJh i
}KK 
returnLL 
	bikeMakesLL 
;LL 
}MM 	
publicQQ #
ConfigureCampaignEntityQQ &#
GetManufacturerCampaignQQ' >
(QQ> ?
uintQQ? C
dealerIdQQD L
,QQL M
uintQQN R

campaignIdQQS ]
)QQ] ^
{RR 	#
ConfigureCampaignEntitySS #
	objEntitySS$ -
=SS. /
nullSS0 4
;SS4 5
tryTT 
{UU 
usingVV 
(VV 
IDbConnectionVV $

connectionVV% /
=VV0 1
DatabaseHelperVV2 @
.VV@ A
GetMasterConnectionVVA T
(VVT U
)VVU V
)VVV W
{WW 

connectionXX 
.XX 
OpenXX #
(XX# $
)XX$ %
;XX% &
varYY 
paramYY 
=YY 
newYY  #
DynamicParametersYY$ 5
(YY5 6
)YY6 7
;YY7 8
paramZZ 
.ZZ 
AddZZ 
(ZZ 
$strZZ .
,ZZ. /

campaignIdZZ0 :
)ZZ: ;
;ZZ; <
param[[ 
.[[ 
Add[[ 
([[ 
$str[[ ,
,[[, -
dealerId[[. 6
)[[6 7
;[[7 8
	objEntity\\ 
=\\ 
new\\  ##
ConfigureCampaignEntity\\$ ;
(\\; <
)\\< =
;\\= >
using]] 
(]] 
var]] 
results]] &
=]]' (

connection]]) 3
.]]3 4
QueryMultiple]]4 A
(]]A B
$str]]B [
,]][ \
param]]] b
:]]b c
param]]d i
,]]i j
commandType]]k v
:]]v w
CommandType	]]x ƒ
.
]]ƒ „
StoredProcedure
]]„ “
)
]]“ ”
)
]]” •
{^^ 
	objEntity__ !
.__! "
DealerDetails__" /
=__0 1
results__2 9
.__9 :
Read__: >
<__> ?'
ManufacturerCampaignDetails__? Z
>__Z [
(__[ \
)__\ ]
.__] ^
SingleOrDefault__^ m
(__m n
)__n o
;__o p
	objEntity`` !
.``! "
CampaignPages``" /
=``0 1
results``2 9
.``9 :
Read``: >
<``> ?%
ManufacturerCampaignPages``? X
>``X Y
(``Y Z
)``Z [
;``[ \
}aa 
ifbb 
(bb 

connectionbb "
.bb" #
Statebb# (
==bb) +
ConnectionStatebb, ;
.bb; <
Openbb< @
)bb@ A

connectioncc "
.cc" #
Closecc# (
(cc( )
)cc) *
;cc* +
}dd 
}ee 
catchff 
(ff 
	Exceptionff 
exff 
)ff  
{gg 

ErrorClasshh 
objErrhh !
=hh" #
newhh$ '

ErrorClasshh( 2
(hh2 3
exhh3 5
,hh5 6
$strhh7 r
)hhr s
;hhs t
}ii 
returnjj 
	objEntityjj 
;jj 
}kk 	
publicqq %
ManufacturerCampaignPopupqq ((
getManufacturerCampaignPopupqq) E
(qqE F
uintqqF J

campaignIdqqK U
)qqU V
{rr 	%
ManufacturerCampaignPopupss %
	objEntityss& /
=ss0 1
nullss2 6
;ss6 7
trytt 
{uu 
usingvv 
(vv 
IDbConnectionvv $

connectionvv% /
=vv0 1
DatabaseHelpervv2 @
.vv@ A
GetMasterConnectionvvA T
(vvT U
)vvU V
)vvV W
{ww 

connectionxx 
.xx 
Openxx #
(xx# $
)xx$ %
;xx% &
varyy 
paramyy 
=yy 
newyy  #
DynamicParametersyy$ 5
(yy5 6
)yy6 7
;yy7 8
paramzz 
.zz 
Addzz 
(zz 
$strzz .
,zz. /

campaignIdzz0 :
)zz: ;
;zz; <
	objEntity{{ 
={{ 
new{{  #%
ManufacturerCampaignPopup{{$ =
({{= >
){{> ?
;{{? @
	objEntity|| 
=|| 

connection||  *
.||* +
Query||+ 0
<||0 1%
ManufacturerCampaignPopup||1 J
>||J K
(||K L
$str||L j
,||j k
param||l q
:||q r
param||s x
,||x y
commandType	||z …
:
||… †
CommandType
||‡ ’
.
||’ “
StoredProcedure
||“ ¢
)
||¢ £
.
||£ ¤
FirstOrDefault
||¤ ²
(
||² ³
)
||³ ´
;
||´ µ
if~~ 
(~~ 

connection~~ "
.~~" #
State~~# (
==~~) +
ConnectionState~~, ;
.~~; <
Open~~< @
)~~@ A

connection "
." #
Close# (
(( )
)) *
;* +
}
€€ 
}
 
catch
‚‚ 
(
‚‚ 
	Exception
‚‚ 
ex
‚‚ 
)
‚‚  
{
ƒƒ 

ErrorClass
„„ 
objErr
„„ !
=
„„" #
new
„„$ '

ErrorClass
„„( 2
(
„„2 3
ex
„„3 5
,
„„5 6
$str
„„7 r
)
„„r s
;
„„s t
}
…… 
return
†† 
	objEntity
†† 
;
†† 
}
‡‡ 	
public
 $
CampaignPropertyEntity
 %/
!GetManufacturerCampaignProperties
& G
(
G H
uint
H L

campaignId
M W
)
W X
{
 	$
CampaignPropertyEntity
 "
campaign
# +
=
, -
null
. 2
;
2 3
try
‘‘ 
{
’’ 
using
““ 
(
““ 
IDbConnection
““ $

connection
““% /
=
““0 1
DatabaseHelper
““2 @
.
““@ A!
GetMasterConnection
““A T
(
““T U
)
““U V
)
““V W
{
”” 

connection
•• 
.
•• 
Open
•• #
(
••# $
)
••$ %
;
••% &
var
–– 
param
–– 
=
–– 
new
––  #
DynamicParameters
––$ 5
(
––5 6
)
––6 7
;
––7 8
param
—— 
.
—— 
Add
—— 
(
—— 
$str
—— .
,
——. /

campaignId
——0 :
)
——: ;
;
——; <
campaign
˜˜ 
=
˜˜ 
new
˜˜ "$
CampaignPropertyEntity
˜˜# 9
(
˜˜9 :
)
˜˜: ;
;
˜˜; <
using
šš 
(
šš 
var
šš 
results
šš &
=
šš' (

connection
šš) 3
.
šš3 4
QueryMultiple
šš4 A
(
ššA B
$str
ššB e
,
šše f
param
ššg l
:
ššl m
param
ššn s
,
ššs t
commandTypeššu €
:šš€ 
CommandTypešš‚ 
.šš 
StoredProcedurešš 
)šš 
)šš Ÿ
{
›› 
campaign
œœ  
.
œœ  !
EMI
œœ! $
=
œœ% &
results
œœ' .
.
œœ. /
Read
œœ/ 3
<
œœ3 4'
CampaignEMIPropertyEntity
œœ4 M
>
œœM N
(
œœN O
)
œœO P
.
œœP Q
SingleOrDefault
œœQ `
(
œœ` a
)
œœa b
;
œœb c
if
 
(
 
campaign
 $
.
$ %
EMI
% (
==
) +
null
, 0
)
0 1
{
2 3
campaign
4 <
.
< =
EMI
= @
=
A B
new
C F'
CampaignEMIPropertyEntity
G `
(
` a
)
a b
;
b c
}
d e
campaign
  
.
  !
EMIPriority
! ,
=
- .
results
/ 6
.
6 7
Read
7 ;
<
; <
PriorityEntity
< J
>
J K
(
K L
)
L M
;
M N
campaign
ŸŸ  
.
ŸŸ  !
Lead
ŸŸ! %
=
ŸŸ& '
results
ŸŸ( /
.
ŸŸ/ 0
Read
ŸŸ0 4
<
ŸŸ4 5(
CampaignLeadPropertyEntity
ŸŸ5 O
>
ŸŸO P
(
ŸŸP Q
)
ŸŸQ R
.
ŸŸR S
SingleOrDefault
ŸŸS b
(
ŸŸb c
)
ŸŸc d
;
ŸŸd e
if
   
(
   
campaign
   $
.
  $ %
Lead
  % )
==
  * ,
null
  - 1
)
  1 2
{
  3 4
campaign
  5 =
.
  = >
Lead
  > B
=
  C D
new
  E H(
CampaignLeadPropertyEntity
  I c
(
  c d
)
  d e
;
  e f
}
  g h
campaign
¡¡  
.
¡¡  !
LeadPriority
¡¡! -
=
¡¡. /
results
¡¡0 7
.
¡¡7 8
Read
¡¡8 <
<
¡¡< =
PriorityEntity
¡¡= K
>
¡¡K L
(
¡¡L M
)
¡¡M N
;
¡¡N O
}
¢¢ 
if
¤¤ 
(
¤¤ 

connection
¤¤ "
.
¤¤" #
State
¤¤# (
==
¤¤) +
ConnectionState
¤¤, ;
.
¤¤; <
Open
¤¤< @
)
¤¤@ A

connection
¥¥ "
.
¥¥" #
Close
¥¥# (
(
¥¥( )
)
¥¥) *
;
¥¥* +
}
¦¦ 
}
§§ 
catch
¨¨ 
(
¨¨ 
	Exception
¨¨ 
ex
¨¨ 
)
¨¨  
{
©© 

ErrorClass
ªª 
objErr
ªª !
=
ªª" #
new
ªª$ '

ErrorClass
ªª( 2
(
ªª2 3
ex
ªª3 5
,
ªª5 6
string
ªª7 =
.
ªª= >
Format
ªª> D
(
ªªD E
$strªªE 
,ªª ‘

campaignIdªª’ œ
)ªªœ 
)ªª 
;ªª Ÿ
}
«« 
return
­­ 
campaign
­­ 
;
­­ 
}
®® 	
public
´´ 
bool
´´ 0
"SaveManufacturerCampaignProperties
´´ 6
(
´´6 7"
CampaignPropertiesVM
´´7 K
objCampaign
´´L W
)
´´W X
{
µµ 	
bool
¶¶ 
isSaved
¶¶ 
=
¶¶ 
false
¶¶  
;
¶¶  !
try
·· 
{
¸¸ 
using
¹¹ 
(
¹¹ 
IDbConnection
¹¹ $

connection
¹¹% /
=
¹¹0 1
DatabaseHelper
¹¹2 @
.
¹¹@ A!
GetMasterConnection
¹¹A T
(
¹¹T U
)
¹¹U V
)
¹¹V W
{
ºº 

connection
»» 
.
»» 
Open
»» #
(
»»# $
)
»»$ %
;
»»% &
var
¼¼ 
param
¼¼ 
=
¼¼ 
new
¼¼  #
DynamicParameters
¼¼$ 5
(
¼¼5 6
)
¼¼6 7
;
¼¼7 8
param
½½ 
.
½½ 
Add
½½ 
(
½½ 
$str
½½ .
,
½½. /
objCampaign
½½0 ;
.
½½; <

CampaignId
½½< F
)
½½F G
;
½½G H
param
¾¾ 
.
¾¾ 
Add
¾¾ 
(
¾¾ 
$str
¾¾ 4
,
¾¾4 5
objCampaign
¾¾6 A
.
¾¾A B
HasEmiProperties
¾¾B R
)
¾¾R S
;
¾¾S T
param
¿¿ 
.
¿¿ 
Add
¿¿ 
(
¿¿ 
$str
¿¿ 7
,
¿¿7 8
objCampaign
¿¿9 D
.
¿¿D E!
EmiButtonTextMobile
¿¿E X
)
¿¿X Y
;
¿¿Y Z
param
ÀÀ 
.
ÀÀ 
Add
ÀÀ 
(
ÀÀ 
$str
ÀÀ 9
,
ÀÀ9 :
objCampaign
ÀÀ; F
.
ÀÀF G#
EmiPropertyTextMobile
ÀÀG \
)
ÀÀ\ ]
;
ÀÀ] ^
param
ÁÁ 
.
ÁÁ 
Add
ÁÁ 
(
ÁÁ 
$str
ÁÁ 8
,
ÁÁ8 9
objCampaign
ÁÁ: E
.
ÁÁE F"
EmiButtonTextDesktop
ÁÁF Z
)
ÁÁZ [
;
ÁÁ[ \
param
ÂÂ 
.
ÂÂ 
Add
ÂÂ 
(
ÂÂ 
$str
ÂÂ :
,
ÂÂ: ;
objCampaign
ÂÂ< G
.
ÂÂG H$
EmiPropertyTextDesktop
ÂÂH ^
)
ÂÂ^ _
;
ÂÂ_ `
param
ÃÃ 
.
ÃÃ 
Add
ÃÃ 
(
ÃÃ 
$str
ÃÃ /
,
ÃÃ/ 0
objCampaign
ÃÃ1 <
.
ÃÃ< =
EmiPriority
ÃÃ= H
)
ÃÃH I
;
ÃÃI J
param
ÄÄ 
.
ÄÄ 
Add
ÄÄ 
(
ÄÄ 
$str
ÄÄ 5
,
ÄÄ5 6
objCampaign
ÄÄ7 B
.
ÄÄB C
HasLeadProperties
ÄÄC T
)
ÄÄT U
;
ÄÄU V
param
ÅÅ 
.
ÅÅ 
Add
ÅÅ 
(
ÅÅ 
$str
ÅÅ 8
,
ÅÅ8 9
objCampaign
ÅÅ: E
.
ÅÅE F"
LeadButtonTextMobile
ÅÅF Z
)
ÅÅZ [
;
ÅÅ[ \
param
ÆÆ 
.
ÆÆ 
Add
ÆÆ 
(
ÆÆ 
$str
ÆÆ :
,
ÆÆ: ;
objCampaign
ÆÆ< G
.
ÆÆG H$
LeadPropertyTextMobile
ÆÆH ^
)
ÆÆ^ _
;
ÆÆ_ `
param
ÇÇ 
.
ÇÇ 
Add
ÇÇ 
(
ÇÇ 
$str
ÇÇ 9
,
ÇÇ9 :
objCampaign
ÇÇ; F
.
ÇÇF G#
LeadButtonTextDesktop
ÇÇG \
)
ÇÇ\ ]
;
ÇÇ] ^
param
ÈÈ 
.
ÈÈ 
Add
ÈÈ 
(
ÈÈ 
$str
ÈÈ ;
,
ÈÈ; <
objCampaign
ÈÈ= H
.
ÈÈH I%
LeadPropertyTextDesktop
ÈÈI `
)
ÈÈ` a
;
ÈÈa b
param
ÉÉ 
.
ÉÉ 
Add
ÉÉ 
(
ÉÉ 
$str
ÉÉ 0
,
ÉÉ0 1
objCampaign
ÉÉ2 =
.
ÉÉ= >
LeadPriority
ÉÉ> J
)
ÉÉJ K
;
ÉÉK L
param
ÊÊ 
.
ÊÊ 
Add
ÊÊ 
(
ÊÊ 
$str
ÊÊ 2
,
ÊÊ2 3
objCampaign
ÊÊ4 ?
.
ÊÊ? @!
FormattedHtmlMobile
ÊÊ@ S
)
ÊÊS T
;
ÊÊT U
param
ËË 
.
ËË 
Add
ËË 
(
ËË 
$str
ËË 3
,
ËË3 4
objCampaign
ËË5 @
.
ËË@ A"
FormattedHtmlDesktop
ËËA U
)
ËËU V
;
ËËV W

connection
ÌÌ 
.
ÌÌ 
Query
ÌÌ $
<
ÌÌ$ %
dynamic
ÌÌ% ,
>
ÌÌ, -
(
ÌÌ- .
$str
ÌÌ. R
,
ÌÌR S
param
ÌÌT Y
:
ÌÌY Z
param
ÌÌ[ `
,
ÌÌ` a
commandType
ÌÌb m
:
ÌÌm n
CommandType
ÌÌo z
.
ÌÌz {
StoredProcedureÌÌ{ Š
)ÌÌŠ ‹
;ÌÌ‹ Œ
if
ÎÎ 
(
ÎÎ 

connection
ÎÎ "
.
ÎÎ" #
State
ÎÎ# (
==
ÎÎ) +
ConnectionState
ÎÎ, ;
.
ÎÎ; <
Open
ÎÎ< @
)
ÎÎ@ A

connection
ÏÏ "
.
ÏÏ" #
Close
ÏÏ# (
(
ÏÏ( )
)
ÏÏ) *
;
ÏÏ* +
isSaved
ĞĞ 
=
ĞĞ 
true
ĞĞ "
;
ĞĞ" #
}
ÑÑ 
}
ÒÒ 
catch
ÓÓ 
(
ÓÓ 
	Exception
ÓÓ 
ex
ÓÓ 
)
ÓÓ  
{
ÔÔ 

ErrorClass
ÕÕ 
objErr
ÕÕ !
=
ÕÕ" #
new
ÕÕ$ '

ErrorClass
ÕÕ( 2
(
ÕÕ2 3
ex
ÕÕ3 5
,
ÕÕ5 6
$str
ÕÕ7 }
)
ÕÕ} ~
;
ÕÕ~ 
}
ÖÖ 
return
×× 
isSaved
×× 
;
×× 
}
ØØ 	
public
İİ 
IEnumerable
İİ 
<
İİ 
BikeModelEntity
İİ *
>
İİ* +
GetBikeModels
İİ, 9
(
İİ9 :
uint
İİ: >
makeId
İİ? E
)
İİE F
{
ŞŞ 	
IEnumerable
ßß 
<
ßß 
BikeModelEntity
ßß '
>
ßß' (

bikeModels
ßß) 3
=
ßß4 5
null
ßß6 :
;
ßß: ;
try
àà 
{
áá 
using
ââ 
(
ââ 
IDbConnection
ââ $

connection
ââ% /
=
ââ0 1
DatabaseHelper
ââ2 @
.
ââ@ A!
GetMasterConnection
ââA T
(
ââT U
)
ââU V
)
ââV W
{
ãã 

connection
ää 
.
ää 
Open
ää #
(
ää# $
)
ää$ %
;
ää% &
var
åå 
param
åå 
=
åå 
new
åå  #
DynamicParameters
åå$ 5
(
åå5 6
)
åå6 7
;
åå7 8
param
ææ 
.
ææ 
Add
ææ 
(
ææ 
$str
ææ *
,
ææ* +
makeId
ææ, 2
)
ææ2 3
;
ææ3 4

bikeModels
çç 
=
çç  

connection
çç! +
.
çç+ ,
Query
çç, 1
<
çç1 2
BikeModelEntity
çç2 A
>
ççA B
(
ççB C
$str
ççC Z
,
ççZ [
param
çç\ a
:
çça b
param
ççc h
,
ççh i
commandType
ççj u
:
ççu v
CommandTypeççw ‚
.çç‚ ƒ
StoredProcedureççƒ ’
)çç’ “
;çç“ ”
if
éé 
(
éé 

connection
éé "
.
éé" #
State
éé# (
==
éé) +
ConnectionState
éé, ;
.
éé; <
Open
éé< @
)
éé@ A

connection
êê "
.
êê" #
Close
êê# (
(
êê( )
)
êê) *
;
êê* +
}
ëë 
}
ìì 
catch
íí 
(
íí 
	Exception
íí 
ex
íí 
)
íí  
{
îî 

ErrorClass
ïï 
objErr
ïï !
=
ïï" #
new
ïï$ '

ErrorClass
ïï( 2
(
ïï2 3
ex
ïï3 5
,
ïï5 6
string
ïï7 =
.
ïï= >
Format
ïï> D
(
ïïD E
$strïïE „
,ïï„ …
makeIdïï† Œ
)ïïŒ 
)ïï 
;ïï 
}
ğğ 
return
ññ 

bikeModels
ññ 
;
ññ 
}
òò 	
public
÷÷ 
IEnumerable
÷÷ 
<
÷÷ 
StateEntity
÷÷ &
>
÷÷& '
	GetStates
÷÷( 1
(
÷÷1 2
)
÷÷2 3
{
øø 	
IEnumerable
ùù 
<
ùù 
StateEntity
ùù #
>
ùù# $
states
ùù% +
=
ùù, -
null
ùù. 2
;
ùù2 3
try
úú 
{
ûû 
using
üü 
(
üü 
IDbConnection
üü $

connection
üü% /
=
üü0 1
DatabaseHelper
üü2 @
.
üü@ A!
GetMasterConnection
üüA T
(
üüT U
)
üüU V
)
üüV W
{
ıı 

connection
şş 
.
şş 
Open
şş #
(
şş# $
)
şş$ %
;
şş% &
var
ÿÿ 
param
ÿÿ 
=
ÿÿ 
new
ÿÿ  #
DynamicParameters
ÿÿ$ 5
(
ÿÿ5 6
)
ÿÿ6 7
;
ÿÿ7 8
states
€€ 
=
€€ 

connection
€€ '
.
€€' (
Query
€€( -
<
€€- .
StateEntity
€€. 9
>
€€9 :
(
€€: ;
$str
€€; O
,
€€O P
param
€€Q V
:
€€V W
param
€€X ]
,
€€] ^
commandType
€€_ j
:
€€j k
CommandType
€€l w
.
€€w x
StoredProcedure€€x ‡
)€€‡ ˆ
;€€ˆ ‰
if
‚‚ 
(
‚‚ 

connection
‚‚ "
.
‚‚" #
State
‚‚# (
==
‚‚) +
ConnectionState
‚‚, ;
.
‚‚; <
Open
‚‚< @
)
‚‚@ A

connection
ƒƒ "
.
ƒƒ" #
Close
ƒƒ# (
(
ƒƒ( )
)
ƒƒ) *
;
ƒƒ* +
}
„„ 
}
…… 
catch
†† 
(
†† 
	Exception
†† 
ex
†† 
)
††  
{
‡‡ 

ErrorClass
ˆˆ 
objErr
ˆˆ !
=
ˆˆ" #
new
ˆˆ$ '

ErrorClass
ˆˆ( 2
(
ˆˆ2 3
ex
ˆˆ3 5
,
ˆˆ5 6
$str
ˆˆ7 d
)
ˆˆd e
;
ˆˆe f
}
‰‰ 
return
ŠŠ 
states
ŠŠ 
;
ŠŠ 
}
‹‹ 	
public
 
IEnumerable
 
<
 

CityEntity
 %
>
% &
GetCitiesByState
' 7
(
7 8
uint
8 <
stateId
= D
)
D E
{
‘‘ 	
IEnumerable
’’ 
<
’’ 

CityEntity
’’ "
>
’’" #
cities
’’$ *
=
’’+ ,
null
’’- 1
;
’’1 2
try
““ 
{
”” 
using
•• 
(
•• 
IDbConnection
•• $

connection
••% /
=
••0 1
DatabaseHelper
••2 @
.
••@ A!
GetMasterConnection
••A T
(
••T U
)
••U V
)
••V W
{
–– 

connection
—— 
.
—— 
Open
—— #
(
——# $
)
——$ %
;
——% &
var
˜˜ 
param
˜˜ 
=
˜˜ 
new
˜˜  #
DynamicParameters
˜˜$ 5
(
˜˜5 6
)
˜˜6 7
;
˜˜7 8
param
™™ 
.
™™ 
Add
™™ 
(
™™ 
$str
™™ +
,
™™+ ,
stateId
™™- 4
)
™™4 5
;
™™5 6
cities
šš 
=
šš 

connection
šš '
.
šš' (
Query
šš( -
<
šš- .

CityEntity
šš. 8
>
šš8 9
(
šš9 :
$str
šš: L
,
ššL M
param
ššN S
:
ššS T
param
ššU Z
,
ššZ [
commandType
šš\ g
:
ššg h
CommandType
šši t
.
ššt u
StoredProcedureššu „
)šš„ …
;šš… †
if
œœ 
(
œœ 

connection
œœ "
.
œœ" #
State
œœ# (
==
œœ) +
ConnectionState
œœ, ;
.
œœ; <
Open
œœ< @
)
œœ@ A

connection
 "
.
" #
Close
# (
(
( )
)
) *
;
* +
}
 
}
ŸŸ 
catch
   
(
   
	Exception
   
ex
   
)
    
{
¡¡ 

ErrorClass
¢¢ 
objErr
¢¢ !
=
¢¢" #
new
¢¢$ '

ErrorClass
¢¢( 2
(
¢¢2 3
ex
¢¢3 5
,
¢¢5 6
string
¢¢7 =
.
¢¢= >
Format
¢¢> D
(
¢¢D E
$str¢¢E ˆ
,¢¢ˆ ‰
stateId¢¢Š ‘
)¢¢‘ ’
)¢¢’ “
;¢¢“ ”
}
££ 
return
¤¤ 
cities
¤¤ 
;
¤¤ 
}
¥¥ 	
public
ªª .
 ManufacturerCampaignRulesWrapper
ªª /*
GetManufacturerCampaignRules
ªª0 L
(
ªªL M
uint
ªªM Q

campaignId
ªªR \
)
ªª\ ]
{
«« 	.
 ManufacturerCampaignRulesWrapper
¬¬ ,
mfgRules
¬¬- 5
=
¬¬6 7
null
¬¬8 <
;
¬¬< =
try
­­ 
{
®® 
using
¯¯ 
(
¯¯ 
IDbConnection
¯¯ $

connection
¯¯% /
=
¯¯0 1
DatabaseHelper
¯¯2 @
.
¯¯@ A!
GetMasterConnection
¯¯A T
(
¯¯T U
)
¯¯U V
)
¯¯V W
{
°° 

connection
±± 
.
±± 
Open
±± #
(
±±# $
)
±±$ %
;
±±% &
var
²² 
param
²² 
=
²² 
new
²²  #
DynamicParameters
²²$ 5
(
²²5 6
)
²²6 7
;
²²7 8
param
³³ 
.
³³ 
Add
³³ 
(
³³ 
$str
³³ .
,
³³. /

campaignId
³³0 :
)
³³: ;
;
³³; <
mfgRules
´´ 
=
´´ 
new
´´ ".
 ManufacturerCampaignRulesWrapper
´´# C
(
´´C D
)
´´D E
;
´´E F
using
µµ 
(
µµ 
var
µµ 
results
µµ &
=
µµ' (

connection
µµ) 3
.
µµ3 4
QueryMultiple
µµ4 A
(
µµA B
$str
µµB `
,
µµ` a
param
µµb g
:
µµg h
param
µµi n
,
µµn o
commandType
µµp {
:
µµ{ |
CommandTypeµµ} ˆ
.µµˆ ‰
StoredProcedureµµ‰ ˜
)µµ˜ ™
)µµ™ š
{
¶¶ 
mfgRules
··  
.
··  !'
ManufacturerCampaignRules
··! :
=
··; <
results
··= D
.
··D E
Read
··E I
<
··I J$
ManufacturerRuleEntity
··J `
>
··` a
(
··a b
)
··b c
;
··c d
mfgRules
¸¸  
.
¸¸  !
ShowOnExShowroom
¸¸! 1
=
¸¸2 3
results
¸¸4 ;
.
¸¸; <
Read
¸¸< @
<
¸¸@ A
bool
¸¸A E
>
¸¸E F
(
¸¸F G
)
¸¸G H
.
¸¸H I
SingleOrDefault
¸¸I X
(
¸¸X Y
)
¸¸Y Z
;
¸¸Z [
}
¹¹ 
if
ºº 
(
ºº 

connection
ºº "
.
ºº" #
State
ºº# (
==
ºº) +
ConnectionState
ºº, ;
.
ºº; <
Open
ºº< @
)
ºº@ A

connection
»» "
.
»»" #
Close
»»# (
(
»»( )
)
»») *
;
»»* +
}
¼¼ 
}
½½ 
catch
¾¾ 
(
¾¾ 
	Exception
¾¾ 
ex
¾¾ 
)
¾¾  
{
¿¿ 

ErrorClass
ÀÀ 
objErr
ÀÀ !
=
ÀÀ" #
new
ÀÀ$ '

ErrorClass
ÀÀ( 2
(
ÀÀ2 3
ex
ÀÀ3 5
,
ÀÀ5 6
string
ÀÀ7 =
.
ÀÀ= >
Format
ÀÀ> D
(
ÀÀD E
$strÀÀE —
,ÀÀ— ˜

campaignIdÀÀ™ £
)ÀÀ£ ¤
)ÀÀ¤ ¥
;ÀÀ¥ ¦
}
ÁÁ 
return
ÂÂ 
mfgRules
ÂÂ 
;
ÂÂ 
}
ÃÃ 	
public
ÅÅ 
uint
ÅÅ &
saveManufacturerCampaign
ÅÅ ,
(
ÅÅ, -#
ConfigureCampaignSave
ÅÅ- B
objCampaign
ÅÅC N
)
ÅÅN O
{
ÆÆ 	
uint
ÇÇ 

campaignId
ÇÇ 
=
ÇÇ 
$num
ÇÇ 
;
ÇÇ  
try
ÈÈ 
{
ÉÉ 
using
ÊÊ 
(
ÊÊ 
IDbConnection
ÊÊ $

connection
ÊÊ% /
=
ÊÊ0 1
DatabaseHelper
ÊÊ2 @
.
ÊÊ@ A!
GetMasterConnection
ÊÊA T
(
ÊÊT U
)
ÊÊU V
)
ÊÊV W
{
ËË 

connection
ÌÌ 
.
ÌÌ 
Open
ÌÌ #
(
ÌÌ# $
)
ÌÌ$ %
;
ÌÌ% &
var
ÍÍ 
param
ÍÍ 
=
ÍÍ 
new
ÍÍ  #
DynamicParameters
ÍÍ$ 5
(
ÍÍ5 6
)
ÍÍ6 7
;
ÍÍ7 8
param
ÎÎ 
.
ÎÎ 
Add
ÎÎ 
(
ÎÎ 
$str
ÎÎ *
,
ÎÎ* +
objCampaign
ÎÎ, 7
.
ÎÎ7 8
UserId
ÎÎ8 >
)
ÎÎ> ?
;
ÎÎ? @
param
ÏÏ 
.
ÏÏ 
Add
ÏÏ 
(
ÏÏ 
$str
ÏÏ ,
,
ÏÏ, -
objCampaign
ÏÏ. 9
.
ÏÏ9 :
DealerId
ÏÏ: B
)
ÏÏB C
;
ÏÏC D
param
ĞĞ 
.
ĞĞ 
Add
ĞĞ 
(
ĞĞ 
$str
ĞĞ /
,
ĞĞ/ 0
objCampaign
ĞĞ1 <
.
ĞĞ< =
Description
ĞĞ= H
)
ĞĞH I
;
ĞĞI J
param
ÑÑ 
.
ÑÑ 
Add
ÑÑ 
(
ÑÑ 
$str
ÑÑ 1
,
ÑÑ1 2
objCampaign
ÑÑ3 >
.
ÑÑ> ?
MaskingNumber
ÑÑ? L
)
ÑÑL M
;
ÑÑM N
if
ÒÒ 
(
ÒÒ 
objCampaign
ÒÒ #
.
ÒÒ# $
DailyLeadLimit
ÒÒ$ 2
>
ÒÒ3 4
$num
ÒÒ5 6
)
ÒÒ6 7
param
ÓÓ 
.
ÓÓ 
Add
ÓÓ !
(
ÓÓ! "
$str
ÓÓ" 6
,
ÓÓ6 7
objCampaign
ÓÓ8 C
.
ÓÓC D
DailyLeadLimit
ÓÓD R
)
ÓÓR S
;
ÓÓS T
else
ÔÔ 
param
ÕÕ 
.
ÕÕ 
Add
ÕÕ !
(
ÕÕ! "
$str
ÕÕ" 6
,
ÕÕ6 7
null
ÕÕ8 <
)
ÕÕ< =
;
ÕÕ= >
if
ÖÖ 
(
ÖÖ 
objCampaign
ÖÖ #
.
ÖÖ# $
TotalLeadLimit
ÖÖ$ 2
>
ÖÖ3 4
$num
ÖÖ5 6
)
ÖÖ6 7
param
×× 
.
×× 
Add
×× !
(
××! "
$str
××" 6
,
××6 7
objCampaign
××8 C
.
××C D
TotalLeadLimit
××D R
)
××R S
;
××S T
else
ØØ 
param
ÙÙ 
.
ÙÙ 
Add
ÙÙ !
(
ÙÙ! "
$str
ÙÙ" 6
,
ÙÙ6 7
null
ÙÙ8 <
)
ÙÙ< =
;
ÙÙ= >
param
ÚÚ 
.
ÚÚ 
Add
ÚÚ 
(
ÚÚ 
$str
ÚÚ 1
,
ÚÚ1 2
objCampaign
ÚÚ3 >
.
ÚÚ> ?
CampaignPages
ÚÚ? L
)
ÚÚL M
;
ÚÚM N
param
ÛÛ 
.
ÛÛ 
Add
ÛÛ 
(
ÛÛ 
$str
ÛÛ -
,
ÛÛ- .
objCampaign
ÛÛ/ :
.
ÛÛ: ;
	StartDate
ÛÛ; D
)
ÛÛD E
;
ÛÛE F
param
ÜÜ 
.
ÜÜ 
Add
ÜÜ 
(
ÜÜ 
$str
ÜÜ +
,
ÜÜ+ ,
objCampaign
ÜÜ- 8
.
ÜÜ8 9
EndDate
ÜÜ9 @
??
ÜÜA C
null
ÜÜD H
)
ÜÜH I
;
ÜÜI J
param
İİ 
.
İİ 
Add
İİ 
(
İİ 
$str
İİ 9
,
İİ9 :
objCampaign
İİ; F
.
İİF G#
ShowOnExShowroomPrice
İİG \
)
İİ\ ]
;
İİ] ^
param
ŞŞ 
.
ŞŞ 
Add
ŞŞ 
(
ŞŞ 
$str
ŞŞ .
,
ŞŞ. /
objCampaign
ŞŞ0 ;
.
ŞŞ; <

CampaignId
ŞŞ< F
,
ŞŞF G
dbType
ŞŞH N
:
ŞŞN O
DbType
ŞŞP V
.
ŞŞV W
Int32
ŞŞW \
,
ŞŞ\ ]
	direction
ŞŞ^ g
:
ŞŞg h 
ParameterDirection
ŞŞi {
.
ŞŞ{ |
InputOutputŞŞ| ‡
)ŞŞ‡ ˆ
;ŞŞˆ ‰

connection
ßß 
.
ßß 
Query
ßß $
<
ßß$ %
dynamic
ßß% ,
>
ßß, -
(
ßß- .
$str
ßß. Q
,
ßßQ R
param
ßßS X
:
ßßX Y
param
ßßZ _
,
ßß_ `
commandType
ßßa l
:
ßßl m
CommandType
ßßn y
.
ßßy z
StoredProcedureßßz ‰
)ßß‰ Š
;ßßŠ ‹

campaignId
àà 
=
àà  
(
àà! "
uint
àà" &
)
àà& '
param
àà' ,
.
àà, -
Get
àà- 0
<
àà0 1
int
àà1 4
>
àà4 5
(
àà5 6
$str
àà6 F
)
ààF G
;
ààG H
if
áá 
(
áá 

connection
áá "
.
áá" #
State
áá# (
==
áá) +
ConnectionState
áá, ;
.
áá; <
Open
áá< @
)
áá@ A

connection
ââ "
.
ââ" #
Close
ââ# (
(
ââ( )
)
ââ) *
;
ââ* +
}
ãã 
}
ää 
catch
åå 
(
åå 
	Exception
åå 
ex
åå 
)
åå  
{
ææ 

ErrorClass
çç 
objErr
çç !
=
çç" #
new
çç$ '

ErrorClass
çç( 2
(
çç2 3
ex
çç3 5
,
çç5 6
$str
çç7 s
)
ççs t
;
ççt u
}
èè 
return
éé 

campaignId
éé 
;
éé 
}
êê 	
public
íí 
void
íí +
saveManufacturerCampaignPopup
íí 1
(
íí1 2'
ManufacturerCampaignPopup
íí2 K
objCampaign
ííL W
)
ííW X
{
îî 	
try
ğğ 
{
ññ 
using
òò 
(
òò 
IDbConnection
òò $

connection
òò% /
=
òò0 1
DatabaseHelper
òò2 @
.
òò@ A!
GetMasterConnection
òòA T
(
òòT U
)
òòU V
)
òòV W
{
óó 

connection
ôô 
.
ôô 
Open
ôô #
(
ôô# $
)
ôô$ %
;
ôô% &
var
õõ 
param
õõ 
=
õõ 
new
õõ  #
DynamicParameters
õõ$ 5
(
õõ5 6
)
õõ6 7
;
õõ7 8
param
öö 
.
öö 
Add
öö 
(
öö 
$str
öö .
,
öö. /
objCampaign
öö0 ;
.
öö; <

CampaignId
öö< F
)
ööF G
;
ööG H
param
÷÷ 
.
÷÷ 
Add
÷÷ 
(
÷÷ 
$str
÷÷ 0
,
÷÷0 1
objCampaign
÷÷2 =
.
÷÷= >
PopupHeading
÷÷> J
)
÷÷J K
;
÷÷K L
param
øø 
.
øø 
Add
øø 
(
øø 
$str
øø 4
,
øø4 5
objCampaign
øø6 A
.
øøA B
PopupDescription
øøB R
)
øøR S
;
øøS T
param
ùù 
.
ùù 
Add
ùù 
(
ùù 
$str
ùù 7
,
ùù7 8
objCampaign
ùù9 D
.
ùùD E!
PopupSuccessMessage
ùùE X
)
ùùX Y
;
ùùY Z
param
úú 
.
úú 
Add
úú 
(
úú 
$str
úú 1
,
úú1 2
objCampaign
úú3 >
.
úú> ?
EmailRequired
úú? L
?
úúM N
$num
úúO P
:
úúQ R
$num
úúS T
)
úúT U
;
úúU V
param
ûû 
.
ûû 
Add
ûû 
(
ûû 
$str
ûû 3
,
ûû3 4
objCampaign
ûû5 @
.
ûû@ A
PinCodeRequired
ûûA P
?
ûûQ R
$num
ûûS T
:
ûûU V
$num
ûûW X
)
ûûX Y
;
ûûY Z
param
üü 
.
üü 
Add
üü 
(
üü 
$str
üü 2
,
üü2 3
objCampaign
üü4 ?
.
üü? @
DealerRequired
üü@ N
?
üüO P
$num
üüQ R
:
üüS T
$num
üüU V
)
üüV W
;
üüW X

connection
ıı 
.
ıı 
Query
ıı $
<
ıı$ %
dynamic
ıı% ,
>
ıı, -
(
ıı- .
$str
ıı. M
,
ııM N
param
ııO T
:
ııT U
param
ııV [
,
ıı[ \
commandType
ıı] h
:
ııh i
CommandType
ııj u
.
ııu v
StoredProcedureııv …
)ıı… †
;ıı† ‡
if
ÿÿ 
(
ÿÿ 

connection
ÿÿ "
.
ÿÿ" #
State
ÿÿ# (
==
ÿÿ) +
ConnectionState
ÿÿ, ;
.
ÿÿ; <
Open
ÿÿ< @
)
ÿÿ@ A

connection
€€ "
.
€€" #
Close
€€# (
(
€€( )
)
€€) *
;
€€* +
}
 
}
‚‚ 
catch
ƒƒ 
(
ƒƒ 
	Exception
ƒƒ 
ex
ƒƒ 
)
ƒƒ  
{
„„ 

ErrorClass
…… 
objErr
…… !
=
……" #
new
……$ '

ErrorClass
……( 2
(
……2 3
ex
……3 5
,
……5 6
$str
……7 x
)
……x y
;
……y z
}
†† 
}
ˆˆ 	
public
 
bool
 +
SaveManufacturerCampaignRules
 1
(
1 2
uint
2 6

campaignId
7 A
,
A B
string
C I
modelIds
J R
,
R S
string
T Z
stateIds
[ c
,
c d
string
e k
cityIds
l s
,
s t
bool
u y

isAllIndiaz „
,„ …
uint† Š
userId‹ ‘
)‘ ’
{
 	
bool
 
	isSuccess
 
=
 
false
 "
;
" #
try
‘‘ 
{
’’ 
using
““ 
(
““ 
IDbConnection
““ $

connection
““% /
=
““0 1
DatabaseHelper
““2 @
.
““@ A!
GetMasterConnection
““A T
(
““T U
)
““U V
)
““V W
{
”” 

connection
•• 
.
•• 
Open
•• #
(
••# $
)
••$ %
;
••% &
var
–– 
param
–– 
=
–– 
new
––  #
DynamicParameters
––$ 5
(
––5 6
)
––6 7
;
––7 8
param
—— 
.
—— 
Add
—— 
(
—— 
$str
—— .
,
——. /

campaignId
——0 :
)
——: ;
;
——; <
param
˜˜ 
.
˜˜ 
Add
˜˜ 
(
˜˜ 
$str
˜˜ ,
,
˜˜, -
modelIds
˜˜. 6
)
˜˜6 7
;
˜˜7 8
param
™™ 
.
™™ 
Add
™™ 
(
™™ 
$str
™™ ,
,
™™, -
stateIds
™™. 6
)
™™6 7
;
™™7 8
param
šš 
.
šš 
Add
šš 
(
šš 
$str
šš +
,
šš+ ,
cityIds
šš- 4
)
šš4 5
;
šš5 6
param
›› 
.
›› 
Add
›› 
(
›› 
$str
›› -
,
››- .
userId
››/ 5
)
››5 6
;
››6 7
param
œœ 
.
œœ 
Add
œœ 
(
œœ 
$str
œœ .
,
œœ. /

isAllIndia
œœ0 :
)
œœ: ;
;
œœ; <

connection
 
.
 
Query
 $
<
$ %
dynamic
% ,
>
, -
(
- .
$str
. V
,
V W
param
X ]
:
] ^
param
_ d
,
d e
commandType
f q
:
q r
CommandType
s ~
.
~ 
StoredProcedure 
) 
; 
	isSuccess
 
=
 
true
  $
;
$ %
if
ŸŸ 
(
ŸŸ 

connection
ŸŸ "
.
ŸŸ" #
State
ŸŸ# (
==
ŸŸ) +
ConnectionState
ŸŸ, ;
.
ŸŸ; <
Open
ŸŸ< @
)
ŸŸ@ A

connection
   "
.
  " #
Close
  # (
(
  ( )
)
  ) *
;
  * +
}
¡¡ 
}
££ 
catch
¤¤ 
(
¤¤ 
	Exception
¤¤ 
ex
¤¤ 
)
¤¤  
{
¥¥ 

ErrorClass
¦¦ 
objErr
¦¦ !
=
¦¦" #
new
¦¦$ '

ErrorClass
¦¦( 2
(
¦¦2 3
ex
¦¦3 5
,
¦¦5 6
string
¦¦7 =
.
¦¦= >
Format
¦¦> D
(
¦¦D E
$str¦¦E æ
,¦¦æ ç

campaignId¦¦è ò
,¦¦ò ó
modelIds¦¦ô ü
,¦¦ü ı
stateIds¦¦ş †
,¦¦† ‡
cityIds¦¦ˆ 
,¦¦ 

isAllIndia¦¦‘ ›
,¦¦› œ
userId¦¦ £
)¦¦£ ¤
)¦¦¤ ¥
;¦¦¥ ¦
}
§§ 
return
¨¨ 
	isSuccess
¨¨ 
;
¨¨ 
}
©© 	
public
¯¯ 
bool
¯¯ -
DeleteManufacturerCampaignRules
¯¯ 3
(
¯¯3 4
uint
¯¯4 8

campaignId
¯¯9 C
,
¯¯C D
uint
¯¯E I
modelId
¯¯J Q
,
¯¯Q R
uint
¯¯S W
stateId
¯¯X _
,
¯¯_ `
uint
¯¯a e
cityId
¯¯f l
,
¯¯l m
uint
¯¯n r
userId
¯¯s y
,
¯¯y z
bool
¯¯{ 

isAllIndia¯¯€ Š
)¯¯Š ‹
{
°° 	
bool
±± 
	isSuccess
±± 
=
±± 
false
±± "
;
±±" #
try
²² 
{
³³ 
using
µµ 
(
µµ 
IDbConnection
µµ $

connection
µµ% /
=
µµ0 1
DatabaseHelper
µµ2 @
.
µµ@ A!
GetMasterConnection
µµA T
(
µµT U
)
µµU V
)
µµV W
{
¶¶ 

connection
·· 
.
·· 
Open
·· #
(
··# $
)
··$ %
;
··% &
var
¸¸ 
param
¸¸ 
=
¸¸ 
new
¸¸  #
DynamicParameters
¸¸$ 5
(
¸¸5 6
)
¸¸6 7
;
¸¸7 8
param
¹¹ 
.
¹¹ 
Add
¹¹ 
(
¹¹ 
$str
¹¹ .
,
¹¹. /

campaignId
¹¹0 :
)
¹¹: ;
;
¹¹; <
param
ºº 
.
ºº 
Add
ºº 
(
ºº 
$str
ºº +
,
ºº+ ,
modelId
ºº- 4
)
ºº4 5
;
ºº5 6
param
»» 
.
»» 
Add
»» 
(
»» 
$str
»» +
,
»»+ ,
stateId
»»- 4
)
»»4 5
;
»»5 6
param
¼¼ 
.
¼¼ 
Add
¼¼ 
(
¼¼ 
$str
¼¼ *
,
¼¼* +
cityId
¼¼, 2
)
¼¼2 3
;
¼¼3 4
param
½½ 
.
½½ 
Add
½½ 
(
½½ 
$str
½½ -
,
½½- .
userId
½½/ 5
)
½½5 6
;
½½6 7
param
¾¾ 
.
¾¾ 
Add
¾¾ 
(
¾¾ 
$str
¾¾ .
,
¾¾. /

isAllIndia
¾¾0 :
)
¾¾: ;
;
¾¾; <

connection
¿¿ 
.
¿¿ 
Query
¿¿ $
<
¿¿$ %
dynamic
¿¿% ,
>
¿¿, -
(
¿¿- .
$str
¿¿. X
,
¿¿X Y
param
¿¿Z _
:
¿¿_ `
param
¿¿a f
,
¿¿f g
commandType
¿¿h s
:
¿¿s t
CommandType¿¿u €
.¿¿€ 
StoredProcedure¿¿ 
)¿¿ ‘
;¿¿‘ ’
	isSuccess
ÀÀ 
=
ÀÀ 
true
ÀÀ  $
;
ÀÀ$ %
if
ÁÁ 
(
ÁÁ 

connection
ÁÁ "
.
ÁÁ" #
State
ÁÁ# (
==
ÁÁ) +
ConnectionState
ÁÁ, ;
.
ÁÁ; <
Open
ÁÁ< @
)
ÁÁ@ A

connection
ÂÂ "
.
ÂÂ" #
Close
ÂÂ# (
(
ÂÂ( )
)
ÂÂ) *
;
ÂÂ* +
}
ÃÃ 
}
ÄÄ 
catch
ÅÅ 
(
ÅÅ 
	Exception
ÅÅ 
ex
ÅÅ 
)
ÅÅ  
{
ÆÆ 

ErrorClass
ÇÇ 
objErr
ÇÇ !
=
ÇÇ" #
new
ÇÇ$ '

ErrorClass
ÇÇ( 2
(
ÇÇ2 3
ex
ÇÇ3 5
,
ÇÇ5 6
string
ÇÇ7 =
.
ÇÇ= >
Format
ÇÇ> D
(
ÇÇD E
$strÇÇE Ó
,ÇÇÓ Ô

campaignIdÇÇÕ ß
,ÇÇß à
modelIdÇÇá è
,ÇÇè é
stateIdÇÇê ñ
,ÇÇñ ò
cityIdÇÇó ù
,ÇÇù ú
userIdÇÇû 
)ÇÇ ‚
)ÇÇ‚ ƒ
;ÇÇƒ „
}
ÈÈ 
return
ÉÉ 
	isSuccess
ÉÉ 
;
ÉÉ 
}
ÊÊ 	
public
ÔÔ 
Entities
ÔÔ 
.
ÔÔ (
ManufacturerCampaignEntity
ÔÔ 2
GetCampaigns
ÔÔ3 ?
(
ÔÔ? @
uint
ÔÔ@ D
modelId
ÔÔE L
,
ÔÔL M
uint
ÔÔN R
cityId
ÔÔS Y
,
ÔÔY Z.
 ManufacturerCampaignServingPages
ÔÔ[ {
pageIdÔÔ| ‚
)ÔÔ‚ ƒ
{
ÕÕ 	
Entities
ÖÖ 
.
ÖÖ (
ManufacturerCampaignEntity
ÖÖ /
config
ÖÖ0 6
=
ÖÖ7 8
null
ÖÖ9 =
;
ÖÖ= >
try
×× 
{
ØØ 
using
ÙÙ 
(
ÙÙ 
IDbConnection
ÙÙ $

connection
ÙÙ% /
=
ÙÙ0 1
DatabaseHelper
ÙÙ2 @
.
ÙÙ@ A#
GetReadonlyConnection
ÙÙA V
(
ÙÙV W
)
ÙÙW X
)
ÙÙX Y
{
ÚÚ 

connection
ÛÛ 
.
ÛÛ 
Open
ÛÛ #
(
ÛÛ# $
)
ÛÛ$ %
;
ÛÛ% &
var
ÜÜ 
param
ÜÜ 
=
ÜÜ 
new
ÜÜ  #
DynamicParameters
ÜÜ$ 5
(
ÜÜ5 6
)
ÜÜ6 7
;
ÜÜ7 8
param
İİ 
.
İİ 
Add
İİ 
(
İİ 
$str
İİ +
,
İİ+ ,
modelId
İİ- 4
)
İİ4 5
;
İİ5 6
param
ŞŞ 
.
ŞŞ 
Add
ŞŞ 
(
ŞŞ 
$str
ŞŞ *
,
ŞŞ* +
cityId
ŞŞ, 2
)
ŞŞ2 3
;
ŞŞ3 4
param
ßß 
.
ßß 
Add
ßß 
(
ßß 
$str
ßß *
,
ßß* +
(
ßß, -
int
ßß- 0
)
ßß0 1
pageId
ßß1 7
)
ßß7 8
;
ßß8 9
using
àà 
(
àà 
var
àà 
results
àà &
=
àà' (

connection
àà) 3
.
àà3 4
QueryMultiple
àà4 A
(
ààA B
$str
ààB f
,
ààf g
param
ààh m
:
ààm n
param
àào t
,
ààt u
commandTypeààv 
:àà ‚
CommandTypeààƒ 
.àà 
StoredProcedureàà 
)àà Ÿ
)ààŸ  
{
áá 
config
ââ 
=
ââ  
new
ââ! $
Entities
ââ% -
.
ââ- .(
ManufacturerCampaignEntity
ââ. H
(
ââH I
)
ââI J
;
ââJ K
config
ãã 
.
ãã 
LeadCampaign
ãã +
=
ãã, -
results
ãã. 5
.
ãã5 6
Read
ãã6 :
<
ãã: ;3
%ManufacturerCampaignLeadConfiguration
ãã; `
>
ãã` a
(
ããa b
)
ããb c
.
ããc d
FirstOrDefault
ããd r
(
ããr s
)
ããs t
;
ããt u
config
ää 
.
ää 
EMICampaign
ää *
=
ää+ ,
results
ää- 4
.
ää4 5
Read
ää5 9
<
ää9 :2
$ManufacturerCampaignEMIConfiguration
ää: ^
>
ää^ _
(
ää_ `
)
ää` a
.
ääa b
FirstOrDefault
ääb p
(
ääp q
)
ääq r
;
äär s
}
åå 
if
ææ 
(
ææ 

connection
ææ "
.
ææ" #
State
ææ# (
==
ææ) +
ConnectionState
ææ, ;
.
ææ; <
Open
ææ< @
)
ææ@ A

connection
çç "
.
çç" #
Close
çç# (
(
çç( )
)
çç) *
;
çç* +
}
èè 
}
éé 
catch
êê 
(
êê 
	Exception
êê 
ex
êê 
)
êê  
{
ëë 

ErrorClass
ìì 
objErr
ìì !
=
ìì" #
new
ìì$ '

ErrorClass
ìì( 2
(
ìì2 3
ex
ìì3 5
,
ìì5 6
string
ìì7 =
.
ìì= >
Format
ìì> D
(
ììD E
$str
ììE 
,ìì €
modelIdìì ˆ
,ììˆ ‰
cityIdììŠ 
,ìì ‘
pageIdìì’ ˜
)ìì˜ ™
)ìì™ š
;ììš ›
}
íí 
return
îî 
config
îî 
;
îî 
}
ïï 	
public
 
uint
 *
SaveManufacturerCampaignLead
 0
(
0 1
uint
1 5
dealerid
6 >
,
> ?
uint
@ D
pqId
E I
,
I J
UInt64
K Q

customerId
R \
,
\ ]
string
^ d
customerName
e q
,
q r
string
s y
customerEmailz ‡
,‡ ˆ
string‰ 
customerMobile 
, Ÿ
uint  ¤
leadSourceId¥ ±
,± ²
string³ ¹
utmaº ¾
,¾ ¿
stringÀ Æ
utmzÇ Ë
,Ë Ì
stringÍ Ó
deviceIdÔ Ü
,Ü İ
uintŞ â

campaignIdã í
,í î
uintï ó
leadIdô ú
)ú û
{
‚‚ 	
uint
ƒƒ 
	retLeadId
ƒƒ 
=
ƒƒ 
$num
ƒƒ 
;
ƒƒ 
try
„„ 
{
…… 
using
†† 
(
†† 
IDbConnection
†† $

connection
††% /
=
††0 1
DatabaseHelper
††2 @
.
††@ A!
GetMasterConnection
††A T
(
††T U
)
††U V
)
††V W
{
‡‡ 

connection
ˆˆ 
.
ˆˆ 
Open
ˆˆ #
(
ˆˆ# $
)
ˆˆ$ %
;
ˆˆ% &
var
‰‰ 
param
‰‰ 
=
‰‰ 
new
‰‰  #
DynamicParameters
‰‰$ 5
(
‰‰5 6
)
‰‰6 7
;
‰‰7 8
param
ŠŠ 
.
ŠŠ 
Add
ŠŠ 
(
ŠŠ 
$str
ŠŠ ,
,
ŠŠ, -
dealerid
ŠŠ. 6
)
ŠŠ6 7
;
ŠŠ7 8
param
‹‹ 
.
‹‹ 
Add
‹‹ 
(
‹‹ 
$str
‹‹ (
,
‹‹( )
pqId
‹‹* .
)
‹‹. /
;
‹‹/ 0
param
ŒŒ 
.
ŒŒ 
Add
ŒŒ 
(
ŒŒ 
$str
ŒŒ .
,
ŒŒ. /

customerId
ŒŒ0 :
)
ŒŒ: ;
;
ŒŒ; <
param
 
.
 
Add
 
(
 
$str
 0
,
0 1
customerName
2 >
)
> ?
;
? @
param
 
.
 
Add
 
(
 
$str
 1
,
1 2
customerEmail
3 @
)
@ A
;
A B
param
 
.
 
Add
 
(
 
$str
 2
,
2 3
customerMobile
4 B
)
B C
;
C D
param
 
.
 
Add
 
(
 
$str
 0
,
0 1
leadSourceId
2 >
)
> ?
;
? @
param
‘‘ 
.
‘‘ 
Add
‘‘ 
(
‘‘ 
$str
‘‘ (
,
‘‘( )
utma
‘‘* .
)
‘‘. /
;
‘‘/ 0
param
’’ 
.
’’ 
Add
’’ 
(
’’ 
$str
’’ (
,
’’( )
utmz
’’* .
)
’’. /
;
’’/ 0
param
““ 
.
““ 
Add
““ 
(
““ 
$str
““ ,
,
““, -
deviceId
““. 6
)
““6 7
;
““7 8
param
”” 
.
”” 
Add
”” 
(
”” 
$str
”” .
,
””. /

campaignId
””0 :
)
””: ;
;
””; <
param
•• 
.
•• 
Add
•• 
(
•• 
$str
•• *
,
••* +
leadId
••, 2
,
••2 3
	direction
••4 =
:
••= > 
ParameterDirection
••? Q
.
••Q R
InputOutput
••R ]
)
••] ^
;
••^ _

connection
–– 
.
–– 
Execute
–– &
(
––& '
$str
––' ?
,
––? @
param
––A F
:
––F G
param
––H M
,
––M N
commandType
––O Z
:
––Z [
CommandType
––\ g
.
––g h
StoredProcedure
––h w
)
––w x
;
––x y
	retLeadId
—— 
=
—— 
param
——  %
.
——% &
Get
——& )
<
——) *
UInt32
——* 0
>
——0 1
(
——1 2
$str
——2 >
)
——> ?
;
——? @
if
˜˜ 
(
˜˜ 

connection
˜˜ "
.
˜˜" #
State
˜˜# (
==
˜˜) +
ConnectionState
˜˜, ;
.
˜˜; <
Open
˜˜< @
)
˜˜@ A

connection
™™ "
.
™™" #
Close
™™# (
(
™™( )
)
™™) *
;
™™* +
}
šš 
}
›› 
catch
œœ 
(
œœ 
	Exception
œœ 
ex
œœ 
)
œœ  
{
 

ErrorClass
 
objErr
 !
=
" #
new
$ '

ErrorClass
( 2
(
2 3
ex
3 5
,
5 6
string
7 =
.
= >
Format
> D
(
D E
$strE °
,° ±
dealerid² º
,º »
pqId¼ À
,À Á
customerNameÂ Î
,Î Ï
customerEmailĞ İ
,İ Ş
customerMobileß í
,í î
leadSourceIdï û
,û ü
utmaı 
, ‚
utmzƒ ‡
,‡ ˆ
deviceId‰ ‘
,‘ ’

campaignId“ 
, 
	retLeadIdŸ ¨
)¨ ©
)© ª
;ª «
}
ŸŸ 
return
¡¡ 
	retLeadId
¡¡ 
;
¡¡ 
}
¢¢ 	
public
«« 
bool
«« %
ResetTotalLeadDelivered
«« +
(
««+ ,
uint
««, 0

campaignId
««1 ;
,
««; <
uint
««= A
userId
««B H
)
««H I
{
¬¬ 	
bool
­­ 
	isSuccess
­­ 
=
­­ 
false
­­ "
;
­­" #
try
®® 
{
¯¯ 
using
°° 
(
°° 
IDbConnection
°° $

connection
°°% /
=
°°0 1
DatabaseHelper
°°2 @
.
°°@ A!
GetMasterConnection
°°A T
(
°°T U
)
°°U V
)
°°V W
{
±± 

connection
²² 
.
²² 
Open
²² #
(
²²# $
)
²²$ %
;
²²% &
var
³³ 
param
³³ 
=
³³ 
new
³³  #
DynamicParameters
³³$ 5
(
³³5 6
)
³³6 7
;
³³7 8
param
´´ 
.
´´ 
Add
´´ 
(
´´ 
$str
´´ .
,
´´. /

campaignId
´´0 :
)
´´: ;
;
´´; <
param
µµ 
.
µµ 
Add
µµ 
(
µµ 
$str
µµ *
,
µµ* +
userId
µµ, 2
)
µµ2 3
;
µµ3 4

connection
¶¶ 
.
¶¶ 
Execute
¶¶ &
(
¶¶& '
$str
¶¶' C
,
¶¶C D
param
¶¶E J
:
¶¶J K
param
¶¶L Q
,
¶¶Q R
commandType
¶¶S ^
:
¶¶^ _
CommandType
¶¶` k
.
¶¶k l
StoredProcedure
¶¶l {
)
¶¶{ |
;
¶¶| }
if
·· 
(
·· 

connection
·· "
.
··" #
State
··# (
==
··) +
ConnectionState
··, ;
.
··; <
Open
··< @
)
··@ A

connection
¸¸ "
.
¸¸" #
Close
¸¸# (
(
¸¸( )
)
¸¸) *
;
¸¸* +
	isSuccess
¹¹ 
=
¹¹ 
true
¹¹  $
;
¹¹$ %
}
ºº 
}
»» 
catch
¼¼ 
(
¼¼ 
	Exception
¼¼ 
ex
¼¼ 
)
¼¼  
{
½½ 

ErrorClass
¾¾ 
objErr
¾¾ !
=
¾¾" #
new
¾¾$ '

ErrorClass
¾¾( 2
(
¾¾2 3
ex
¾¾3 5
,
¾¾5 6
string
¾¾7 =
.
¾¾= >
Format
¾¾> D
(
¾¾D E
$str¾¾E †
,¾¾† ‡

campaignId¾¾ˆ ’
,¾¾’ “
userId¾¾” š
)¾¾š ›
)¾¾› œ
;¾¾œ 
}
¿¿ 
return
ÀÀ 
	isSuccess
ÀÀ 
;
ÀÀ 
}
ÁÁ 	
}
ÂÂ 
}ÃÃ û
PD:\work\bikewaleweb\Bikewale.ManufacturerCampaign.DAL\Properties\AssemblyInfo.cs
[ 
assembly 	
:	 

AssemblyTitle 
( 
$str <
)< =
]= >
[		 
assembly		 	
:			 

AssemblyDescription		 
(		 
$str		 !
)		! "
]		" #
[

 
assembly

 	
:

	 
!
AssemblyConfiguration

  
(

  !
$str

! #
)

# $
]

$ %
[ 
assembly 	
:	 

AssemblyCompany 
( 
$str 
) 
] 
[ 
assembly 	
:	 

AssemblyProduct 
( 
$str >
)> ?
]? @
[ 
assembly 	
:	 

AssemblyCopyright 
( 
$str 0
)0 1
]1 2
[ 
assembly 	
:	 

AssemblyTrademark 
( 
$str 
)  
]  !
[ 
assembly 	
:	 

AssemblyCulture 
( 
$str 
) 
] 
[ 
assembly 	
:	 


ComVisible 
( 
false 
) 
] 
[ 
assembly 	
:	 

Guid 
( 
$str 6
)6 7
]7 8
[## 
assembly## 	
:##	 

AssemblyVersion## 
(## 
$str## $
)##$ %
]##% &
[$$ 
assembly$$ 	
:$$	 

AssemblyFileVersion$$ 
($$ 
$str$$ (
)$$( )
]$$) *