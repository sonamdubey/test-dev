Ú“
WD:\work\bikewaleweb\Bikewale.ManufacturerCampaign.DAL\ManufacturerCampaignRepository.cs
	namespace 	
Bikewale
 
.  
ManufacturerCampaign '
.' (
DAL( +
{ 
public 

class *
ManufacturerCampaignRepository /
:0 1
	Interface2 ;
.; <+
IManufacturerCampaignRepository< [
{ 
public 
IEnumerable 
< 
ManufacturerEntity -
>- . 
GetManufacturersList/ C
(C D
)D E
{ 	
IEnumerable 
< 
ManufacturerEntity *
>* +
manufacturers, 9
=: ;
null< @
;@ A
try 
{ 
using 
( 
IDbConnection $

connection% /
=0 1
DatabaseHelper2 @
.@ A
GetMasterConnectionA T
(T U
)U V
)V W
{ 

connection   
.   
Open   #
(  # $
)  $ %
;  % &
var## 
param## 
=## 
new##  #
DynamicParameters##$ 5
(##5 6
)##6 7
;##7 8
manufacturers$$ !
=$$" #

connection$$$ .
.$$. /
Query$$/ 4
<$$4 5
ManufacturerEntity$$5 G
>$$G H
($$H I
$str$$I b
,$$b c
param$$d i
:$$i j
param$$k p
,$$p q
commandType$$r }
:$$} ~
CommandType	$$ ä
.
$$ä ã
StoredProcedure
$$ã ö
)
$$ö õ
;
$$õ ú
if'' 
('' 

connection'' "
.''" #
State''# (
=='') +
ConnectionState'', ;
.''; <
Open''< @
)''@ A

connection(( "
.((" #
Close((# (
(((( )
)(() *
;((* +
})) 
}** 
catch++ 
(++ 
	Exception++ 
ex++ 
)++  
{,, 

ErrorClass-- 
objErr-- !
=--" #
new--$ '

ErrorClass--( 2
(--2 3
ex--3 5
,--5 6
$str--7 u
)--u v
;--v w
}.. 
return11 
manufacturers11  
;11  !
}33 	
public99 
IEnumerable99 
<99 
BikeMakeEntity99 )
>99) *
GetBikeMakes99+ 7
(997 8
)998 9
{:: 	
IEnumerable;; 
<;; 
BikeMakeEntity;; &
>;;& '
	bikeMakes;;( 1
=;;2 3
null;;4 8
;;;8 9
try<< 
{== 
using>> 
(>> 
IDbConnection>> $

connection>>% /
=>>0 1
DatabaseHelper>>2 @
.>>@ A
GetMasterConnection>>A T
(>>T U
)>>U V
)>>V W
{?? 

connection@@ 
.@@ 
Open@@ #
(@@# $
)@@$ %
;@@% &
varAA 
paramAA 
=AA 
newAA  #
DynamicParametersAA$ 5
(AA5 6
)AA6 7
;AA7 8
	bikeMakesBB 
=BB 

connectionBB  *
.BB* +
QueryBB+ 0
<BB0 1
BikeMakeEntityBB1 ?
>BB? @
(BB@ A
$strBBA W
,BBW X
paramBBY ^
:BB^ _
paramBB` e
,BBe f
commandTypeBBg r
:BBr s
CommandTypeBBt 
.	BB Ä
StoredProcedure
BBÄ è
)
BBè ê
;
BBê ë
ifDD 
(DD 

connectionDD "
.DD" #
StateDD# (
==DD) +
ConnectionStateDD, ;
.DD; <
OpenDD< @
)DD@ A

connectionEE "
.EE" #
CloseEE# (
(EE( )
)EE) *
;EE* +
}FF 
}GG 
catchHH 
(HH 
	ExceptionHH 
exHH 
)HH  
{II 

ErrorClassJJ 
objErrJJ !
=JJ" #
newJJ$ '

ErrorClassJJ( 2
(JJ2 3
exJJ3 5
,JJ5 6
$strJJ7 g
)JJg h
;JJh i
}KK 
returnLL 
	bikeMakesLL 
;LL 
}MM 	
publicQQ #
ConfigureCampaignEntityQQ &#
GetManufacturerCampaignQQ' >
(QQ> ?
uintQQ? C
dealerIdQQD L
,QQL M
uintQQN R

campaignIdQQS ]
)QQ] ^
{RR 	#
ConfigureCampaignEntitySS #
	objEntitySS$ -
=SS. /
nullSS0 4
;SS4 5
tryTT 
{UU 
usingVV 
(VV 
IDbConnectionVV $

connectionVV% /
=VV0 1
DatabaseHelperVV2 @
.VV@ A
GetMasterConnectionVVA T
(VVT U
)VVU V
)VVV W
{WW 

connectionXX 
.XX 
OpenXX #
(XX# $
)XX$ %
;XX% &
varYY 
paramYY 
=YY 
newYY  #
DynamicParametersYY$ 5
(YY5 6
)YY6 7
;YY7 8
paramZZ 
.ZZ 
AddZZ 
(ZZ 
$strZZ .
,ZZ. /

campaignIdZZ0 :
)ZZ: ;
;ZZ; <
param[[ 
.[[ 
Add[[ 
([[ 
$str[[ ,
,[[, -
dealerId[[. 6
)[[6 7
;[[7 8
	objEntity\\ 
=\\ 
new\\  ##
ConfigureCampaignEntity\\$ ;
(\\; <
)\\< =
;\\= >
using]] 
(]] 
var]] 
results]] &
=]]' (

connection]]) 3
.]]3 4
QueryMultiple]]4 A
(]]A B
$str]]B [
,]][ \
param]]] b
:]]b c
param]]d i
,]]i j
commandType]]k v
:]]v w
CommandType	]]x É
.
]]É Ñ
StoredProcedure
]]Ñ ì
)
]]ì î
)
]]î ï
{^^ 
	objEntity__ !
.__! "
DealerDetails__" /
=__0 1
results__2 9
.__9 :
Read__: >
<__> ?'
ManufacturerCampaignDetails__? Z
>__Z [
(__[ \
)__\ ]
.__] ^
SingleOrDefault__^ m
(__m n
)__n o
;__o p
	objEntity`` !
.``! "
CampaignPages``" /
=``0 1
results``2 9
.``9 :
Read``: >
<``> ?%
ManufacturerCampaignPages``? X
>``X Y
(``Y Z
)``Z [
;``[ \
}aa 
ifbb 
(bb 

connectionbb "
.bb" #
Statebb# (
==bb) +
ConnectionStatebb, ;
.bb; <
Openbb< @
)bb@ A

connectioncc "
.cc" #
Closecc# (
(cc( )
)cc) *
;cc* +
}dd 
}ee 
catchff 
(ff 
	Exceptionff 
exff 
)ff  
{gg 

ErrorClasshh 
objErrhh !
=hh" #
newhh$ '

ErrorClasshh( 2
(hh2 3
exhh3 5
,hh5 6
$strhh7 r
)hhr s
;hhs t
}ii 
returnjj 
	objEntityjj 
;jj 
}kk 	
publicqq %
ManufacturerCampaignPopupqq ((
getManufacturerCampaignPopupqq) E
(qqE F
uintqqF J

campaignIdqqK U
)qqU V
{rr 	%
ManufacturerCampaignPopupss %
	objEntityss& /
=ss0 1
nullss2 6
;ss6 7
trytt 
{uu 
usingvv 
(vv 
IDbConnectionvv $

connectionvv% /
=vv0 1
DatabaseHelpervv2 @
.vv@ A
GetMasterConnectionvvA T
(vvT U
)vvU V
)vvV W
{ww 

connectionxx 
.xx 
Openxx #
(xx# $
)xx$ %
;xx% &
varyy 
paramyy 
=yy 
newyy  #
DynamicParametersyy$ 5
(yy5 6
)yy6 7
;yy7 8
paramzz 
.zz 
Addzz 
(zz 
$strzz .
,zz. /

campaignIdzz0 :
)zz: ;
;zz; <
	objEntity{{ 
={{ 
new{{  #%
ManufacturerCampaignPopup{{$ =
({{= >
){{> ?
;{{? @
	objEntity|| 
=|| 

connection||  *
.||* +
Query||+ 0
<||0 1%
ManufacturerCampaignPopup||1 J
>||J K
(||K L
$str||L j
,||j k
param||l q
:||q r
param||s x
,||x y
commandType	||z Ö
:
||Ö Ü
CommandType
||á í
.
||í ì
StoredProcedure
||ì ¢
)
||¢ £
.
||£ §
FirstOrDefault
||§ ≤
(
||≤ ≥
)
||≥ ¥
;
||¥ µ
if~~ 
(~~ 

connection~~ "
.~~" #
State~~# (
==~~) +
ConnectionState~~, ;
.~~; <
Open~~< @
)~~@ A

connection "
." #
Close# (
(( )
)) *
;* +
}
ÄÄ 
}
ÅÅ 
catch
ÇÇ 
(
ÇÇ 
	Exception
ÇÇ 
ex
ÇÇ 
)
ÇÇ  
{
ÉÉ 

ErrorClass
ÑÑ 
objErr
ÑÑ !
=
ÑÑ" #
new
ÑÑ$ '

ErrorClass
ÑÑ( 2
(
ÑÑ2 3
ex
ÑÑ3 5
,
ÑÑ5 6
$str
ÑÑ7 r
)
ÑÑr s
;
ÑÑs t
}
ÖÖ 
return
ÜÜ 
	objEntity
ÜÜ 
;
ÜÜ 
}
áá 	
public
éé $
CampaignPropertyEntity
éé %/
!GetManufacturerCampaignProperties
éé& G
(
ééG H
uint
ééH L

campaignId
ééM W
)
ééW X
{
èè 	$
CampaignPropertyEntity
êê "
campaign
êê# +
=
êê, -
null
êê. 2
;
êê2 3
try
ëë 
{
íí 
using
ìì 
(
ìì 
IDbConnection
ìì $

connection
ìì% /
=
ìì0 1
DatabaseHelper
ìì2 @
.
ìì@ A!
GetMasterConnection
ììA T
(
ììT U
)
ììU V
)
ììV W
{
îî 

connection
ïï 
.
ïï 
Open
ïï #
(
ïï# $
)
ïï$ %
;
ïï% &
var
ññ 
param
ññ 
=
ññ 
new
ññ  #
DynamicParameters
ññ$ 5
(
ññ5 6
)
ññ6 7
;
ññ7 8
param
óó 
.
óó 
Add
óó 
(
óó 
$str
óó .
,
óó. /

campaignId
óó0 :
)
óó: ;
;
óó; <
campaign
òò 
=
òò 
new
òò "$
CampaignPropertyEntity
òò# 9
(
òò9 :
)
òò: ;
;
òò; <
using
öö 
(
öö 
var
öö 
results
öö &
=
öö' (

connection
öö) 3
.
öö3 4
QueryMultiple
öö4 A
(
ööA B
$str
ööB e
,
ööe f
param
öög l
:
ööl m
param
öön s
,
öös t
commandTypeööu Ä
:ööÄ Å
CommandTypeööÇ ç
.ööç é
StoredProcedureööé ù
)ööù û
)ööû ü
{
õõ 
campaign
úú  
.
úú  !
EMI
úú! $
=
úú% &
results
úú' .
.
úú. /
Read
úú/ 3
<
úú3 4'
CampaignEMIPropertyEntity
úú4 M
>
úúM N
(
úúN O
)
úúO P
.
úúP Q
SingleOrDefault
úúQ `
(
úú` a
)
úúa b
;
úúb c
if
ùù 
(
ùù 
campaign
ùù $
.
ùù$ %
EMI
ùù% (
==
ùù) +
null
ùù, 0
)
ùù0 1
{
ùù2 3
campaign
ùù4 <
.
ùù< =
EMI
ùù= @
=
ùùA B
new
ùùC F'
CampaignEMIPropertyEntity
ùùG `
(
ùù` a
)
ùùa b
;
ùùb c
}
ùùd e
campaign
ûû  
.
ûû  !
EMIPriority
ûû! ,
=
ûû- .
results
ûû/ 6
.
ûû6 7
Read
ûû7 ;
<
ûû; <
PriorityEntity
ûû< J
>
ûûJ K
(
ûûK L
)
ûûL M
;
ûûM N
campaign
üü  
.
üü  !
Lead
üü! %
=
üü& '
results
üü( /
.
üü/ 0
Read
üü0 4
<
üü4 5(
CampaignLeadPropertyEntity
üü5 O
>
üüO P
(
üüP Q
)
üüQ R
.
üüR S
SingleOrDefault
üüS b
(
üüb c
)
üüc d
;
üüd e
if
†† 
(
†† 
campaign
†† $
.
††$ %
Lead
††% )
==
††* ,
null
††- 1
)
††1 2
{
††3 4
campaign
††5 =
.
††= >
Lead
††> B
=
††C D
new
††E H(
CampaignLeadPropertyEntity
††I c
(
††c d
)
††d e
;
††e f
}
††g h
campaign
°°  
.
°°  !
LeadPriority
°°! -
=
°°. /
results
°°0 7
.
°°7 8
Read
°°8 <
<
°°< =
PriorityEntity
°°= K
>
°°K L
(
°°L M
)
°°M N
;
°°N O
}
¢¢ 
if
§§ 
(
§§ 

connection
§§ "
.
§§" #
State
§§# (
==
§§) +
ConnectionState
§§, ;
.
§§; <
Open
§§< @
)
§§@ A

connection
•• "
.
••" #
Close
••# (
(
••( )
)
••) *
;
••* +
}
¶¶ 
}
ßß 
catch
®® 
(
®® 
	Exception
®® 
ex
®® 
)
®®  
{
©© 

ErrorClass
™™ 
objErr
™™ !
=
™™" #
new
™™$ '

ErrorClass
™™( 2
(
™™2 3
ex
™™3 5
,
™™5 6
string
™™7 =
.
™™= >
Format
™™> D
(
™™D E
$str™™E ê
,™™ê ë

campaignId™™í ú
)™™ú ù
)™™ù û
;™™û ü
}
´´ 
return
≠≠ 
campaign
≠≠ 
;
≠≠ 
}
ÆÆ 	
public
¥¥ 
bool
¥¥ 0
"SaveManufacturerCampaignProperties
¥¥ 6
(
¥¥6 7"
CampaignPropertiesVM
¥¥7 K
objCampaign
¥¥L W
)
¥¥W X
{
µµ 	
bool
∂∂ 
isSaved
∂∂ 
=
∂∂ 
false
∂∂  
;
∂∂  !
try
∑∑ 
{
∏∏ 
using
ππ 
(
ππ 
IDbConnection
ππ $

connection
ππ% /
=
ππ0 1
DatabaseHelper
ππ2 @
.
ππ@ A!
GetMasterConnection
ππA T
(
ππT U
)
ππU V
)
ππV W
{
∫∫ 

connection
ªª 
.
ªª 
Open
ªª #
(
ªª# $
)
ªª$ %
;
ªª% &
var
ºº 
param
ºº 
=
ºº 
new
ºº  #
DynamicParameters
ºº$ 5
(
ºº5 6
)
ºº6 7
;
ºº7 8
param
ΩΩ 
.
ΩΩ 
Add
ΩΩ 
(
ΩΩ 
$str
ΩΩ .
,
ΩΩ. /
objCampaign
ΩΩ0 ;
.
ΩΩ; <

CampaignId
ΩΩ< F
)
ΩΩF G
;
ΩΩG H
param
ææ 
.
ææ 
Add
ææ 
(
ææ 
$str
ææ 4
,
ææ4 5
objCampaign
ææ6 A
.
ææA B
HasEmiProperties
ææB R
)
ææR S
;
ææS T
param
øø 
.
øø 
Add
øø 
(
øø 
$str
øø 7
,
øø7 8
objCampaign
øø9 D
.
øøD E!
EmiButtonTextMobile
øøE X
)
øøX Y
;
øøY Z
param
¿¿ 
.
¿¿ 
Add
¿¿ 
(
¿¿ 
$str
¿¿ 9
,
¿¿9 :
objCampaign
¿¿; F
.
¿¿F G#
EmiPropertyTextMobile
¿¿G \
)
¿¿\ ]
;
¿¿] ^
param
¡¡ 
.
¡¡ 
Add
¡¡ 
(
¡¡ 
$str
¡¡ 8
,
¡¡8 9
objCampaign
¡¡: E
.
¡¡E F"
EmiButtonTextDesktop
¡¡F Z
)
¡¡Z [
;
¡¡[ \
param
¬¬ 
.
¬¬ 
Add
¬¬ 
(
¬¬ 
$str
¬¬ :
,
¬¬: ;
objCampaign
¬¬< G
.
¬¬G H$
EmiPropertyTextDesktop
¬¬H ^
)
¬¬^ _
;
¬¬_ `
param
√√ 
.
√√ 
Add
√√ 
(
√√ 
$str
√√ /
,
√√/ 0
objCampaign
√√1 <
.
√√< =
EmiPriority
√√= H
)
√√H I
;
√√I J
param
ƒƒ 
.
ƒƒ 
Add
ƒƒ 
(
ƒƒ 
$str
ƒƒ 5
,
ƒƒ5 6
objCampaign
ƒƒ7 B
.
ƒƒB C
HasLeadProperties
ƒƒC T
)
ƒƒT U
;
ƒƒU V
param
≈≈ 
.
≈≈ 
Add
≈≈ 
(
≈≈ 
$str
≈≈ 8
,
≈≈8 9
objCampaign
≈≈: E
.
≈≈E F"
LeadButtonTextMobile
≈≈F Z
)
≈≈Z [
;
≈≈[ \
param
∆∆ 
.
∆∆ 
Add
∆∆ 
(
∆∆ 
$str
∆∆ :
,
∆∆: ;
objCampaign
∆∆< G
.
∆∆G H$
LeadPropertyTextMobile
∆∆H ^
)
∆∆^ _
;
∆∆_ `
param
«« 
.
«« 
Add
«« 
(
«« 
$str
«« 9
,
««9 :
objCampaign
««; F
.
««F G#
LeadButtonTextDesktop
««G \
)
««\ ]
;
««] ^
param
»» 
.
»» 
Add
»» 
(
»» 
$str
»» ;
,
»»; <
objCampaign
»»= H
.
»»H I%
LeadPropertyTextDesktop
»»I `
)
»»` a
;
»»a b
param
…… 
.
…… 
Add
…… 
(
…… 
$str
…… 0
,
……0 1
objCampaign
……2 =
.
……= >
LeadPriority
……> J
)
……J K
;
……K L
param
   
.
   
Add
   
(
   
$str
   2
,
  2 3
objCampaign
  4 ?
.
  ? @!
FormattedHtmlMobile
  @ S
)
  S T
;
  T U
param
ÀÀ 
.
ÀÀ 
Add
ÀÀ 
(
ÀÀ 
$str
ÀÀ 3
,
ÀÀ3 4
objCampaign
ÀÀ5 @
.
ÀÀ@ A"
FormattedHtmlDesktop
ÀÀA U
)
ÀÀU V
;
ÀÀV W

connection
ÃÃ 
.
ÃÃ 
Query
ÃÃ $
<
ÃÃ$ %
dynamic
ÃÃ% ,
>
ÃÃ, -
(
ÃÃ- .
$str
ÃÃ. R
,
ÃÃR S
param
ÃÃT Y
:
ÃÃY Z
param
ÃÃ[ `
,
ÃÃ` a
commandType
ÃÃb m
:
ÃÃm n
CommandType
ÃÃo z
.
ÃÃz {
StoredProcedureÃÃ{ ä
)ÃÃä ã
;ÃÃã å
if
ŒŒ 
(
ŒŒ 

connection
ŒŒ "
.
ŒŒ" #
State
ŒŒ# (
==
ŒŒ) +
ConnectionState
ŒŒ, ;
.
ŒŒ; <
Open
ŒŒ< @
)
ŒŒ@ A

connection
œœ "
.
œœ" #
Close
œœ# (
(
œœ( )
)
œœ) *
;
œœ* +
isSaved
–– 
=
–– 
true
–– "
;
––" #
}
—— 
}
““ 
catch
”” 
(
”” 
	Exception
”” 
ex
”” 
)
””  
{
‘‘ 

ErrorClass
’’ 
objErr
’’ !
=
’’" #
new
’’$ '

ErrorClass
’’( 2
(
’’2 3
ex
’’3 5
,
’’5 6
$str
’’7 }
)
’’} ~
;
’’~ 
}
÷÷ 
return
◊◊ 
isSaved
◊◊ 
;
◊◊ 
}
ÿÿ 	
public
›› 
IEnumerable
›› 
<
›› 
BikeModelEntity
›› *
>
››* +
GetBikeModels
››, 9
(
››9 :
uint
››: >
makeId
››? E
)
››E F
{
ﬁﬁ 	
IEnumerable
ﬂﬂ 
<
ﬂﬂ 
BikeModelEntity
ﬂﬂ '
>
ﬂﬂ' (

bikeModels
ﬂﬂ) 3
=
ﬂﬂ4 5
null
ﬂﬂ6 :
;
ﬂﬂ: ;
try
‡‡ 
{
·· 
using
‚‚ 
(
‚‚ 
IDbConnection
‚‚ $

connection
‚‚% /
=
‚‚0 1
DatabaseHelper
‚‚2 @
.
‚‚@ A!
GetMasterConnection
‚‚A T
(
‚‚T U
)
‚‚U V
)
‚‚V W
{
„„ 

connection
‰‰ 
.
‰‰ 
Open
‰‰ #
(
‰‰# $
)
‰‰$ %
;
‰‰% &
var
ÂÂ 
param
ÂÂ 
=
ÂÂ 
new
ÂÂ  #
DynamicParameters
ÂÂ$ 5
(
ÂÂ5 6
)
ÂÂ6 7
;
ÂÂ7 8
param
ÊÊ 
.
ÊÊ 
Add
ÊÊ 
(
ÊÊ 
$str
ÊÊ *
,
ÊÊ* +
makeId
ÊÊ, 2
)
ÊÊ2 3
;
ÊÊ3 4

bikeModels
ÁÁ 
=
ÁÁ  

connection
ÁÁ! +
.
ÁÁ+ ,
Query
ÁÁ, 1
<
ÁÁ1 2
BikeModelEntity
ÁÁ2 A
>
ÁÁA B
(
ÁÁB C
$str
ÁÁC Z
,
ÁÁZ [
param
ÁÁ\ a
:
ÁÁa b
param
ÁÁc h
,
ÁÁh i
commandType
ÁÁj u
:
ÁÁu v
CommandTypeÁÁw Ç
.ÁÁÇ É
StoredProcedureÁÁÉ í
)ÁÁí ì
;ÁÁì î
if
ÈÈ 
(
ÈÈ 

connection
ÈÈ "
.
ÈÈ" #
State
ÈÈ# (
==
ÈÈ) +
ConnectionState
ÈÈ, ;
.
ÈÈ; <
Open
ÈÈ< @
)
ÈÈ@ A

connection
ÍÍ "
.
ÍÍ" #
Close
ÍÍ# (
(
ÍÍ( )
)
ÍÍ) *
;
ÍÍ* +
}
ÎÎ 
}
ÏÏ 
catch
ÌÌ 
(
ÌÌ 
	Exception
ÌÌ 
ex
ÌÌ 
)
ÌÌ  
{
ÓÓ 

ErrorClass
ÔÔ 
objErr
ÔÔ !
=
ÔÔ" #
new
ÔÔ$ '

ErrorClass
ÔÔ( 2
(
ÔÔ2 3
ex
ÔÔ3 5
,
ÔÔ5 6
string
ÔÔ7 =
.
ÔÔ= >
Format
ÔÔ> D
(
ÔÔD E
$strÔÔE Ñ
,ÔÔÑ Ö
makeIdÔÔÜ å
)ÔÔå ç
)ÔÔç é
;ÔÔé è
}
 
return
ÒÒ 

bikeModels
ÒÒ 
;
ÒÒ 
}
ÚÚ 	
public
˜˜ 
IEnumerable
˜˜ 
<
˜˜ 
StateEntity
˜˜ &
>
˜˜& '
	GetStates
˜˜( 1
(
˜˜1 2
)
˜˜2 3
{
¯¯ 	
IEnumerable
˘˘ 
<
˘˘ 
StateEntity
˘˘ #
>
˘˘# $
states
˘˘% +
=
˘˘, -
null
˘˘. 2
;
˘˘2 3
try
˙˙ 
{
˚˚ 
using
¸¸ 
(
¸¸ 
IDbConnection
¸¸ $

connection
¸¸% /
=
¸¸0 1
DatabaseHelper
¸¸2 @
.
¸¸@ A!
GetMasterConnection
¸¸A T
(
¸¸T U
)
¸¸U V
)
¸¸V W
{
˝˝ 

connection
˛˛ 
.
˛˛ 
Open
˛˛ #
(
˛˛# $
)
˛˛$ %
;
˛˛% &
var
ˇˇ 
param
ˇˇ 
=
ˇˇ 
new
ˇˇ  #
DynamicParameters
ˇˇ$ 5
(
ˇˇ5 6
)
ˇˇ6 7
;
ˇˇ7 8
states
ÄÄ 
=
ÄÄ 

connection
ÄÄ '
.
ÄÄ' (
Query
ÄÄ( -
<
ÄÄ- .
StateEntity
ÄÄ. 9
>
ÄÄ9 :
(
ÄÄ: ;
$str
ÄÄ; O
,
ÄÄO P
param
ÄÄQ V
:
ÄÄV W
param
ÄÄX ]
,
ÄÄ] ^
commandType
ÄÄ_ j
:
ÄÄj k
CommandType
ÄÄl w
.
ÄÄw x
StoredProcedureÄÄx á
)ÄÄá à
;ÄÄà â
if
ÇÇ 
(
ÇÇ 

connection
ÇÇ "
.
ÇÇ" #
State
ÇÇ# (
==
ÇÇ) +
ConnectionState
ÇÇ, ;
.
ÇÇ; <
Open
ÇÇ< @
)
ÇÇ@ A

connection
ÉÉ "
.
ÉÉ" #
Close
ÉÉ# (
(
ÉÉ( )
)
ÉÉ) *
;
ÉÉ* +
}
ÑÑ 
}
ÖÖ 
catch
ÜÜ 
(
ÜÜ 
	Exception
ÜÜ 
ex
ÜÜ 
)
ÜÜ  
{
áá 

ErrorClass
àà 
objErr
àà !
=
àà" #
new
àà$ '

ErrorClass
àà( 2
(
àà2 3
ex
àà3 5
,
àà5 6
$str
àà7 d
)
ààd e
;
ààe f
}
ââ 
return
ää 
states
ää 
;
ää 
}
ãã 	
public
êê 
IEnumerable
êê 
<
êê 

CityEntity
êê %
>
êê% &
GetCitiesByState
êê' 7
(
êê7 8
uint
êê8 <
stateId
êê= D
)
êêD E
{
ëë 	
IEnumerable
íí 
<
íí 

CityEntity
íí "
>
íí" #
cities
íí$ *
=
íí+ ,
null
íí- 1
;
íí1 2
try
ìì 
{
îî 
using
ïï 
(
ïï 
IDbConnection
ïï $

connection
ïï% /
=
ïï0 1
DatabaseHelper
ïï2 @
.
ïï@ A!
GetMasterConnection
ïïA T
(
ïïT U
)
ïïU V
)
ïïV W
{
ññ 

connection
óó 
.
óó 
Open
óó #
(
óó# $
)
óó$ %
;
óó% &
var
òò 
param
òò 
=
òò 
new
òò  #
DynamicParameters
òò$ 5
(
òò5 6
)
òò6 7
;
òò7 8
param
ôô 
.
ôô 
Add
ôô 
(
ôô 
$str
ôô +
,
ôô+ ,
stateId
ôô- 4
)
ôô4 5
;
ôô5 6
cities
öö 
=
öö 

connection
öö '
.
öö' (
Query
öö( -
<
öö- .

CityEntity
öö. 8
>
öö8 9
(
öö9 :
$str
öö: L
,
ööL M
param
ööN S
:
ööS T
param
ööU Z
,
ööZ [
commandType
öö\ g
:
öög h
CommandType
ööi t
.
ööt u
StoredProcedureööu Ñ
)ööÑ Ö
;ööÖ Ü
if
úú 
(
úú 

connection
úú "
.
úú" #
State
úú# (
==
úú) +
ConnectionState
úú, ;
.
úú; <
Open
úú< @
)
úú@ A

connection
ùù "
.
ùù" #
Close
ùù# (
(
ùù( )
)
ùù) *
;
ùù* +
}
ûû 
}
üü 
catch
†† 
(
†† 
	Exception
†† 
ex
†† 
)
††  
{
°° 

ErrorClass
¢¢ 
objErr
¢¢ !
=
¢¢" #
new
¢¢$ '

ErrorClass
¢¢( 2
(
¢¢2 3
ex
¢¢3 5
,
¢¢5 6
string
¢¢7 =
.
¢¢= >
Format
¢¢> D
(
¢¢D E
$str¢¢E à
,¢¢à â
stateId¢¢ä ë
)¢¢ë í
)¢¢í ì
;¢¢ì î
}
££ 
return
§§ 
cities
§§ 
;
§§ 
}
•• 	
public
™™ .
 ManufacturerCampaignRulesWrapper
™™ /*
GetManufacturerCampaignRules
™™0 L
(
™™L M
uint
™™M Q

campaignId
™™R \
)
™™\ ]
{
´´ 	.
 ManufacturerCampaignRulesWrapper
¨¨ ,
mfgRules
¨¨- 5
=
¨¨6 7
null
¨¨8 <
;
¨¨< =
try
≠≠ 
{
ÆÆ 
using
ØØ 
(
ØØ 
IDbConnection
ØØ $

connection
ØØ% /
=
ØØ0 1
DatabaseHelper
ØØ2 @
.
ØØ@ A!
GetMasterConnection
ØØA T
(
ØØT U
)
ØØU V
)
ØØV W
{
∞∞ 

connection
±± 
.
±± 
Open
±± #
(
±±# $
)
±±$ %
;
±±% &
var
≤≤ 
param
≤≤ 
=
≤≤ 
new
≤≤  #
DynamicParameters
≤≤$ 5
(
≤≤5 6
)
≤≤6 7
;
≤≤7 8
param
≥≥ 
.
≥≥ 
Add
≥≥ 
(
≥≥ 
$str
≥≥ .
,
≥≥. /

campaignId
≥≥0 :
)
≥≥: ;
;
≥≥; <
mfgRules
¥¥ 
=
¥¥ 
new
¥¥ ".
 ManufacturerCampaignRulesWrapper
¥¥# C
(
¥¥C D
)
¥¥D E
;
¥¥E F
using
µµ 
(
µµ 
var
µµ 
results
µµ &
=
µµ' (

connection
µµ) 3
.
µµ3 4
QueryMultiple
µµ4 A
(
µµA B
$str
µµB `
,
µµ` a
param
µµb g
:
µµg h
param
µµi n
,
µµn o
commandType
µµp {
:
µµ{ |
CommandTypeµµ} à
.µµà â
StoredProcedureµµâ ò
)µµò ô
)µµô ö
{
∂∂ 
mfgRules
∑∑  
.
∑∑  !'
ManufacturerCampaignRules
∑∑! :
=
∑∑; <
results
∑∑= D
.
∑∑D E
Read
∑∑E I
<
∑∑I J$
ManufacturerRuleEntity
∑∑J `
>
∑∑` a
(
∑∑a b
)
∑∑b c
;
∑∑c d
mfgRules
∏∏  
.
∏∏  !
ShowOnExShowroom
∏∏! 1
=
∏∏2 3
results
∏∏4 ;
.
∏∏; <
Read
∏∏< @
<
∏∏@ A
bool
∏∏A E
>
∏∏E F
(
∏∏F G
)
∏∏G H
.
∏∏H I
SingleOrDefault
∏∏I X
(
∏∏X Y
)
∏∏Y Z
;
∏∏Z [
}
ππ 
if
∫∫ 
(
∫∫ 

connection
∫∫ "
.
∫∫" #
State
∫∫# (
==
∫∫) +
ConnectionState
∫∫, ;
.
∫∫; <
Open
∫∫< @
)
∫∫@ A

connection
ªª "
.
ªª" #
Close
ªª# (
(
ªª( )
)
ªª) *
;
ªª* +
}
ºº 
}
ΩΩ 
catch
ææ 
(
ææ 
	Exception
ææ 
ex
ææ 
)
ææ  
{
øø 

ErrorClass
¿¿ 
objErr
¿¿ !
=
¿¿" #
new
¿¿$ '

ErrorClass
¿¿( 2
(
¿¿2 3
ex
¿¿3 5
,
¿¿5 6
string
¿¿7 =
.
¿¿= >
Format
¿¿> D
(
¿¿D E
$str¿¿E ó
,¿¿ó ò

campaignId¿¿ô £
)¿¿£ §
)¿¿§ •
;¿¿• ¶
}
¡¡ 
return
¬¬ 
mfgRules
¬¬ 
;
¬¬ 
}
√√ 	
public
≈≈ 
uint
≈≈ &
saveManufacturerCampaign
≈≈ ,
(
≈≈, -#
ConfigureCampaignSave
≈≈- B
objCampaign
≈≈C N
)
≈≈N O
{
∆∆ 	
uint
«« 

campaignId
«« 
=
«« 
$num
«« 
;
««  
try
»» 
{
…… 
using
   
(
   
IDbConnection
   $

connection
  % /
=
  0 1
DatabaseHelper
  2 @
.
  @ A!
GetMasterConnection
  A T
(
  T U
)
  U V
)
  V W
{
ÀÀ 

connection
ÃÃ 
.
ÃÃ 
Open
ÃÃ #
(
ÃÃ# $
)
ÃÃ$ %
;
ÃÃ% &
var
ÕÕ 
param
ÕÕ 
=
ÕÕ 
new
ÕÕ  #
DynamicParameters
ÕÕ$ 5
(
ÕÕ5 6
)
ÕÕ6 7
;
ÕÕ7 8
param
ŒŒ 
.
ŒŒ 
Add
ŒŒ 
(
ŒŒ 
$str
ŒŒ *
,
ŒŒ* +
objCampaign
ŒŒ, 7
.
ŒŒ7 8
UserId
ŒŒ8 >
)
ŒŒ> ?
;
ŒŒ? @
param
œœ 
.
œœ 
Add
œœ 
(
œœ 
$str
œœ ,
,
œœ, -
objCampaign
œœ. 9
.
œœ9 :
DealerId
œœ: B
)
œœB C
;
œœC D
param
–– 
.
–– 
Add
–– 
(
–– 
$str
–– /
,
––/ 0
objCampaign
––1 <
.
––< =
Description
––= H
)
––H I
;
––I J
param
—— 
.
—— 
Add
—— 
(
—— 
$str
—— 1
,
——1 2
objCampaign
——3 >
.
——> ?
MaskingNumber
——? L
)
——L M
;
——M N
if
““ 
(
““ 
objCampaign
““ #
.
““# $
DailyLeadLimit
““$ 2
>
““3 4
$num
““5 6
)
““6 7
param
”” 
.
”” 
Add
”” !
(
””! "
$str
””" 6
,
””6 7
objCampaign
””8 C
.
””C D
DailyLeadLimit
””D R
)
””R S
;
””S T
else
‘‘ 
param
’’ 
.
’’ 
Add
’’ !
(
’’! "
$str
’’" 6
,
’’6 7
null
’’8 <
)
’’< =
;
’’= >
if
÷÷ 
(
÷÷ 
objCampaign
÷÷ #
.
÷÷# $
TotalLeadLimit
÷÷$ 2
>
÷÷3 4
$num
÷÷5 6
)
÷÷6 7
param
◊◊ 
.
◊◊ 
Add
◊◊ !
(
◊◊! "
$str
◊◊" 6
,
◊◊6 7
objCampaign
◊◊8 C
.
◊◊C D
TotalLeadLimit
◊◊D R
)
◊◊R S
;
◊◊S T
else
ÿÿ 
param
ŸŸ 
.
ŸŸ 
Add
ŸŸ !
(
ŸŸ! "
$str
ŸŸ" 6
,
ŸŸ6 7
null
ŸŸ8 <
)
ŸŸ< =
;
ŸŸ= >
param
⁄⁄ 
.
⁄⁄ 
Add
⁄⁄ 
(
⁄⁄ 
$str
⁄⁄ 1
,
⁄⁄1 2
objCampaign
⁄⁄3 >
.
⁄⁄> ?
CampaignPages
⁄⁄? L
)
⁄⁄L M
;
⁄⁄M N
param
€€ 
.
€€ 
Add
€€ 
(
€€ 
$str
€€ -
,
€€- .
objCampaign
€€/ :
.
€€: ;
	StartDate
€€; D
)
€€D E
;
€€E F
param
‹‹ 
.
‹‹ 
Add
‹‹ 
(
‹‹ 
$str
‹‹ +
,
‹‹+ ,
objCampaign
‹‹- 8
.
‹‹8 9
EndDate
‹‹9 @
??
‹‹A C
null
‹‹D H
)
‹‹H I
;
‹‹I J
param
›› 
.
›› 
Add
›› 
(
›› 
$str
›› 9
,
››9 :
objCampaign
››; F
.
››F G#
ShowOnExShowroomPrice
››G \
)
››\ ]
;
››] ^
param
ﬁﬁ 
.
ﬁﬁ 
Add
ﬁﬁ 
(
ﬁﬁ 
$str
ﬁﬁ .
,
ﬁﬁ. /
objCampaign
ﬁﬁ0 ;
.
ﬁﬁ; <

CampaignId
ﬁﬁ< F
,
ﬁﬁF G
dbType
ﬁﬁH N
:
ﬁﬁN O
DbType
ﬁﬁP V
.
ﬁﬁV W
Int32
ﬁﬁW \
,
ﬁﬁ\ ]
	direction
ﬁﬁ^ g
:
ﬁﬁg h 
ParameterDirection
ﬁﬁi {
.
ﬁﬁ{ |
InputOutputﬁﬁ| á
)ﬁﬁá à
;ﬁﬁà â

connection
ﬂﬂ 
.
ﬂﬂ 
Query
ﬂﬂ $
<
ﬂﬂ$ %
dynamic
ﬂﬂ% ,
>
ﬂﬂ, -
(
ﬂﬂ- .
$str
ﬂﬂ. Q
,
ﬂﬂQ R
param
ﬂﬂS X
:
ﬂﬂX Y
param
ﬂﬂZ _
,
ﬂﬂ_ `
commandType
ﬂﬂa l
:
ﬂﬂl m
CommandType
ﬂﬂn y
.
ﬂﬂy z
StoredProcedureﬂﬂz â
)ﬂﬂâ ä
;ﬂﬂä ã

campaignId
‡‡ 
=
‡‡  
(
‡‡! "
uint
‡‡" &
)
‡‡& '
param
‡‡' ,
.
‡‡, -
Get
‡‡- 0
<
‡‡0 1
int
‡‡1 4
>
‡‡4 5
(
‡‡5 6
$str
‡‡6 F
)
‡‡F G
;
‡‡G H
if
·· 
(
·· 

connection
·· "
.
··" #
State
··# (
==
··) +
ConnectionState
··, ;
.
··; <
Open
··< @
)
··@ A

connection
‚‚ "
.
‚‚" #
Close
‚‚# (
(
‚‚( )
)
‚‚) *
;
‚‚* +
}
„„ 
}
‰‰ 
catch
ÂÂ 
(
ÂÂ 
	Exception
ÂÂ 
ex
ÂÂ 
)
ÂÂ  
{
ÊÊ 

ErrorClass
ÁÁ 
objErr
ÁÁ !
=
ÁÁ" #
new
ÁÁ$ '

ErrorClass
ÁÁ( 2
(
ÁÁ2 3
ex
ÁÁ3 5
,
ÁÁ5 6
$str
ÁÁ7 s
)
ÁÁs t
;
ÁÁt u
}
ËË 
return
ÈÈ 

campaignId
ÈÈ 
;
ÈÈ 
}
ÍÍ 	
public
ÌÌ 
void
ÌÌ +
saveManufacturerCampaignPopup
ÌÌ 1
(
ÌÌ1 2'
ManufacturerCampaignPopup
ÌÌ2 K
objCampaign
ÌÌL W
)
ÌÌW X
{
ÓÓ 	
try
 
{
ÒÒ 
using
ÚÚ 
(
ÚÚ 
IDbConnection
ÚÚ $

connection
ÚÚ% /
=
ÚÚ0 1
DatabaseHelper
ÚÚ2 @
.
ÚÚ@ A!
GetMasterConnection
ÚÚA T
(
ÚÚT U
)
ÚÚU V
)
ÚÚV W
{
ÛÛ 

connection
ÙÙ 
.
ÙÙ 
Open
ÙÙ #
(
ÙÙ# $
)
ÙÙ$ %
;
ÙÙ% &
var
ıı 
param
ıı 
=
ıı 
new
ıı  #
DynamicParameters
ıı$ 5
(
ıı5 6
)
ıı6 7
;
ıı7 8
param
ˆˆ 
.
ˆˆ 
Add
ˆˆ 
(
ˆˆ 
$str
ˆˆ .
,
ˆˆ. /
objCampaign
ˆˆ0 ;
.
ˆˆ; <

CampaignId
ˆˆ< F
)
ˆˆF G
;
ˆˆG H
param
˜˜ 
.
˜˜ 
Add
˜˜ 
(
˜˜ 
$str
˜˜ 0
,
˜˜0 1
objCampaign
˜˜2 =
.
˜˜= >
PopupHeading
˜˜> J
)
˜˜J K
;
˜˜K L
param
¯¯ 
.
¯¯ 
Add
¯¯ 
(
¯¯ 
$str
¯¯ 4
,
¯¯4 5
objCampaign
¯¯6 A
.
¯¯A B
PopupDescription
¯¯B R
)
¯¯R S
;
¯¯S T
param
˘˘ 
.
˘˘ 
Add
˘˘ 
(
˘˘ 
$str
˘˘ 7
,
˘˘7 8
objCampaign
˘˘9 D
.
˘˘D E!
PopupSuccessMessage
˘˘E X
)
˘˘X Y
;
˘˘Y Z
param
˙˙ 
.
˙˙ 
Add
˙˙ 
(
˙˙ 
$str
˙˙ 1
,
˙˙1 2
objCampaign
˙˙3 >
.
˙˙> ?
EmailRequired
˙˙? L
?
˙˙M N
$num
˙˙O P
:
˙˙Q R
$num
˙˙S T
)
˙˙T U
;
˙˙U V
param
˚˚ 
.
˚˚ 
Add
˚˚ 
(
˚˚ 
$str
˚˚ 3
,
˚˚3 4
objCampaign
˚˚5 @
.
˚˚@ A
PinCodeRequired
˚˚A P
?
˚˚Q R
$num
˚˚S T
:
˚˚U V
$num
˚˚W X
)
˚˚X Y
;
˚˚Y Z
param
¸¸ 
.
¸¸ 
Add
¸¸ 
(
¸¸ 
$str
¸¸ 2
,
¸¸2 3
objCampaign
¸¸4 ?
.
¸¸? @
DealerRequired
¸¸@ N
?
¸¸O P
$num
¸¸Q R
:
¸¸S T
$num
¸¸U V
)
¸¸V W
;
¸¸W X

connection
˝˝ 
.
˝˝ 
Query
˝˝ $
<
˝˝$ %
dynamic
˝˝% ,
>
˝˝, -
(
˝˝- .
$str
˝˝. M
,
˝˝M N
param
˝˝O T
:
˝˝T U
param
˝˝V [
,
˝˝[ \
commandType
˝˝] h
:
˝˝h i
CommandType
˝˝j u
.
˝˝u v
StoredProcedure˝˝v Ö
)˝˝Ö Ü
;˝˝Ü á
if
ˇˇ 
(
ˇˇ 

connection
ˇˇ "
.
ˇˇ" #
State
ˇˇ# (
==
ˇˇ) +
ConnectionState
ˇˇ, ;
.
ˇˇ; <
Open
ˇˇ< @
)
ˇˇ@ A

connection
ÄÄ "
.
ÄÄ" #
Close
ÄÄ# (
(
ÄÄ( )
)
ÄÄ) *
;
ÄÄ* +
}
ÅÅ 
}
ÇÇ 
catch
ÉÉ 
(
ÉÉ 
	Exception
ÉÉ 
ex
ÉÉ 
)
ÉÉ  
{
ÑÑ 

ErrorClass
ÖÖ 
objErr
ÖÖ !
=
ÖÖ" #
new
ÖÖ$ '

ErrorClass
ÖÖ( 2
(
ÖÖ2 3
ex
ÖÖ3 5
,
ÖÖ5 6
$str
ÖÖ7 x
)
ÖÖx y
;
ÖÖy z
}
ÜÜ 
}
àà 	
public
éé 
bool
éé +
SaveManufacturerCampaignRules
éé 1
(
éé1 2
uint
éé2 6

campaignId
éé7 A
,
ééA B
string
ééC I
modelIds
ééJ R
,
ééR S
string
ééT Z
stateIds
éé[ c
,
ééc d
string
éée k
cityIds
éél s
,
éés t
bool
ééu y

isAllIndiaééz Ñ
,ééÑ Ö
uintééÜ ä
userIdééã ë
)ééë í
{
èè 	
bool
êê 
	isSuccess
êê 
=
êê 
false
êê "
;
êê" #
try
ëë 
{
íí 
using
ìì 
(
ìì 
IDbConnection
ìì $

connection
ìì% /
=
ìì0 1
DatabaseHelper
ìì2 @
.
ìì@ A!
GetMasterConnection
ììA T
(
ììT U
)
ììU V
)
ììV W
{
îî 

connection
ïï 
.
ïï 
Open
ïï #
(
ïï# $
)
ïï$ %
;
ïï% &
var
ññ 
param
ññ 
=
ññ 
new
ññ  #
DynamicParameters
ññ$ 5
(
ññ5 6
)
ññ6 7
;
ññ7 8
param
óó 
.
óó 
Add
óó 
(
óó 
$str
óó .
,
óó. /

campaignId
óó0 :
)
óó: ;
;
óó; <
param
òò 
.
òò 
Add
òò 
(
òò 
$str
òò ,
,
òò, -
modelIds
òò. 6
)
òò6 7
;
òò7 8
param
ôô 
.
ôô 
Add
ôô 
(
ôô 
$str
ôô ,
,
ôô, -
stateIds
ôô. 6
)
ôô6 7
;
ôô7 8
param
öö 
.
öö 
Add
öö 
(
öö 
$str
öö +
,
öö+ ,
cityIds
öö- 4
)
öö4 5
;
öö5 6
param
õõ 
.
õõ 
Add
õõ 
(
õõ 
$str
õõ -
,
õõ- .
userId
õõ/ 5
)
õõ5 6
;
õõ6 7
param
úú 
.
úú 
Add
úú 
(
úú 
$str
úú .
,
úú. /

isAllIndia
úú0 :
)
úú: ;
;
úú; <

connection
ùù 
.
ùù 
Query
ùù $
<
ùù$ %
dynamic
ùù% ,
>
ùù, -
(
ùù- .
$str
ùù. V
,
ùùV W
param
ùùX ]
:
ùù] ^
param
ùù_ d
,
ùùd e
commandType
ùùf q
:
ùùq r
CommandType
ùùs ~
.
ùù~ 
StoredProcedureùù é
)ùùé è
;ùùè ê
	isSuccess
ûû 
=
ûû 
true
ûû  $
;
ûû$ %
if
üü 
(
üü 

connection
üü "
.
üü" #
State
üü# (
==
üü) +
ConnectionState
üü, ;
.
üü; <
Open
üü< @
)
üü@ A

connection
†† "
.
††" #
Close
††# (
(
††( )
)
††) *
;
††* +
}
°° 
}
££ 
catch
§§ 
(
§§ 
	Exception
§§ 
ex
§§ 
)
§§  
{
•• 

ErrorClass
¶¶ 
objErr
¶¶ !
=
¶¶" #
new
¶¶$ '

ErrorClass
¶¶( 2
(
¶¶2 3
ex
¶¶3 5
,
¶¶5 6
string
¶¶7 =
.
¶¶= >
Format
¶¶> D
(
¶¶D E
$str¶¶E Ê
,¶¶Ê Á

campaignId¶¶Ë Ú
,¶¶Ú Û
modelIds¶¶Ù ¸
,¶¶¸ ˝
stateIds¶¶˛ Ü
,¶¶Ü á
cityIds¶¶à è
,¶¶è ê

isAllIndia¶¶ë õ
,¶¶õ ú
userId¶¶ù £
)¶¶£ §
)¶¶§ •
;¶¶• ¶
}
ßß 
return
®® 
	isSuccess
®® 
;
®® 
}
©© 	
public
ØØ 
bool
ØØ -
DeleteManufacturerCampaignRules
ØØ 3
(
ØØ3 4
uint
ØØ4 8

campaignId
ØØ9 C
,
ØØC D
uint
ØØE I
modelId
ØØJ Q
,
ØØQ R
uint
ØØS W
stateId
ØØX _
,
ØØ_ `
uint
ØØa e
cityId
ØØf l
,
ØØl m
uint
ØØn r
userId
ØØs y
,
ØØy z
bool
ØØ{ 

isAllIndiaØØÄ ä
)ØØä ã
{
∞∞ 	
bool
±± 
	isSuccess
±± 
=
±± 
false
±± "
;
±±" #
try
≤≤ 
{
≥≥ 
using
µµ 
(
µµ 
IDbConnection
µµ $

connection
µµ% /
=
µµ0 1
DatabaseHelper
µµ2 @
.
µµ@ A!
GetMasterConnection
µµA T
(
µµT U
)
µµU V
)
µµV W
{
∂∂ 

connection
∑∑ 
.
∑∑ 
Open
∑∑ #
(
∑∑# $
)
∑∑$ %
;
∑∑% &
var
∏∏ 
param
∏∏ 
=
∏∏ 
new
∏∏  #
DynamicParameters
∏∏$ 5
(
∏∏5 6
)
∏∏6 7
;
∏∏7 8
param
ππ 
.
ππ 
Add
ππ 
(
ππ 
$str
ππ .
,
ππ. /

campaignId
ππ0 :
)
ππ: ;
;
ππ; <
param
∫∫ 
.
∫∫ 
Add
∫∫ 
(
∫∫ 
$str
∫∫ +
,
∫∫+ ,
modelId
∫∫- 4
)
∫∫4 5
;
∫∫5 6
param
ªª 
.
ªª 
Add
ªª 
(
ªª 
$str
ªª +
,
ªª+ ,
stateId
ªª- 4
)
ªª4 5
;
ªª5 6
param
ºº 
.
ºº 
Add
ºº 
(
ºº 
$str
ºº *
,
ºº* +
cityId
ºº, 2
)
ºº2 3
;
ºº3 4
param
ΩΩ 
.
ΩΩ 
Add
ΩΩ 
(
ΩΩ 
$str
ΩΩ -
,
ΩΩ- .
userId
ΩΩ/ 5
)
ΩΩ5 6
;
ΩΩ6 7
param
ææ 
.
ææ 
Add
ææ 
(
ææ 
$str
ææ .
,
ææ. /

isAllIndia
ææ0 :
)
ææ: ;
;
ææ; <

connection
øø 
.
øø 
Query
øø $
<
øø$ %
dynamic
øø% ,
>
øø, -
(
øø- .
$str
øø. X
,
øøX Y
param
øøZ _
:
øø_ `
param
øøa f
,
øøf g
commandType
øøh s
:
øøs t
CommandTypeøøu Ä
.øøÄ Å
StoredProcedureøøÅ ê
)øøê ë
;øøë í
	isSuccess
¿¿ 
=
¿¿ 
true
¿¿  $
;
¿¿$ %
if
¡¡ 
(
¡¡ 

connection
¡¡ "
.
¡¡" #
State
¡¡# (
==
¡¡) +
ConnectionState
¡¡, ;
.
¡¡; <
Open
¡¡< @
)
¡¡@ A

connection
¬¬ "
.
¬¬" #
Close
¬¬# (
(
¬¬( )
)
¬¬) *
;
¬¬* +
}
√√ 
}
ƒƒ 
catch
≈≈ 
(
≈≈ 
	Exception
≈≈ 
ex
≈≈ 
)
≈≈  
{
∆∆ 

ErrorClass
«« 
objErr
«« !
=
««" #
new
««$ '

ErrorClass
««( 2
(
««2 3
ex
««3 5
,
««5 6
string
««7 =
.
««= >
Format
««> D
(
««D E
$str««E ”
,««” ‘

campaignId««’ ﬂ
,««ﬂ ‡
modelId««· Ë
,««Ë È
stateId««Í Ò
,««Ò Ú
cityId««Û ˘
,««˘ ˙
userId««˚ Å
)««Å Ç
)««Ç É
;««É Ñ
}
»» 
return
…… 
	isSuccess
…… 
;
…… 
}
   	
public
‘‘ 
Entities
‘‘ 
.
‘‘ (
ManufacturerCampaignEntity
‘‘ 2
GetCampaigns
‘‘3 ?
(
‘‘? @
uint
‘‘@ D
modelId
‘‘E L
,
‘‘L M
uint
‘‘N R
cityId
‘‘S Y
,
‘‘Y Z.
 ManufacturerCampaignServingPages
‘‘[ {
pageId‘‘| Ç
)‘‘Ç É
{
’’ 	
Entities
÷÷ 
.
÷÷ (
ManufacturerCampaignEntity
÷÷ /
config
÷÷0 6
=
÷÷7 8
null
÷÷9 =
;
÷÷= >
try
◊◊ 
{
ÿÿ 
using
ŸŸ 
(
ŸŸ 
IDbConnection
ŸŸ $

connection
ŸŸ% /
=
ŸŸ0 1
DatabaseHelper
ŸŸ2 @
.
ŸŸ@ A#
GetReadonlyConnection
ŸŸA V
(
ŸŸV W
)
ŸŸW X
)
ŸŸX Y
{
⁄⁄ 

connection
€€ 
.
€€ 
Open
€€ #
(
€€# $
)
€€$ %
;
€€% &
var
‹‹ 
param
‹‹ 
=
‹‹ 
new
‹‹  #
DynamicParameters
‹‹$ 5
(
‹‹5 6
)
‹‹6 7
;
‹‹7 8
param
›› 
.
›› 
Add
›› 
(
›› 
$str
›› +
,
››+ ,
modelId
››- 4
)
››4 5
;
››5 6
param
ﬁﬁ 
.
ﬁﬁ 
Add
ﬁﬁ 
(
ﬁﬁ 
$str
ﬁﬁ *
,
ﬁﬁ* +
cityId
ﬁﬁ, 2
)
ﬁﬁ2 3
;
ﬁﬁ3 4
param
ﬂﬂ 
.
ﬂﬂ 
Add
ﬂﬂ 
(
ﬂﬂ 
$str
ﬂﬂ *
,
ﬂﬂ* +
(
ﬂﬂ, -
int
ﬂﬂ- 0
)
ﬂﬂ0 1
pageId
ﬂﬂ1 7
)
ﬂﬂ7 8
;
ﬂﬂ8 9
using
‡‡ 
(
‡‡ 
var
‡‡ 
results
‡‡ &
=
‡‡' (

connection
‡‡) 3
.
‡‡3 4
QueryMultiple
‡‡4 A
(
‡‡A B
$str
‡‡B f
,
‡‡f g
param
‡‡h m
:
‡‡m n
param
‡‡o t
,
‡‡t u
commandType‡‡v Å
:‡‡Å Ç
CommandType‡‡É é
.‡‡é è
StoredProcedure‡‡è û
)‡‡û ü
)‡‡ü †
{
·· 
config
‚‚ 
=
‚‚  
new
‚‚! $
Entities
‚‚% -
.
‚‚- .(
ManufacturerCampaignEntity
‚‚. H
(
‚‚H I
)
‚‚I J
;
‚‚J K
config
„„ 
.
„„ 
LeadCampaign
„„ +
=
„„, -
results
„„. 5
.
„„5 6
Read
„„6 :
<
„„: ;3
%ManufacturerCampaignLeadConfiguration
„„; `
>
„„` a
(
„„a b
)
„„b c
.
„„c d
FirstOrDefault
„„d r
(
„„r s
)
„„s t
;
„„t u
config
‰‰ 
.
‰‰ 
EMICampaign
‰‰ *
=
‰‰+ ,
results
‰‰- 4
.
‰‰4 5
Read
‰‰5 9
<
‰‰9 :2
$ManufacturerCampaignEMIConfiguration
‰‰: ^
>
‰‰^ _
(
‰‰_ `
)
‰‰` a
.
‰‰a b
FirstOrDefault
‰‰b p
(
‰‰p q
)
‰‰q r
;
‰‰r s
}
ÂÂ 
if
ÊÊ 
(
ÊÊ 

connection
ÊÊ "
.
ÊÊ" #
State
ÊÊ# (
==
ÊÊ) +
ConnectionState
ÊÊ, ;
.
ÊÊ; <
Open
ÊÊ< @
)
ÊÊ@ A

connection
ÁÁ "
.
ÁÁ" #
Close
ÁÁ# (
(
ÁÁ( )
)
ÁÁ) *
;
ÁÁ* +
}
ËË 
}
ÈÈ 
catch
ÍÍ 
(
ÍÍ 
	Exception
ÍÍ 
ex
ÍÍ 
)
ÍÍ  
{
ÎÎ 

ErrorClass
ÏÏ 
objErr
ÏÏ !
=
ÏÏ" #
new
ÏÏ$ '

ErrorClass
ÏÏ( 2
(
ÏÏ2 3
ex
ÏÏ3 5
,
ÏÏ5 6
string
ÏÏ7 =
.
ÏÏ= >
Format
ÏÏ> D
(
ÏÏD E
$str
ÏÏE 
,ÏÏ Ä
modelIdÏÏÅ à
,ÏÏà â
cityIdÏÏä ê
,ÏÏê ë
pageIdÏÏí ò
)ÏÏò ô
)ÏÏô ö
;ÏÏö õ
}
ÌÌ 
return
ÓÓ 
config
ÓÓ 
;
ÓÓ 
}
ÔÔ 	
public
ÅÅ 
uint
ÅÅ *
SaveManufacturerCampaignLead
ÅÅ 0
(
ÅÅ0 1
uint
ÅÅ1 5
dealerid
ÅÅ6 >
,
ÅÅ> ?
uint
ÅÅ@ D
pqId
ÅÅE I
,
ÅÅI J
UInt64
ÅÅK Q

customerId
ÅÅR \
,
ÅÅ\ ]
string
ÅÅ^ d
customerName
ÅÅe q
,
ÅÅq r
string
ÅÅs y
customerEmailÅÅz á
,ÅÅá à
stringÅÅâ è
customerMobileÅÅê û
,ÅÅû ü
uintÅÅ† §
leadSourceIdÅÅ• ±
,ÅÅ± ≤
stringÅÅ≥ π
utmaÅÅ∫ æ
,ÅÅæ ø
stringÅÅ¿ ∆
utmzÅÅ« À
,ÅÅÀ Ã
stringÅÅÕ ”
deviceIdÅÅ‘ ‹
,ÅÅ‹ ›
uintÅÅﬁ ‚

campaignIdÅÅ„ Ì
,ÅÅÌ Ó
uintÅÅÔ Û
leadIdÅÅÙ ˙
)ÅÅ˙ ˚
{
ÇÇ 	
uint
ÉÉ 
	retLeadId
ÉÉ 
=
ÉÉ 
$num
ÉÉ 
;
ÉÉ 
try
ÑÑ 
{
ÖÖ 
using
ÜÜ 
(
ÜÜ 
IDbConnection
ÜÜ $

connection
ÜÜ% /
=
ÜÜ0 1
DatabaseHelper
ÜÜ2 @
.
ÜÜ@ A!
GetMasterConnection
ÜÜA T
(
ÜÜT U
)
ÜÜU V
)
ÜÜV W
{
áá 

connection
àà 
.
àà 
Open
àà #
(
àà# $
)
àà$ %
;
àà% &
var
ââ 
param
ââ 
=
ââ 
new
ââ  #
DynamicParameters
ââ$ 5
(
ââ5 6
)
ââ6 7
;
ââ7 8
param
ää 
.
ää 
Add
ää 
(
ää 
$str
ää ,
,
ää, -
dealerid
ää. 6
)
ää6 7
;
ää7 8
param
ãã 
.
ãã 
Add
ãã 
(
ãã 
$str
ãã (
,
ãã( )
pqId
ãã* .
)
ãã. /
;
ãã/ 0
param
åå 
.
åå 
Add
åå 
(
åå 
$str
åå .
,
åå. /

customerId
åå0 :
)
åå: ;
;
åå; <
param
çç 
.
çç 
Add
çç 
(
çç 
$str
çç 0
,
çç0 1
customerName
çç2 >
)
çç> ?
;
çç? @
param
éé 
.
éé 
Add
éé 
(
éé 
$str
éé 1
,
éé1 2
customerEmail
éé3 @
)
éé@ A
;
ééA B
param
èè 
.
èè 
Add
èè 
(
èè 
$str
èè 2
,
èè2 3
customerMobile
èè4 B
)
èèB C
;
èèC D
param
êê 
.
êê 
Add
êê 
(
êê 
$str
êê 0
,
êê0 1
leadSourceId
êê2 >
)
êê> ?
;
êê? @
param
ëë 
.
ëë 
Add
ëë 
(
ëë 
$str
ëë (
,
ëë( )
utma
ëë* .
)
ëë. /
;
ëë/ 0
param
íí 
.
íí 
Add
íí 
(
íí 
$str
íí (
,
íí( )
utmz
íí* .
)
íí. /
;
íí/ 0
param
ìì 
.
ìì 
Add
ìì 
(
ìì 
$str
ìì ,
,
ìì, -
deviceId
ìì. 6
)
ìì6 7
;
ìì7 8
param
îî 
.
îî 
Add
îî 
(
îî 
$str
îî .
,
îî. /

campaignId
îî0 :
)
îî: ;
;
îî; <
param
ïï 
.
ïï 
Add
ïï 
(
ïï 
$str
ïï *
,
ïï* +
leadId
ïï, 2
,
ïï2 3
	direction
ïï4 =
:
ïï= > 
ParameterDirection
ïï? Q
.
ïïQ R
InputOutput
ïïR ]
)
ïï] ^
;
ïï^ _

connection
ññ 
.
ññ 
Execute
ññ &
(
ññ& '
$str
ññ' ?
,
ññ? @
param
ññA F
:
ññF G
param
ññH M
,
ññM N
commandType
ññO Z
:
ññZ [
CommandType
ññ\ g
.
ññg h
StoredProcedure
ññh w
)
ññw x
;
ññx y
	retLeadId
óó 
=
óó 
param
óó  %
.
óó% &
Get
óó& )
<
óó) *
UInt32
óó* 0
>
óó0 1
(
óó1 2
$str
óó2 >
)
óó> ?
;
óó? @
if
òò 
(
òò 

connection
òò "
.
òò" #
State
òò# (
==
òò) +
ConnectionState
òò, ;
.
òò; <
Open
òò< @
)
òò@ A

connection
ôô "
.
ôô" #
Close
ôô# (
(
ôô( )
)
ôô) *
;
ôô* +
}
öö 
}
õõ 
catch
úú 
(
úú 
	Exception
úú 
ex
úú 
)
úú  
{
ùù 

ErrorClass
ûû 
objErr
ûû !
=
ûû" #
new
ûû$ '

ErrorClass
ûû( 2
(
ûû2 3
ex
ûû3 5
,
ûû5 6
string
ûû7 =
.
ûû= >
Format
ûû> D
(
ûûD E
$strûûE ∞
,ûû∞ ±
dealeridûû≤ ∫
,ûû∫ ª
pqIdûûº ¿
,ûû¿ ¡
customerNameûû¬ Œ
,ûûŒ œ
customerEmailûû– ›
,ûû› ﬁ
customerMobileûûﬂ Ì
,ûûÌ Ó
leadSourceIdûûÔ ˚
,ûû˚ ¸
utmaûû˝ Å
,ûûÅ Ç
utmzûûÉ á
,ûûá à
deviceIdûûâ ë
,ûûë í

campaignIdûûì ù
,ûûù û
	retLeadIdûûü ®
)ûû® ©
)ûû© ™
;ûû™ ´
}
üü 
return
°° 
	retLeadId
°° 
;
°° 
}
¢¢ 	
public
´´ 
bool
´´ %
ResetTotalLeadDelivered
´´ +
(
´´+ ,
uint
´´, 0

campaignId
´´1 ;
,
´´; <
uint
´´= A
userId
´´B H
)
´´H I
{
¨¨ 	
bool
≠≠ 
	isSuccess
≠≠ 
=
≠≠ 
false
≠≠ "
;
≠≠" #
try
ÆÆ 
{
ØØ 
using
∞∞ 
(
∞∞ 
IDbConnection
∞∞ $

connection
∞∞% /
=
∞∞0 1
DatabaseHelper
∞∞2 @
.
∞∞@ A!
GetMasterConnection
∞∞A T
(
∞∞T U
)
∞∞U V
)
∞∞V W
{
±± 

connection
≤≤ 
.
≤≤ 
Open
≤≤ #
(
≤≤# $
)
≤≤$ %
;
≤≤% &
var
≥≥ 
param
≥≥ 
=
≥≥ 
new
≥≥  #
DynamicParameters
≥≥$ 5
(
≥≥5 6
)
≥≥6 7
;
≥≥7 8
param
¥¥ 
.
¥¥ 
Add
¥¥ 
(
¥¥ 
$str
¥¥ .
,
¥¥. /

campaignId
¥¥0 :
)
¥¥: ;
;
¥¥; <
param
µµ 
.
µµ 
Add
µµ 
(
µµ 
$str
µµ *
,
µµ* +
userId
µµ, 2
)
µµ2 3
;
µµ3 4

connection
∂∂ 
.
∂∂ 
Execute
∂∂ &
(
∂∂& '
$str
∂∂' C
,
∂∂C D
param
∂∂E J
:
∂∂J K
param
∂∂L Q
,
∂∂Q R
commandType
∂∂S ^
:
∂∂^ _
CommandType
∂∂` k
.
∂∂k l
StoredProcedure
∂∂l {
)
∂∂{ |
;
∂∂| }
if
∑∑ 
(
∑∑ 

connection
∑∑ "
.
∑∑" #
State
∑∑# (
==
∑∑) +
ConnectionState
∑∑, ;
.
∑∑; <
Open
∑∑< @
)
∑∑@ A

connection
∏∏ "
.
∏∏" #
Close
∏∏# (
(
∏∏( )
)
∏∏) *
;
∏∏* +
	isSuccess
ππ 
=
ππ 
true
ππ  $
;
ππ$ %
}
∫∫ 
}
ªª 
catch
ºº 
(
ºº 
	Exception
ºº 
ex
ºº 
)
ºº  
{
ΩΩ 

ErrorClass
ææ 
objErr
ææ !
=
ææ" #
new
ææ$ '

ErrorClass
ææ( 2
(
ææ2 3
ex
ææ3 5
,
ææ5 6
string
ææ7 =
.
ææ= >
Format
ææ> D
(
ææD E
$strææE Ü
,ææÜ á

campaignIdææà í
,ææí ì
userIdææî ö
)ææö õ
)ææõ ú
;ææú ù
}
øø 
return
¿¿ 
	isSuccess
¿¿ 
;
¿¿ 
}
¡¡ 	
}
¬¬ 
}√√ ˚
PD:\work\bikewaleweb\Bikewale.ManufacturerCampaign.DAL\Properties\AssemblyInfo.cs
[ 
assembly 	
:	 

AssemblyTitle 
( 
$str <
)< =
]= >
[		 
assembly		 	
:			 

AssemblyDescription		 
(		 
$str		 !
)		! "
]		" #
[

 
assembly

 	
:

	 
!
AssemblyConfiguration

  
(

  !
$str

! #
)

# $
]

$ %
[ 
assembly 	
:	 

AssemblyCompany 
( 
$str 
) 
] 
[ 
assembly 	
:	 

AssemblyProduct 
( 
$str >
)> ?
]? @
[ 
assembly 	
:	 

AssemblyCopyright 
( 
$str 0
)0 1
]1 2
[ 
assembly 	
:	 

AssemblyTrademark 
( 
$str 
)  
]  !
[ 
assembly 	
:	 

AssemblyCulture 
( 
$str 
) 
] 
[ 
assembly 	
:	 


ComVisible 
( 
false 
) 
] 
[ 
assembly 	
:	 

Guid 
( 
$str 6
)6 7
]7 8
[## 
assembly## 	
:##	 

AssemblyVersion## 
(## 
$str## $
)##$ %
]##% &
[$$ 
assembly$$ 	
:$$	 

AssemblyFileVersion$$ 
($$ 
$str$$ (
)$$( )
]$$) *