êã
?D:\work\bikewaleweb\BikewaleOpr.DALs\Banner\BannerRepository.cs
	namespace 	
BikewaleOpr
 
. 
DALs 
. 
Banner !
{ 
public 

class 
BannerRepository !
:" #
IBannerRepository$ 5
{ 
public 
BannerVM 
GetBannerDetails (
(( )
uint) -
bannerId. 6
)6 7
{ 	
BannerVM 
objBannerVM  
=! "
null# '
;' (
try 
{ 
using 
( 
IDbConnection $

connection% /
=0 1
DatabaseHelper2 @
.@ A
GetMasterConnectionA T
(T U
)U V
)V W
{ 

connection   
.   
Open   #
(  # $
)  $ %
;  % &
var"" 
param"" 
="" 
new""  #
DynamicParameters""$ 5
(""5 6
)""6 7
;""7 8
param## 
.## 
Add## 
(## 
$str## &
,##& '
bannerId##( 0
)##0 1
;##1 2
var%% 
obj%% 
=%% 

connection%% (
.%%( )
QueryMultiple%%) 6
(%%6 7
$str%%7 S
,%%S T
param%%U Z
:%%Z [
param%%\ a
,%%a b
commandType%%c n
:%%n o
CommandType%%p {
.%%{ |
StoredProcedure	%%| ã
)
%%ã å
;
%%å ç
if&& 
(&& 
obj&& 
!=&& 
null&& #
)&&# $
{'' 
objBannerVM(( #
=(($ %
new((& )
BannerVM((* 2
(((2 3
)((3 4
;((4 5
objBannerVM)) #
.))# $ 
DesktopBannerDetails))$ 8
=))9 :
obj)); >
.))> ?
Read))? C
<))C D
BannerDetails))D Q
>))Q R
())R S
)))S T
.))T U
FirstOrDefault))U c
())c d
)))d e
;))e f
objBannerVM** #
.**# $
MobileBannerDetails**$ 7
=**8 9
obj**: =
.**= >
Read**> B
<**B C
BannerDetails**C P
>**P Q
(**Q R
)**R S
.**S T
FirstOrDefault**T b
(**b c
)**c d
;**d e
var++ 
objvm++ !
=++" #
obj++$ '
.++' (
Read++( ,
<++, -
dynamic++- 4
>++4 5
(++5 6
)++6 7
.++7 8
FirstOrDefault++8 F
(++F G
)++G H
;++H I
if,, 
(,, 
objvm,, !
!=,," $
null,,% )
),,) *
{-- 
objBannerVM.. '
...' (
	StartDate..( 1
=..2 3
objvm..4 9
...9 :
	StartDate..: C
;..C D
objBannerVM// '
.//' (
EndDate//( /
=//0 1
objvm//2 7
.//7 8
EndDate//8 ?
;//? @
objBannerVM00 '
.00' (
BannerDescription00( 9
=00: ;
objvm00< A
.00A B
BannerDescription00B S
;00S T
}11 
if44 
(44 
bannerId44 $
>44% &
$num44' (
)44( )
objBannerVM55 '
.55' (

CampaignId55( 2
=553 4
bannerId555 =
;55= >
}66 
if77 
(77 

connection77 "
.77" #
State77# (
==77) +
ConnectionState77, ;
.77; <
Open77< @
)77@ A

connection88 "
.88" #
Close88# (
(88( )
)88) *
;88* +
}99 
}:: 
catch;; 
(;; 
	Exception;; 
ex;; 
);;  
{<< 

ErrorClass== 
objErr== !
===" #
new==$ '

ErrorClass==( 2
(==2 3
ex==3 5
,==5 6
string==7 =
.=== >
Format==> D
(==D E
$str==E u
,==u v
bannerId==w 
)	== Ä
)
==Ä Å
;
==Å Ç
}>> 
return@@ 
objBannerVM@@ 
;@@ 
}BB 	
publicII 
IEnumerableII 
<II 
BannerPropertyII )
>II) *

GetBannersII+ 5
(II5 6
uintII6 :
bannerStatusII; G
)IIG H
{JJ 	
IEnumerableKK 
<KK 
BannerPropertyKK &
>KK& '
objBannerListKK( 5
=KK6 7
nullKK8 <
;KK< =
tryLL 
{MM 
usingNN 
(NN 
IDbConnectionNN $

connectionNN% /
=NN0 1
DatabaseHelperNN2 @
.NN@ A
GetMasterConnectionNNA T
(NNT U
)NNU V
)NNV W
{OO 

connectionPP 
.PP 
OpenPP #
(PP# $
)PP$ %
;PP% &
varRR 
paramRR 
=RR 
newRR  #
DynamicParametersRR$ 5
(RR5 6
)RR6 7
;RR7 8
paramSS 
.SS 
AddSS 
(SS 
$strSS *
,SS* +
bannerStatusSS, 8
)SS8 9
;SS9 :
objBannerListTT !
=TT" #

connectionTT$ .
.TT. /
QueryTT/ 4
<TT4 5
BannerPropertyTT5 C
>TTC D
(TTD E
$strTTE Y
,TTY Z
paramTT[ `
:TT` a
paramTTb g
,TTg h
commandTypeTTi t
:TTt u
CommandType	TTv Å
.
TTÅ Ç
StoredProcedure
TTÇ ë
)
TTë í
;
TTí ì
}UU 
}VV 
catchWW 
(WW 
	ExceptionWW 
exWW 
)WW  
{XX 

ErrorClassYY 
objErrYY !
=YY" #
newYY$ '

ErrorClassYY( 2
(YY2 3
exYY3 5
,YY5 6
stringYY7 =
.YY= >
FormatYY> D
(YYD E
$strYYE b
)YYb c
)YYc d
;YYd e
}ZZ 
return[[ 
objBannerList[[  
;[[  !
}\\ 	
public^^ 
bool^^ 
ChangeBannerStatus^^ &
(^^& '
uint^^' +
bannerId^^, 4
,^^4 5
UInt16^^6 <
bannerStatus^^= I
)^^I J
{__ 	
bool`` 
status`` 
=`` 
false`` 
;``  
tryaa 
{bb 
usingcc 
(cc 
IDbConnectioncc $

connectioncc% /
=cc0 1
DatabaseHelpercc2 @
.cc@ A
GetMasterConnectionccA T
(ccT U
)ccU V
)ccV W
{dd 

connectionee 
.ee 
Openee #
(ee# $
)ee$ %
;ee% &
vargg 
paramgg 
=gg 
newgg  #
DynamicParametersgg$ 5
(gg5 6
)gg6 7
;gg7 8
paramhh 
.hh 
Addhh 
(hh 
$strhh ,
,hh, -
bannerIdhh. 6
)hh6 7
;hh7 8
paramii 
.ii 
Addii 
(ii 
$strii *
,ii* +
bannerStatusii, 8
)ii8 9
;ii9 :

connectionjj 
.jj 
Executejj &
(jj& '
$strjj' ;
,jj; <
paramjj= B
:jjB C
paramjjD I
,jjI J
commandTypejjK V
:jjV W
CommandTypejjX c
.jjc d
StoredProcedurejjd s
)jjs t
;jjt u
statuskk 
=kk 
truekk !
;kk! "
}ll 
}mm 
catchnn 
(nn 
	Exceptionnn 
exnn 
)nn  
{oo 

ErrorClasspp 
objErrpp !
=pp" #
newpp$ '

ErrorClasspp( 2
(pp2 3
expp3 5
,pp5 6
stringpp7 =
.pp= >
Formatpp> D
(ppD E
$strppE b
)ppb c
)ppc d
;ppd e
}qq 
returnrr 
statusrr 
;rr 
}ss 	
publiczz 
uintzz "
SaveBannerBasicDetailszz *
(zz* +
BannerVMzz+ 3
	objBannerzz4 =
)zz= >
{{{ 	
uint|| 

campaignid|| 
=|| 
$num|| 
;||  
try}} 
{~~ 
using 
( 
IDbConnection $

connection% /
=0 1
DatabaseHelper2 @
.@ A
GetMasterConnectionA T
(T U
)U V
)V W
{
ÄÄ 

connection
ÅÅ 
.
ÅÅ 
Open
ÅÅ #
(
ÅÅ# $
)
ÅÅ$ %
;
ÅÅ% &
var
ÉÉ 
param
ÉÉ 
=
ÉÉ 
new
ÉÉ  #
DynamicParameters
ÉÉ$ 5
(
ÉÉ5 6
)
ÉÉ6 7
;
ÉÉ7 8
param
ÑÑ 
.
ÑÑ 
Add
ÑÑ 
(
ÑÑ 
$str
ÑÑ &
,
ÑÑ& '
	objBanner
ÑÑ( 1
.
ÑÑ1 2

CampaignId
ÑÑ2 <
)
ÑÑ< =
;
ÑÑ= >
param
ÖÖ 
.
ÖÖ 
Add
ÖÖ 
(
ÖÖ 
$str
ÖÖ -
,
ÖÖ- .
	objBanner
ÖÖ/ 8
.
ÖÖ8 9
	StartDate
ÖÖ9 B
)
ÖÖB C
;
ÖÖC D
param
ÜÜ 
.
ÜÜ 
Add
ÜÜ 
(
ÜÜ 
$str
ÜÜ +
,
ÜÜ+ ,
	objBanner
ÜÜ- 6
.
ÜÜ6 7
EndDate
ÜÜ7 >
)
ÜÜ> ?
;
ÜÜ? @
param
áá 
.
áá 
Add
áá 
(
áá 
$str
áá 5
,
áá5 6
	objBanner
áá7 @
.
áá@ A
BannerDescription
ááA R
)
ááR S
;
ááS T
param
àà 
.
àà 
Add
àà 
(
àà 
$str
àà *
,
àà* +
	objBanner
àà, 5
.
àà5 6
UserId
àà6 <
)
àà< =
;
àà= >

campaignid
ââ 
=
ââ  

connection
ââ! +
.
ââ+ ,
Query
ââ, 1
<
ââ1 2
uint
ââ2 6
>
ââ6 7
(
ââ7 8
$str
ââ8 P
,
ââP Q
param
ââR W
:
ââW X
param
ââY ^
,
ââ^ _
commandType
ââ` k
:
ââk l
CommandType
ââm x
.
ââx y
StoredProcedureâây à
)ââà â
.âââ ä
FirstOrDefaultââä ò
(ââò ô
)ââô ö
;ââö õ
}
ää 
}
ãã 
catch
åå 
(
åå 
	Exception
åå 
ex
åå 
)
åå  
{
çç 

ErrorClass
éé 
objErr
éé !
=
éé" #
new
éé$ '

ErrorClass
éé( 2
(
éé2 3
ex
éé3 5
,
éé5 6
string
éé7 =
.
éé= >
Format
éé> D
(
ééD E
$str
ééE x
,
ééx y

campaignidééz Ñ
)ééÑ Ö
)ééÖ Ü
;ééÜ á
}
èè 
return
êê 

campaignid
êê 
;
êê 
}
íí 	
public
óó 
bool
óó "
SaveBannerProperties
óó (
(
óó( )
BannerDetails
óó) 6
	objBanner
óó7 @
,
óó@ A
uint
óóB F

platformId
óóG Q
,
óóQ R
uint
óóS W

campaignId
óóX b
)
óób c
{
òò 	
int
ôô 
success
ôô 
=
ôô 
$num
ôô 
;
ôô 
try
öö 
{
õõ 
using
úú 
(
úú 
IDbConnection
úú $

connection
úú% /
=
úú0 1
DatabaseHelper
úú2 @
.
úú@ A!
GetMasterConnection
úúA T
(
úúT U
)
úúU V
)
úúV W
{
ùù 

connection
ûû 
.
ûû 
Open
ûû #
(
ûû# $
)
ûû$ %
;
ûû% &
var
üü 
param
üü 
=
üü 
new
üü  #
DynamicParameters
üü$ 5
(
üü5 6
)
üü6 7
;
üü7 8
param
†† 
.
†† 
Add
†† 
(
†† 
$str
†† 6
,
††6 7
	objBanner
††8 A
.
††A B 
HorizontalPosition
††B T
)
††T U
;
††U V
param
°° 
.
°° 
Add
°° 
(
°° 
$str
°° 4
,
°°4 5
	objBanner
°°6 ?
.
°°? @
VerticalPosition
°°@ P
)
°°P Q
;
°°Q R
param
¢¢ 
.
¢¢ 
Add
¢¢ 
(
¢¢ 
$str
¢¢ 3
,
¢¢3 4
	objBanner
¢¢5 >
.
¢¢> ?
BackgroundColor
¢¢? N
)
¢¢N O
;
¢¢O P
param
££ 
.
££ 
Add
££ 
(
££ 
$str
££ 2
,
££2 3
	objBanner
££4 =
.
££= >
ButtonPosition
££> L
)
££L M
;
££M N
param
§§ 
.
§§ 
Add
§§ 
(
§§ 
$str
§§ /
,
§§/ 0
	objBanner
§§1 :
.
§§: ;
BannerTitle
§§; F
)
§§F G
;
§§G H
param
•• 
.
•• 
Add
•• 
(
•• 
$str
•• .
,
••. /
	objBanner
••0 9
.
••9 :

ButtonText
••: D
)
••D E
;
••E F
param
¶¶ 
.
¶¶ 
Add
¶¶ 
(
¶¶ 
$str
¶¶ .
,
¶¶. /
	objBanner
¶¶0 9
.
¶¶9 :

ButtonType
¶¶: D
)
¶¶D E
;
¶¶E F
param
ßß 
.
ßß 
Add
ßß 
(
ßß 
$str
ßß .
,
ßß. /
	objBanner
ßß0 9
.
ßß9 :

TargetHref
ßß: D
)
ßßD E
;
ßßE F
param
®® 
.
®® 
Add
®® 
(
®® 
$str
®® /
,
®®/ 0
	objBanner
®®1 :
.
®®: ;
ButtonColor
®®; F
)
®®F G
;
®®G H
param
©© 
.
©© 
Add
©© 
(
©© 
$str
©© *
,
©©* +
	objBanner
©©, 5
.
©©5 6
Target
©©6 <
)
©©< =
;
©©= >
param
™™ 
.
™™ 
Add
™™ 
(
™™ 
$str
™™ 2
,
™™2 3
	objBanner
™™4 =
.
™™= >
JumbotronDepth
™™> L
)
™™L M
;
™™M N
param
´´ 
.
´´ 
Add
´´ 
(
´´ 
$str
´´ (
,
´´( )
	objBanner
´´* 3
.
´´3 4
HTML
´´4 8
)
´´8 9
;
´´9 :
param
¨¨ 
.
¨¨ 
Add
¨¨ 
(
¨¨ 
$str
¨¨ '
,
¨¨' (
	objBanner
¨¨) 2
.
¨¨2 3
CSS
¨¨3 6
)
¨¨6 7
;
¨¨7 8
param
≠≠ 
.
≠≠ 
Add
≠≠ 
(
≠≠ 
$str
≠≠ 2
,
≠≠2 3
	objBanner
≠≠4 =
.
≠≠= >
UnModifiedHtml
≠≠> L
)
≠≠L M
;
≠≠M N
param
ÆÆ 
.
ÆÆ 
Add
ÆÆ 
(
ÆÆ 
$str
ÆÆ 1
,
ÆÆ1 2
	objBanner
ÆÆ3 <
.
ÆÆ< =
UnModifiedCSS
ÆÆ= J
)
ÆÆJ K
;
ÆÆK L
param
ØØ 
.
ØØ 
Add
ØØ 
(
ØØ 
$str
ØØ &
,
ØØ& '
	objBanner
ØØ( 1
.
ØØ1 2
JS
ØØ2 4
)
ØØ4 5
;
ØØ5 6
param
∞∞ 
.
∞∞ 
Add
∞∞ 
(
∞∞ 
$str
∞∞ &
,
∞∞& '

campaignId
∞∞( 2
)
∞∞2 3
;
∞∞3 4
param
±± 
.
±± 
Add
±± 
(
±± 
$str
±± .
,
±±. /

platformId
±±0 :
)
±±: ;
;
±±; <
param
≤≤ 
.
≤≤ 
Add
≤≤ 
(
≤≤ 
$str
≤≤ ,
,
≤≤, -
	objBanner
≤≤. 7
.
≤≤7 8
Category
≤≤8 @
)
≤≤@ A
;
≤≤A B
param
≥≥ 
.
≥≥ 
Add
≥≥ 
(
≥≥ 
$str
≥≥ *
,
≥≥* +
	objBanner
≥≥, 5
.
≥≥5 6
Action
≥≥6 <
)
≥≥< =
;
≥≥= >
param
¥¥ 
.
¥¥ 
Add
¥¥ 
(
¥¥ 
$str
¥¥ )
,
¥¥) *
	objBanner
¥¥+ 4
.
¥¥4 5
Label
¥¥5 :
)
¥¥: ;
;
¥¥; <
success
µµ 
=
µµ 

connection
µµ (
.
µµ( )
Execute
µµ) 0
(
µµ0 1
$str
µµ1 D
,
µµD E
param
µµF K
:
µµK L
param
µµM R
,
µµR S
commandType
µµT _
:
µµ_ `
CommandType
µµa l
.
µµl m
StoredProcedure
µµm |
)
µµ| }
;
µµ} ~
}
∂∂ 
}
∏∏ 
catch
ππ 
(
ππ 
	Exception
ππ 
ex
ππ 
)
ππ  
{
∫∫ 

ErrorClass
ªª 
objErr
ªª !
=
ªª" #
new
ªª$ '

ErrorClass
ªª( 2
(
ªª2 3
ex
ªª3 5
,
ªª5 6
string
ªª7 =
.
ªª= >
Format
ªª> D
(
ªªD E
$str
ªªE x
,
ªªx y

campaignIdªªz Ñ
)ªªÑ Ö
)ªªÖ Ü
;ªªÜ á
}
ºº 
return
ΩΩ 
success
ΩΩ 
>
ΩΩ 
$num
ΩΩ 
;
ΩΩ 
}
ææ 	
}
øø 
}¿¿ ±*
QD:\work\bikewaleweb\BikewaleOpr.DALs\BikeColorImages\ColorImagesBikeRepository.cs
	namespace

 	
BikewaleOpr


 
.

 
DALs

 
.

 
BikeColorImages

 *
{ 
public 

class %
ColorImagesBikeRepository *
:+ ,&
IColorImagesBikeRepository- G
{ 
public 
uint 
FetchPhotoId  
(  !#
ColorImagesBikeEntities! 8
objBikeColorDetails9 L
)L M
{ 	
uint 
photoId 
= 
$num 
; 
try 
{ 
using 
( 
	DbCommand  
cmd! $
=% &
	DbFactory' 0
.0 1
GetDBCommand1 =
(= >
$str> `
)` a
)a b
{ 
cmd   
.   
CommandType   #
=  $ %
CommandType  & 1
.  1 2
StoredProcedure  2 A
;  A B
cmd"" 
."" 

Parameters"" "
.""" #
Add""# &
(""& '
	DbFactory""' 0
.""0 1

GetDbParam""1 ;
(""; <
$str""< I
,""I J
DbType""K Q
.""Q R
Int32""R W
,""W X
objBikeColorDetails""Y l
.""l m
Modelid""m t
)""t u
)""u v
;""v w
cmd## 
.## 

Parameters## "
.##" #
Add### &
(##& '
	DbFactory##' 0
.##0 1

GetDbParam##1 ;
(##; <
$str##< N
,##N O
DbType##P V
.##V W
Int32##W \
,##\ ]
objBikeColorDetails##^ q
.##q r
ModelColorId##r ~
)##~ 
)	## Ä
;
##Ä Å
cmd$$ 
.$$ 

Parameters$$ "
.$$" #
Add$$# &
($$& '
	DbFactory$$' 0
.$$0 1

GetDbParam$$1 ;
($$; <
$str$$< H
,$$H I
DbType$$J P
.$$P Q
Int32$$Q V
,$$V W
objBikeColorDetails$$X k
.$$k l
UserId$$l r
)$$r s
)$$s t
;$$t u
using&& 
(&& 
IDataReader&& &
dr&&' )
=&&* +
MySqlDatabase&&, 9
.&&9 :
SelectQuery&&: E
(&&E F
cmd&&F I
,&&I J
ConnectionType&&K Y
.&&Y Z
MasterDatabase&&Z h
)&&h i
)&&i j
{'' 
if(( 
((( 
dr(( 
!=(( !
null((" &
)((& '
{)) 
while++ !
(++" #
dr++# %
.++% &
Read++& *
(++* +
)+++ ,
)++, -
{,, 
photoId--  '
=--( )
SqlReaderConvertor--* <
.--< =
ToUInt32--= E
(--E F
dr--F H
[--H I
$str--I M
]--M N
)--N O
;--O P
}.. 
dr// 
.// 
Close// $
(//$ %
)//% &
;//& '
}00 
}11 
}22 
}44 
catch55 
(55 
	Exception55 
ex55 
)55  
{66 

ErrorClass77 
objErr77 !
=77" #
new77$ '

ErrorClass77( 2
(772 3
ex773 5
,775 6
$str777 g
)77g h
;77h i
}88 
return:: 
photoId:: 
;:: 
};; 	
publicBB 
boolBB "
DeleteBikeColorDetailsBB *
(BB* +
uintBB+ /
photoIdBB0 7
)BB7 8
{CC 	
boolDD 
	isDeletedDD 
=DD 
falseDD "
;DD" #
tryEE 
{FF 
usingGG 
(GG 
	DbCommandGG  
cmdGG! $
=GG% &
	DbFactoryGG' 0
.GG0 1
GetDBCommandGG1 =
(GG= >
$strGG> b
)GGb c
)GGc d
{HH 
cmdJJ 
.JJ 
CommandTypeJJ #
=JJ$ %
CommandTypeJJ& 1
.JJ1 2
StoredProcedureJJ2 A
;JJA B
cmdLL 
.LL 

ParametersLL "
.LL" #
AddLL# &
(LL& '
	DbFactoryLL' 0
.LL0 1

GetDbParamLL1 ;
(LL; <
$strLL< I
,LLI J
DbTypeLLK Q
.LLQ R
Int32LLR W
,LLW X
photoIdLLY `
)LL` a
)LLa b
;LLb c
ConvertMM 
.MM 
	ToBooleanMM %
(MM% &
MySqlDatabaseMM& 3
.MM3 4
ExecuteNonQueryMM4 C
(MMC D
cmdMMD G
,MMG H
ConnectionTypeMMI W
.MMW X
MasterDatabaseMMX f
)MMf g
)MMg h
;MMh i
	isDeletedNN 
=NN 
trueNN  $
;NN$ %
}PP 
}QQ 
catchRR 
(RR 
	ExceptionRR 
exRR 
)RR  
{SS 

ErrorClassTT 
objErrTT !
=TT" #
newTT$ '

ErrorClassTT( 2
(TT2 3
exTT3 5
,TT5 6
$strTT7 i
)TTi j
;TTj k
}UU 
returnWW 
	isDeletedWW 
;WW 
}XX 	
}YY 
}ZZ Çı
DD:\work\bikewaleweb\BikewaleOpr.DALs\Bikedata\BikeMakesRepository.cs
	namespace 	
BikewaleOpr
 
. 
DALs 
. 
Bikedata #
{ 
public 

class 
BikeMakesRepository $
:% & 
IBikeMakesRepository' ;
{ 
public 
IEnumerable 
< 
BikeMakeEntityBase -
>- .
GetMakes/ 7
(7 8
string8 >
RequestType? J
)J K
{ 	
IList   
<   
BikeMakeEntityBase   $
>  $ %
_objBikeMakes  & 3
=  4 5
null  6 :
;  : ;
try!! 
{"" 
using## 
(## 
	DbCommand##  
cmd##! $
=##% &
	DbFactory##' 0
.##0 1
GetDBCommand##1 =
(##= >
$str##> L
)##L M
)##M N
{$$ 
cmd%% 
.%% 
CommandType%% #
=%%$ %
CommandType%%& 1
.%%1 2
StoredProcedure%%2 A
;%%A B
cmd&& 
.&& 

Parameters&& "
.&&" #
Add&&# &
(&&& '
	DbFactory&&' 0
.&&0 1

GetDbParam&&1 ;
(&&; <
$str&&< M
,&&M N
DbType&&O U
.&&U V
String&&V \
,&&\ ]
$num&&^ `
,&&` a
RequestType&&b m
)&&m n
)&&n o
;&&o p
using(( 
((( 
IDataReader(( &
dr((' )
=((* +
MySqlDatabase((, 9
.((9 :
SelectQuery((: E
(((E F
cmd((F I
,((I J
ConnectionType((K Y
.((Y Z
ReadOnly((Z b
)((b c
)((c d
{)) 
if** 
(** 
dr** 
!=** !
null**" &
)**& '
{++ 
_objBikeMakes,, )
=,,* +
new,,, /
List,,0 4
<,,4 5
BikeMakeEntityBase,,5 G
>,,G H
(,,H I
),,I J
;,,J K
while-- !
(--" #
dr--# %
.--% &
Read--& *
(--* +
)--+ ,
)--, -
{.. 
BikeMakeEntityBase//  2
_objMake//3 ;
=//< =
new//> A
BikeMakeEntityBase//B T
(//T U
)//U V
;//V W
_objMake00  (
.00( )
MakeName00) 1
=002 3
Convert004 ;
.00; <
ToString00< D
(00D E
dr00E G
[00G H
$str00H N
]00N O
)00O P
;00P Q
_objMake11  (
.11( )
MakeId11) /
=110 1
SqlReaderConvertor112 D
.11D E
ToInt3211E L
(11L M
dr11M O
[11O P
$str11P W
]11W X
)11X Y
;11Y Z
_objBikeMakes22  -
.22- .
Add22. 1
(221 2
_objMake222 :
)22: ;
;22; <
}33 
}44 
}55 
}77 
}88 
catch99 
(99 
	Exception99 
ex99 
)99  
{:: 

ErrorClass;; 
objErr;; !
=;;" #
new;;$ '

ErrorClass;;( 2
(;;2 3
ex;;3 5
,;;5 6
$str;;7 \
+;;] ^
RequestType;;_ j
);;j k
;;;k l
}<< 
return== 
_objBikeMakes==  
;==  !
}>> 	
publicEE 
IEnumerableEE 
<EE 
BikeMakeEntityEE )
>EE) *
GetMakesListEE+ 7
(EE7 8
)EE8 9
{FF 	
IEnumerableGG 
<GG 
BikeMakeEntityGG &
>GG& '
objMakesGG( 0
=GG1 2
nullGG3 7
;GG7 8
tryII 
{JJ 
usingKK 
(KK 
IDbConnectionKK $

connectionKK% /
=KK0 1
DatabaseHelperKK2 @
.KK@ A!
GetReadonlyConnectionKKA V
(KKV W
)KKW X
)KKX Y
{LL 

connectionMM 
.MM 
OpenMM #
(MM# $
)MM$ %
;MM% &
objMakesOO 
=OO 

connectionOO )
.OO) *
QueryOO* /
<OO/ 0
BikeMakeEntityOO0 >
>OO> ?
(OO? @
$strOO@ N
,OON O
CommandTypeOOP [
.OO[ \
StoredProcedureOO\ k
)OOk l
;OOl m
ifQQ 
(QQ 

connectionQQ "
.QQ" #
StateQQ# (
==QQ) +
ConnectionStateQQ, ;
.QQ; <
OpenQQ< @
)QQ@ A

connectionRR "
.RR" #
CloseRR# (
(RR( )
)RR) *
;RR* +
}SS 
}TT 
catchUU 
(UU 
	ExceptionUU 
exUU 
)UU  
{VV 

ErrorClassWW 
objErrWW !
=WW" #
newWW$ '

ErrorClassWW( 2
(WW2 3
exWW3 5
,WW5 6
$strWW7 _
)WW_ `
;WW` a
}XX 
returnZZ 
objMakesZZ 
;ZZ 
}[[ 	
publicdd 
voiddd 
AddMakedd 
(dd 
BikeMakeEntitydd *
makedd+ /
,dd/ 0
refdd1 4
shortdd5 :
isMakeExistdd; F
,ddF G
refddH K
intddL O
makeIdddP V
)ddV W
{ee 	
tryff 
{gg 
usinghh 
(hh 
IDbConnectionhh $

connectionhh% /
=hh0 1
DatabaseHelperhh2 @
.hh@ A
GetMasterConnectionhhA T
(hhT U
)hhU V
)hhV W
{ii 

connectionjj 
.jj 
Openjj #
(jj# $
)jj$ %
;jj% &
varll 
paramll 
=ll 
newll  #
DynamicParametersll$ 5
(ll5 6
)ll6 7
;ll7 8
paramnn 
.nn 
Addnn 
(nn 
$strnn (
,nn( )
makenn* .
.nn. /
MakeNamenn/ 7
)nn7 8
;nn8 9
paramoo 
.oo 
Addoo 
(oo 
$stroo 3
,oo3 4
makeoo5 9
.oo9 :
MaskingNameoo: E
)ooE F
;ooF G
parampp 
.pp 
Addpp 
(pp 
$strpp *
,pp* +
makepp, 0
.pp0 1
	UpdatedBypp1 :
)pp: ;
;pp; <
paramqq 
.qq 
Addqq 
(qq 
$strqq /
,qq/ 0
dbTypeqq1 7
:qq7 8
DbTypeqq9 ?
.qq? @
Int16qq@ E
,qqE F
	directionqqG P
:qqP Q
ParameterDirectionqqR d
.qqd e
Outputqqe k
)qqk l
;qql m
paramrr 
.rr 
Addrr 
(rr 
$strrr *
,rr* +
dbTyperr, 2
:rr2 3
DbTyperr4 :
.rr: ;
Int32rr; @
,rr@ A
	directionrrB K
:rrK L
ParameterDirectionrrM _
.rr_ `
Outputrr` f
)rrf g
;rrg h

connectiontt 
.tt 
Querytt $
<tt$ %
dynamictt% ,
>tt, -
(tt- .
$strtt. >
,tt> ?
paramtt@ E
:ttE F
paramttG L
,ttL M
commandTypettN Y
:ttY Z
CommandTypett[ f
.ttf g
StoredProcedurettg v
)ttv w
;ttw x
isMakeExistvv 
=vv  !
paramvv" '
.vv' (
Getvv( +
<vv+ ,
shortvv, 1
>vv1 2
(vv2 3
$strvv3 D
)vvD E
;vvE F
makeIdww 
=ww 
paramww "
.ww" #
Getww# &
<ww& '
intww' *
>ww* +
(ww+ ,
$strww, 8
)ww8 9
;ww9 :
ifyy 
(yy 

connectionyy "
.yy" #
Stateyy# (
==yy) +
ConnectionStateyy, ;
.yy; <
Openyy< @
)yy@ A

connectionzz "
.zz" #
Closezz# (
(zz( )
)zz) *
;zz* +
if|| 
(|| 
makeId|| 
>||  
$num||! "
)||" #
{}} 
NameValueCollection +
nvc, /
=0 1
new2 5
NameValueCollection6 I
(I J
)J K
;K L
nvc
ÄÄ 
.
ÄÄ 
Add
ÄÄ 
(
ÄÄ  
$str
ÄÄ  *
,
ÄÄ* +
makeId
ÄÄ, 2
.
ÄÄ2 3
ToString
ÄÄ3 ;
(
ÄÄ; <
)
ÄÄ< =
)
ÄÄ= >
;
ÄÄ> ?
nvc
ÅÅ 
.
ÅÅ 
Add
ÅÅ 
(
ÅÅ  
$str
ÅÅ  ,
,
ÅÅ, -
make
ÅÅ. 2
.
ÅÅ2 3
MakeName
ÅÅ3 ;
)
ÅÅ; <
;
ÅÅ< =
nvc
ÇÇ 
.
ÇÇ 
Add
ÇÇ 
(
ÇÇ  
$str
ÇÇ  /
,
ÇÇ/ 0
make
ÇÇ1 5
.
ÇÇ5 6
MaskingName
ÇÇ6 A
)
ÇÇA B
;
ÇÇB C
nvc
ÉÉ 
.
ÉÉ 
Add
ÉÉ 
(
ÉÉ  
$str
ÉÉ  .
,
ÉÉ. /
$str
ÉÉ0 3
)
ÉÉ3 4
;
ÉÉ4 5
nvc
ÑÑ 
.
ÑÑ 
Add
ÑÑ 
(
ÑÑ  
$str
ÑÑ  (
,
ÑÑ( )
$str
ÑÑ* -
)
ÑÑ- .
;
ÑÑ. /
nvc
ÖÖ 
.
ÖÖ 
Add
ÖÖ 
(
ÖÖ  
$str
ÖÖ  '
,
ÖÖ' (
$str
ÖÖ) ,
)
ÖÖ, -
;
ÖÖ- .

SyncBWData
ÜÜ "
.
ÜÜ" #
PushToQueue
ÜÜ# .
(
ÜÜ. /
$str
ÜÜ/ @
,
ÜÜ@ A
DataBaseName
ÜÜB N
.
ÜÜN O
CW
ÜÜO Q
,
ÜÜQ R
nvc
ÜÜS V
)
ÜÜV W
;
ÜÜW X
}
áá 
}
àà 
}
ââ 
catch
ää 
(
ää 
	Exception
ää 
ex
ää 
)
ää  
{
ãã 

ErrorClass
åå 
objErr
åå !
=
åå" #
new
åå$ '

ErrorClass
åå( 2
(
åå2 3
ex
åå3 5
,
åå5 6
$str
åå7 Z
)
ååZ [
;
åå[ \
}
çç 
}
éé 	
public
ïï 
void
ïï 

UpdateMake
ïï 
(
ïï 
BikeMakeEntity
ïï -
make
ïï. 2
)
ïï2 3
{
ññ 	
try
óó 
{
òò 
using
ôô 
(
ôô 
IDbConnection
ôô $

connection
ôô% /
=
ôô0 1
DatabaseHelper
ôô2 @
.
ôô@ A!
GetMasterConnection
ôôA T
(
ôôT U
)
ôôU V
)
ôôV W
{
öö 

connection
õõ 
.
õõ 
Open
õõ #
(
õõ# $
)
õõ$ %
;
õõ% &
var
ùù 
param
ùù 
=
ùù 
new
ùù  #
DynamicParameters
ùù$ 5
(
ùù5 6
)
ùù6 7
;
ùù7 8
param
üü 
.
üü 
Add
üü 
(
üü 
$str
üü (
,
üü( )
make
üü* .
.
üü. /
MakeName
üü/ 7
)
üü7 8
;
üü8 9
param
†† 
.
†† 
Add
†† 
(
†† 
$str
†† *
,
††* +
make
††, 0
.
††0 1
MakeId
††1 7
)
††7 8
;
††8 9
param
°° 
.
°° 
Add
°° 
(
°° 
$str
°° 3
,
°°3 4
make
°°5 9
.
°°9 :
MaskingName
°°: E
)
°°E F
;
°°F G
param
¢¢ 
.
¢¢ 
Add
¢¢ 
(
¢¢ 
$str
¢¢ 0
,
¢¢0 1
make
¢¢2 6
.
¢¢6 7

Futuristic
¢¢7 A
)
¢¢A B
;
¢¢B C
param
££ 
.
££ 
Add
££ 
(
££ 
$str
££ )
,
££) *
make
££+ /
.
££/ 0
New
££0 3
)
££3 4
;
££4 5
param
§§ 
.
§§ 
Add
§§ 
(
§§ 
$str
§§ *
,
§§* +
make
§§, 0
.
§§0 1
Used
§§1 5
)
§§5 6
;
§§6 7
param
•• 
.
•• 
Add
•• 
(
•• 
$str
•• *
,
••* +
make
••, 0
.
••0 1
	UpdatedBy
••1 :
)
••: ;
;
••; <

connection
ßß 
.
ßß 
Query
ßß $
(
ßß$ %
$str
ßß% 5
,
ßß5 6
param
ßß7 <
:
ßß< =
param
ßß> C
,
ßßC D
commandType
ßßE P
:
ßßP Q
CommandType
ßßR ]
.
ßß] ^
StoredProcedure
ßß^ m
)
ßßm n
;
ßßn o
if
©© 
(
©© 

connection
©© "
.
©©" #
State
©©# (
==
©©) +
ConnectionState
©©, ;
.
©©; <
Open
©©< @
)
©©@ A

connection
™™ "
.
™™" #
Close
™™# (
(
™™( )
)
™™) *
;
™™* +!
NameValueCollection
ÆÆ '
nvc
ÆÆ( +
=
ÆÆ, -
new
ÆÆ. 1!
NameValueCollection
ÆÆ2 E
(
ÆÆE F
)
ÆÆF G
;
ÆÆG H
nvc
ØØ 
.
ØØ 
Add
ØØ 
(
ØØ 
$str
ØØ &
,
ØØ& '
make
ØØ( ,
.
ØØ, -
MakeId
ØØ- 3
.
ØØ3 4
ToString
ØØ4 <
(
ØØ< =
)
ØØ= >
)
ØØ> ?
;
ØØ? @
nvc
∞∞ 
.
∞∞ 
Add
∞∞ 
(
∞∞ 
$str
∞∞ (
,
∞∞( )
make
∞∞* .
.
∞∞. /
MakeName
∞∞/ 7
)
∞∞7 8
;
∞∞8 9
nvc
±± 
.
±± 
Add
±± 
(
±± 
$str
±± %
,
±±% &
Convert
±±' .
.
±±. /
ToString
±±/ 7
(
±±7 8
make
±±8 <
.
±±< =
New
±±= @
?
±±A B
$num
±±C D
:
±±D E
$num
±±E F
)
±±F G
)
±±G H
;
±±H I
nvc
≤≤ 
.
≤≤ 
Add
≤≤ 
(
≤≤ 
$str
≤≤ &
,
≤≤& '
Convert
≤≤( /
.
≤≤/ 0
ToString
≤≤0 8
(
≤≤8 9
make
≤≤9 =
.
≤≤= >
Used
≤≤> B
?
≤≤C D
$num
≤≤E F
:
≤≤G H
$num
≤≤I J
)
≤≤J K
)
≤≤K L
;
≤≤L M
nvc
≥≥ 
.
≥≥ 
Add
≥≥ 
(
≥≥ 
$str
≥≥ ,
,
≥≥, -
Convert
≥≥. 5
.
≥≥5 6
ToString
≥≥6 >
(
≥≥> ?
make
≥≥? C
.
≥≥C D
Used
≥≥D H
?
≥≥I J
$num
≥≥K L
:
≥≥M N
$num
≥≥O P
)
≥≥P Q
)
≥≥Q R
;
≥≥R S
nvc
¥¥ 
.
¥¥ 
Add
¥¥ 
(
¥¥ 
$str
¥¥ +
,
¥¥+ ,
make
¥¥- 1
.
¥¥1 2
MaskingName
¥¥2 =
)
¥¥= >
;
¥¥> ?
nvc
µµ 
.
µµ 
Add
µµ 
(
µµ 
$str
µµ )
,
µµ) *
null
µµ+ /
)
µµ/ 0
;
µµ0 1

SyncBWData
∂∂ 
.
∂∂ 
PushToQueue
∂∂ *
(
∂∂* +
$str
∂∂+ ?
,
∂∂? @
DataBaseName
∂∂A M
.
∂∂M N
CW
∂∂N P
,
∂∂P Q
nvc
∂∂R U
)
∂∂U V
;
∂∂V W
}
∏∏ 
}
ππ 
catch
∫∫ 
(
∫∫ 
	Exception
∫∫ 
ex
∫∫ 
)
∫∫  
{
ªª 

ErrorClass
ºº 
objErr
ºº !
=
ºº" #
new
ºº$ '

ErrorClass
ºº( 2
(
ºº2 3
ex
ºº3 5
,
ºº5 6
$str
ºº7 ]
)
ºº] ^
;
ºº^ _
}
ΩΩ 
}
ææ 	
public
∆∆ 
void
∆∆ 

DeleteMake
∆∆ 
(
∆∆ 
int
∆∆ "
makeId
∆∆# )
,
∆∆) *
int
∆∆+ .
	updatedBy
∆∆/ 8
)
∆∆8 9
{
«« 	
try
»» 
{
…… 
using
   
(
   
IDbConnection
   $

connection
  % /
=
  0 1
DatabaseHelper
  2 @
.
  @ A!
GetMasterConnection
  A T
(
  T U
)
  U V
)
  V W
{
ÀÀ 

connection
ÃÃ 
.
ÃÃ 
Open
ÃÃ #
(
ÃÃ# $
)
ÃÃ$ %
;
ÃÃ% &
var
ŒŒ 
param
ŒŒ 
=
ŒŒ 
new
ŒŒ  #
DynamicParameters
ŒŒ$ 5
(
ŒŒ5 6
)
ŒŒ6 7
;
ŒŒ7 8
param
–– 
.
–– 
Add
–– 
(
–– 
$str
–– *
,
––* +
makeId
––, 2
)
––2 3
;
––3 4
param
—— 
.
—— 
Add
—— 
(
—— 
$str
—— -
,
——- .
	updatedBy
——/ 8
)
——8 9
;
——9 :

connection
”” 
.
”” 
Query
”” $
(
””$ %
$str
””% B
,
””B C
param
””D I
:
””I J
param
””K P
,
””P Q
commandType
””R ]
:
””] ^
CommandType
””_ j
.
””j k
StoredProcedure
””k z
)
””z {
;
””{ |
if
’’ 
(
’’ 

connection
’’ "
.
’’" #
State
’’# (
==
’’) +
ConnectionState
’’, ;
.
’’; <
Open
’’< @
)
’’@ A

connection
÷÷ "
.
÷÷" #
Close
÷÷# (
(
÷÷( )
)
÷÷) *
;
÷÷* +!
NameValueCollection
ÿÿ '
nvc
ÿÿ( +
=
ÿÿ, -
new
ÿÿ. 1!
NameValueCollection
ÿÿ2 E
(
ÿÿE F
)
ÿÿF G
;
ÿÿG H
nvc
ŸŸ 
.
ŸŸ 
Add
ŸŸ 
(
ŸŸ 
$str
ŸŸ &
,
ŸŸ& '
makeId
ŸŸ( .
.
ŸŸ. /
ToString
ŸŸ/ 7
(
ŸŸ7 8
)
ŸŸ8 9
)
ŸŸ9 :
;
ŸŸ: ;
nvc
⁄⁄ 
.
⁄⁄ 
Add
⁄⁄ 
(
⁄⁄ 
$str
⁄⁄ +
,
⁄⁄+ ,
null
⁄⁄- 1
)
⁄⁄1 2
;
⁄⁄2 3
nvc
€€ 
.
€€ 
Add
€€ 
(
€€ 
$str
€€ (
,
€€( )
null
€€* .
)
€€. /
;
€€/ 0
nvc
‹‹ 
.
‹‹ 
Add
‹‹ 
(
‹‹ 
$str
‹‹ %
,
‹‹% &
null
‹‹' +
)
‹‹+ ,
;
‹‹, -
nvc
›› 
.
›› 
Add
›› 
(
›› 
$str
›› &
,
››& '
null
››( ,
)
››, -
;
››- .
nvc
ﬁﬁ 
.
ﬁﬁ 
Add
ﬁﬁ 
(
ﬁﬁ 
$str
ﬁﬁ ,
,
ﬁﬁ, -
null
ﬁﬁ. 2
)
ﬁﬁ2 3
;
ﬁﬁ3 4
nvc
ﬂﬂ 
.
ﬂﬂ 
Add
ﬂﬂ 
(
ﬂﬂ 
$str
ﬂﬂ )
,
ﬂﬂ) *
$str
ﬂﬂ+ .
)
ﬂﬂ. /
;
ﬂﬂ/ 0

SyncBWData
‡‡ 
.
‡‡ 
PushToQueue
‡‡ *
(
‡‡* +
$str
‡‡+ ?
,
‡‡? @
DataBaseName
‡‡A M
.
‡‡M N
CW
‡‡N P
,
‡‡P Q
nvc
‡‡R U
)
‡‡U V
;
‡‡V W
}
·· 
}
‚‚ 
catch
„„ 
(
„„ 
	Exception
„„ 
ex
„„ 
)
„„  
{
‰‰ 

ErrorClass
ÂÂ 
objErr
ÂÂ !
=
ÂÂ" #
new
ÂÂ$ '

ErrorClass
ÂÂ( 2
(
ÂÂ2 3
ex
ÂÂ3 5
,
ÂÂ5 6
$str
ÂÂ7 ]
)
ÂÂ] ^
;
ÂÂ^ _
}
ÊÊ 
}
ÁÁ 	
public
ÒÒ 
SynopsisData
ÒÒ 
Getsynopsis
ÒÒ '
(
ÒÒ' (
int
ÒÒ( +
makeId
ÒÒ, 2
)
ÒÒ2 3
{
ÚÚ 	
SynopsisData
ÛÛ 
objSynopsis
ÛÛ $
=
ÛÛ% &
null
ÛÛ' +
;
ÛÛ+ ,
try
ıı 
{
ˆˆ 
using
˜˜ 
(
˜˜ 
IDbConnection
˜˜ $

connection
˜˜% /
=
˜˜0 1
DatabaseHelper
˜˜2 @
.
˜˜@ A!
GetMasterConnection
˜˜A T
(
˜˜T U
)
˜˜U V
)
˜˜V W
{
¯¯ 
objSynopsis
˘˘ 
=
˘˘  !
new
˘˘" %
SynopsisData
˘˘& 2
(
˘˘2 3
)
˘˘3 4
;
˘˘4 5

connection
˙˙ 
.
˙˙ 
Open
˙˙ #
(
˙˙# $
)
˙˙$ %
;
˙˙% &
var
¸¸ 
param
¸¸ 
=
¸¸ 
new
¸¸  #
DynamicParameters
¸¸$ 5
(
¸¸5 6
)
¸¸6 7
;
¸¸7 8
param
˛˛ 
.
˛˛ 
Add
˛˛ 
(
˛˛ 
$str
˛˛ *
,
˛˛* +
makeId
˛˛, 2
)
˛˛2 3
;
˛˛3 4
dynamic
ÄÄ 
temp
ÄÄ  
=
ÄÄ! "

connection
ÄÄ# -
.
ÄÄ- .
Query
ÄÄ. 3
<
ÄÄ3 4
dynamic
ÄÄ4 ;
>
ÄÄ; <
(
ÄÄ< =
$str
ÄÄ= W
,
ÄÄW X
param
ÄÄY ^
:
ÄÄ^ _
param
ÄÄ` e
,
ÄÄe f
commandType
ÄÄg r
:
ÄÄr s
CommandType
ÄÄt 
.ÄÄ Ä
StoredProcedureÄÄÄ è
)ÄÄè ê
.ÄÄê ë
FirstOrDefaultÄÄë ü
(ÄÄü †
)ÄÄ† °
;ÄÄ° ¢
objSynopsis
ÇÇ 
.
ÇÇ  
BikeDescription
ÇÇ  /
=
ÇÇ0 1
ReferenceEquals
ÇÇ2 A
(
ÇÇA B
null
ÇÇB F
,
ÇÇF G
temp
ÇÇH L
)
ÇÇL M
?
ÇÇN O
string
ÇÇP V
.
ÇÇV W
Empty
ÇÇW \
:
ÇÇ] ^
temp
ÇÇ_ c
.
ÇÇc d
description
ÇÇd o
;
ÇÇo p
objSynopsis
ÉÉ 
.
ÉÉ   
ScooterDescription
ÉÉ  2
=
ÉÉ3 4
ReferenceEquals
ÉÉ5 D
(
ÉÉD E
null
ÉÉE I
,
ÉÉI J
temp
ÉÉK O
)
ÉÉO P
?
ÉÉQ R
string
ÉÉS Y
.
ÉÉY Z
Empty
ÉÉZ _
:
ÉÉ` a
temp
ÉÉb f
.
ÉÉf g 
scooterdescription
ÉÉg y
;
ÉÉy z
if
ÖÖ 
(
ÖÖ 

connection
ÖÖ "
.
ÖÖ" #
State
ÖÖ# (
==
ÖÖ) +
ConnectionState
ÖÖ, ;
.
ÖÖ; <
Open
ÖÖ< @
)
ÖÖ@ A

connection
ÜÜ "
.
ÜÜ" #
Close
ÜÜ# (
(
ÜÜ( )
)
ÜÜ) *
;
ÜÜ* +
}
áá 
}
àà 
catch
ââ 
(
ââ 
	Exception
ââ 
ex
ââ 
)
ââ  
{
ää 

ErrorClass
ãã 
objErr
ãã !
=
ãã" #
new
ãã$ '

ErrorClass
ãã( 2
(
ãã2 3
ex
ãã3 5
,
ãã5 6
$str
ãã7 ^
)
ãã^ _
;
ãã_ `
}
åå 
return
éé 
objSynopsis
éé 
;
éé 
}
èè 	
public
öö 
void
öö 
UpdateSynopsis
öö "
(
öö" #
int
öö# &
makeId
öö' -
,
öö- .
int
öö/ 2
	updatedBy
öö3 <
,
öö< =
SynopsisData
öö> J
objSynopsis
ööK V
)
ööV W
{
õõ 	
try
úú 
{
ùù 
using
ûû 
(
ûû 
IDbConnection
ûû $

connection
ûû% /
=
ûû0 1
DatabaseHelper
ûû2 @
.
ûû@ A!
GetMasterConnection
ûûA T
(
ûûT U
)
ûûU V
)
ûûV W
{
üü 

connection
†† 
.
†† 
Open
†† #
(
††# $
)
††$ %
;
††% &
var
¢¢ 
param
¢¢ 
=
¢¢ 
new
¢¢  #
DynamicParameters
¢¢$ 5
(
¢¢5 6
)
¢¢6 7
;
¢¢7 8
param
§§ 
.
§§ 
Add
§§ 
(
§§ 
$str
§§ *
,
§§* +
makeId
§§, 2
)
§§2 3
;
§§3 4
param
•• 
.
•• 
Add
•• 
(
•• 
$str
•• *
,
••* +
	updatedBy
••, 5
)
••5 6
;
••6 7
if
¶¶ 
(
¶¶ 
objSynopsis
¶¶ #
!=
¶¶$ &
null
¶¶' +
)
¶¶+ ,
{
ßß 
param
®® 
.
®® 
Add
®® !
(
®®! "
$str
®®" 3
,
®®3 4
objSynopsis
®®5 @
.
®®@ A
BikeDescription
®®A P
)
®®P Q
;
®®Q R
param
©© 
.
©© 
Add
©© !
(
©©! "
$str
©©" 7
,
©©7 8
objSynopsis
©©9 D
.
©©D E 
ScooterDescription
©©E W
)
©©W X
;
©©X Y
}
™™ 

connection
¨¨ 
.
¨¨ 
Query
¨¨ $
(
¨¨$ %
$str
¨¨% B
,
¨¨B C
param
¨¨D I
:
¨¨I J
param
¨¨K P
,
¨¨P Q
commandType
¨¨R ]
:
¨¨] ^
CommandType
¨¨_ j
.
¨¨j k
StoredProcedure
¨¨k z
)
¨¨z {
;
¨¨{ |
if
ÆÆ 
(
ÆÆ 

connection
ÆÆ "
.
ÆÆ" #
State
ÆÆ# (
==
ÆÆ) +
ConnectionState
ÆÆ, ;
.
ÆÆ; <
Open
ÆÆ< @
)
ÆÆ@ A

connection
ØØ "
.
ØØ" #
Close
ØØ# (
(
ØØ( )
)
ØØ) *
;
ØØ* +
}
∞∞ 
}
±± 
catch
≤≤ 
(
≤≤ 
	Exception
≤≤ 
ex
≤≤ 
)
≤≤  
{
≥≥ 

ErrorClass
¥¥ 
objErr
¥¥ !
=
¥¥" #
new
¥¥$ '

ErrorClass
¥¥( 2
(
¥¥2 3
ex
¥¥3 5
,
¥¥5 6
$str
¥¥7 a
)
¥¥a b
;
¥¥b c
}
µµ 
}
∂∂ 	
public
ææ 
IEnumerable
ææ 
<
ææ  
BikeMakeEntityBase
ææ -
>
ææ- .
GetMakes
ææ/ 7
(
ææ7 8
ushort
ææ8 >
requestType
ææ? J
)
ææJ K
{
øø 	
IEnumerable
¿¿ 
<
¿¿  
BikeMakeEntityBase
¿¿ *
>
¿¿* +
objMakes
¿¿, 4
=
¿¿5 6
null
¿¿7 ;
;
¿¿; <
try
¬¬ 
{
√√ 
using
ƒƒ 
(
ƒƒ 
IDbConnection
ƒƒ $

connection
ƒƒ% /
=
ƒƒ0 1
DatabaseHelper
ƒƒ2 @
.
ƒƒ@ A!
GetMasterConnection
ƒƒA T
(
ƒƒT U
)
ƒƒU V
)
ƒƒV W
{
≈≈ 

connection
∆∆ 
.
∆∆ 
Open
∆∆ #
(
∆∆# $
)
∆∆$ %
;
∆∆% &
var
»» 
param
»» 
=
»» 
new
»»  #
DynamicParameters
»»$ 5
(
»»5 6
)
»»6 7
;
»»7 8
param
   
.
   
Add
   
(
   
$str
   /
,
  / 0
requestType
  1 <
)
  < =
;
  = >
objMakes
ÃÃ 
=
ÃÃ 

connection
ÃÃ )
.
ÃÃ) *
Query
ÃÃ* /
<
ÃÃ/ 0 
BikeMakeEntityBase
ÃÃ0 B
>
ÃÃB C
(
ÃÃC D
$str
ÃÃD [
,
ÃÃ[ \
param
ÃÃ] b
:
ÃÃb c
param
ÃÃd i
,
ÃÃi j
commandType
ÃÃk v
:
ÃÃv w
CommandTypeÃÃx É
.ÃÃÉ Ñ
StoredProcedureÃÃÑ ì
)ÃÃì î
;ÃÃî ï
if
ŒŒ 
(
ŒŒ 

connection
ŒŒ "
.
ŒŒ" #
State
ŒŒ# (
==
ŒŒ) +
ConnectionState
ŒŒ, ;
.
ŒŒ; <
Open
ŒŒ< @
)
ŒŒ@ A

connection
œœ "
.
œœ" #
Close
œœ# (
(
œœ( )
)
œœ) *
;
œœ* +
}
–– 
}
—— 
catch
““ 
(
““ 
	Exception
““ 
ex
““ 
)
““  
{
”” 

ErrorClass
‘‘ 
objErr
‘‘ !
=
‘‘" #
new
‘‘$ '

ErrorClass
‘‘( 2
(
‘‘2 3
ex
‘‘3 5
,
‘‘5 6
$str
‘‘7 ^
)
‘‘^ _
;
‘‘_ `
}
’’ 
return
◊◊ 
objMakes
◊◊ 
;
◊◊ 
}
ÿÿ 	
public
„„ 
IEnumerable
„„ 
<
„„ !
BikeModelEntityBase
„„ .
>
„„. /
GetModelsByMake
„„0 ?
(
„„? @
EnumBikeType
„„@ L
requestType
„„M X
,
„„X Y
uint
„„Z ^
makeId
„„_ e
)
„„e f
{
‰‰ 	
IEnumerable
ÂÂ 
<
ÂÂ !
BikeModelEntityBase
ÂÂ +
>
ÂÂ+ ,(
objBikeModelEntityBaseList
ÂÂ- G
=
ÂÂH I
null
ÂÂJ N
;
ÂÂN O
try
ÊÊ 
{
ÁÁ 
using
ËË 
(
ËË 
IDbConnection
ËË #

connection
ËË$ .
=
ËË/ 0
DatabaseHelper
ËË1 ?
.
ËË? @!
GetMasterConnection
ËË@ S
(
ËËS T
)
ËËT U
)
ËËU V
{
ÈÈ 
var
ÍÍ 
param
ÍÍ 
=
ÍÍ 
new
ÍÍ  #
DynamicParameters
ÍÍ$ 5
(
ÍÍ5 6
)
ÍÍ6 7
;
ÍÍ7 8
param
ÎÎ 
.
ÎÎ 
Add
ÎÎ 
(
ÎÎ 
$str
ÎÎ *
,
ÎÎ* +
makeId
ÎÎ, 2
)
ÎÎ2 3
;
ÎÎ3 4
param
ÏÏ 
.
ÏÏ 
Add
ÏÏ 
(
ÏÏ 
$str
ÏÏ /
,
ÏÏ/ 0
requestType
ÏÏ1 <
.
ÏÏ< =
ToString
ÏÏ= E
(
ÏÏE F
)
ÏÏF G
)
ÏÏG H
;
ÏÏH I

connection
ÌÌ 
.
ÌÌ 
Open
ÌÌ #
(
ÌÌ# $
)
ÌÌ$ %
;
ÌÌ% &(
objBikeModelEntityBaseList
ÓÓ .
=
ÓÓ/ 0

connection
ÓÓ1 ;
.
ÓÓ; <
Query
ÓÓ< A
<
ÓÓA B!
BikeModelEntityBase
ÓÓB U
>
ÓÓU V
(
ÔÔ 
$str
ÔÔ 5
,
ÔÔ5 6
param
ÔÔ7 <
:
ÔÔ< =
param
ÔÔ> C
,
ÔÔC D
commandType
ÔÔE P
:
ÔÔP Q
CommandType
ÔÔR ]
.
ÔÔ] ^
StoredProcedure
ÔÔ^ m
)
ÔÔm n
;
ÔÔn o
if
 
(
 

connection
 "
!=
# %
null
& *
&&
+ -

connection
. 8
.
8 9
State
9 >
==
? A
ConnectionState
B Q
.
Q R
Open
R V
)
V W
{
ÒÒ 

connection
ÚÚ "
.
ÚÚ" #
Close
ÚÚ# (
(
ÚÚ( )
)
ÚÚ) *
;
ÚÚ* +
}
ÛÛ 
}
ÙÙ 
}
ıı 
catch
ˆˆ 
(
ˆˆ 
	Exception
ˆˆ 
ex
ˆˆ 
)
ˆˆ  
{
˜˜ 

ErrorClass
¯¯ 
objErr
¯¯ !
=
¯¯" #
new
¯¯$ '

ErrorClass
¯¯( 2
(
¯¯2 3
ex
¯¯3 5
,
¯¯5 6
$str
¯¯7 e
)
¯¯e f
;
¯¯f g
}
˘˘ 
return
˙˙ (
objBikeModelEntityBaseList
˙˙ -
;
˙˙- .
}
˚˚ 	
}
˝˝ 
}˛˛ ¥æ
ED:\work\bikewaleweb\BikewaleOpr.DALs\Bikedata\BikeModelsRepository.cs
	namespace 	
BikewaleOpr
 
. 
DALs 
. 
Bikedata #
{ 
public 

class  
BikeModelsRepository %
:& '!
IBikeModelsRepository( =
{ 
public 
IEnumerable 
< 
BikeModelEntityBase .
>. /
	GetModels0 9
(9 :
uint: >
makeId? E
,E F
stringG M
requestTypeN Y
)Y Z
{ 	
IList 
< 
BikeModelEntityBase %
>% &
_objBikeModels' 5
=6 7
null8 <
;< =
try 
{ 
using!! 
(!! 
	DbCommand!!  
cmd!!! $
=!!% &
	DbFactory!!' 0
.!!0 1
GetDBCommand!!1 =
(!!= >
$str!!> M
)!!M N
)!!N O
{"" 
cmd## 
.## 
CommandType## #
=##$ %
CommandType##& 1
.##1 2
StoredProcedure##2 A
;##A B
cmd%% 
.%% 

Parameters%% "
.%%" #
Add%%# &
(%%& '
	DbFactory%%' 0
.%%0 1

GetDbParam%%1 ;
(%%; <
$str%%< M
,%%M N
DbType%%O U
.%%U V
String%%V \
,%%\ ]
$num%%^ `
,%%` a
requestType%%b m
)%%m n
)%%n o
;%%o p
cmd&& 
.&& 

Parameters&& "
.&&" #
Add&&# &
(&&& '
	DbFactory&&' 0
.&&0 1

GetDbParam&&1 ;
(&&; <
$str&&< H
,&&H I
DbType&&J P
.&&P Q
Int32&&Q V
,&&V W
makeId&&X ^
)&&^ _
)&&_ `
;&&` a
using)) 
()) 
IDataReader)) &
dr))' )
=))* +
MySqlDatabase)), 9
.))9 :
SelectQuery)): E
())E F
cmd))F I
,))I J
ConnectionType))K Y
.))Y Z
ReadOnly))Z b
)))b c
)))c d
{** 
if++ 
(++ 
dr++ 
!=++ !
null++" &
)++& '
{,, 
_objBikeModels-- *
=--+ ,
new--- 0
List--1 5
<--5 6
BikeModelEntityBase--6 I
>--I J
(--J K
)--K L
;--L M
while.. !
(.." #
dr..# %
...% &
Read..& *
(..* +
)..+ ,
).., -
{// 
BikeModelEntityBase00  3
	_objModel004 =
=00> ?
new00@ C
BikeModelEntityBase00D W
(00W X
)00X Y
;00Y Z
	_objModel11  )
.11) *
	ModelName11* 3
=114 5
Convert116 =
.11= >
ToString11> F
(11F G
dr11G I
[11I J
$str11J P
]11P Q
)11Q R
;11R S
	_objModel22  )
.22) *
ModelId22* 1
=222 3
SqlReaderConvertor224 F
.22F G
ToInt3222G N
(22N O
dr22O Q
[22Q R
$str22R Y
]22Y Z
)22Z [
;22[ \
_objBikeModels33  .
.33. /
Add33/ 2
(332 3
	_objModel333 <
)33< =
;33= >
}44 
}55 
}66 
}88 
}99 
catch:: 
(:: 
	Exception:: 
ex:: 
)::  
{;; 

ErrorClass<< 
objErr<< !
=<<" #
new<<$ '

ErrorClass<<( 2
(<<2 3
ex<<3 5
,<<5 6
string<<7 =
.<<= >
Format<<> D
(<<D E
$str	<<E É
,
<<É Ñ
makeId
<<Ö ã
,
<<ã å
requestType
<<ç ò
)
<<ò ô
)
<<ô ö
;
<<ö õ
objErr== 
.== 
SendMail== 
(==  
)==  !
;==! "
}>> 
return?? 
_objBikeModels?? !
;??! "
}@@ 	
publicGG 
voidGG 
SaveModelUnitSoldGG %
(GG% &
stringGG& ,
listGG- 1
,GG1 2
DateTimeGG3 ;
dateGG< @
)GG@ A
{HH 	
tryII 
{JJ 
usingKK 
(KK 
	DbCommandKK  
cmdKK! $
=KK% &
	DbFactoryKK' 0
.KK0 1
GetDBCommandKK1 =
(KK= >
)KK> ?
)KK? @
{LL 
cmdMM 
.MM 
CommandTextMM #
=MM$ %
$strMM& 9
;MM9 :
cmdNN 
.NN 
CommandTypeNN #
=NN$ %
CommandTypeNN& 1
.NN1 2
StoredProcedureNN2 A
;NNA B
cmdPP 
.PP 

ParametersPP "
.PP" #
AddPP# &
(PP& '
	DbFactoryPP' 0
.PP0 1

GetDbParamPP1 ;
(PP; <
$strPP< S
,PPS T
DbTypePPU [
.PP[ \
StringPP\ b
,PPb c
listPPd h
)PPh i
)PPi j
;PPj k
cmdQQ 
.QQ 

ParametersQQ "
.QQ" #
AddQQ# &
(QQ& '
	DbFactoryQQ' 0
.QQ0 1

GetDbParamQQ1 ;
(QQ; <
$strQQ< K
,QQK L
DbTypeQQM S
.QQS T
DateTimeQQT \
,QQ\ ]
dateQQ^ b
)QQb c
)QQc d
;QQd e
MySqlDatabaseSS !
.SS! "
InsertQuerySS" -
(SS- .
cmdSS. 1
,SS1 2
ConnectionTypeSS3 A
.SSA B
ReadOnlySSB J
)SSJ K
;SSK L
}UU 
}VV 
catchWW 
(WW 
	ExceptionWW 
exWW 
)WW  
{XX 

ErrorClassYY 
objErrYY !
=YY" #
newYY$ '

ErrorClassYY( 2
(YY2 3
exYY3 5
,YY5 6
stringYY7 =
.YY= >
FormatYY> D
(YYD E
$strYYE z
,YYz {
list	YY| Ä
,
YYÄ Å
date
YYÇ Ü
)
YYÜ á
)
YYá à
;
YYà â
}ZZ 
}[[ 	
publicbb 
SoldUnitDatabb 
GetLastSoldUnitDatabb /
(bb/ 0
)bb0 1
{cc 	
SoldUnitDatadd 
dataObjdd  
=dd! "
nulldd# '
;dd' (
tryee 
{ff 
usinggg 
(gg 
	DbCommandgg  
cmdgg! $
=gg% &
	DbFactorygg' 0
.gg0 1
GetDBCommandgg1 =
(gg= >
)gg> ?
)gg? @
{hh 
dataObjii 
=ii 
newii !
SoldUnitDataii" .
(ii. /
)ii/ 0
;ii0 1
cmdjj 
.jj 
CommandTextjj #
=jj$ %
$strjj& ;
;jj; <
cmdkk 
.kk 
CommandTypekk #
=kk$ %
CommandTypekk& 1
.kk1 2
StoredProcedurekk2 A
;kkA B
cmdmm 
.mm 

Parametersmm "
.mm" #
Addmm# &
(mm& '
	DbFactorymm' 0
.mm0 1

GetDbParammm1 ;
(mm; <
$strmm< P
,mmP Q
DbTypemmR X
.mmX Y
DateTimemmY a
,mma b
ParameterDirectionmmc u
.mmu v
Outputmmv |
)mm| }
)mm} ~
;mm~ 
cmdnn 
.nn 

Parametersnn "
.nn" #
Addnn# &
(nn& '
	DbFactorynn' 0
.nn0 1

GetDbParamnn1 ;
(nn; <
$strnn< O
,nnO P
DbTypennQ W
.nnW X
Int16nnX ]
,nn] ^
ParameterDirectionnn_ q
.nnq r
Outputnnr x
)nnx y
)nny z
;nnz {
MySqlDatabasepp !
.pp! "
ExecuteNonQuerypp" 1
(pp1 2
cmdpp2 5
,pp5 6
ConnectionTypepp7 E
.ppE F
ReadOnlyppF N
)ppN O
;ppO P
ifrr 
(rr 
cmdrr 
.rr 

Parametersrr &
[rr& '
$strrr' ;
]rr; <
.rr< =
Valuerr= B
!=rrC E
DBNullrrF L
.rrL M
ValuerrM R
)rrR S
dataObjss 
.ss  
LastUpdateDatess  .
=ss/ 0
Convertss1 8
.ss8 9

ToDateTimess9 C
(ssC D
cmdssD G
.ssG H

ParametersssH R
[ssR S
$strssS g
]ssg h
.ssh i
Valuessi n
)ssn o
;sso p
ifuu 
(uu 
!uu 
stringuu 
.uu  
IsNullOrEmptyuu  -
(uu- .
Convertuu. 5
.uu5 6
ToStringuu6 >
(uu> ?
cmduu? B
.uuB C

ParametersuuC M
[uuM N
$struuN a
]uua b
.uub c
Valueuuc h
)uuh i
)uui j
)uuj k
dataObjvv 
.vv  
IsEmailToSendvv  -
=vv. /
(vv0 1
Convertvv1 8
.vv8 9
ToInt16vv9 @
(vv@ A
cmdvvA D
.vvD E

ParametersvvE O
[vvO P
$strvvP c
]vvc d
.vvd e
Valuevve j
)vvj k
==vvl n
$numvvo p
)vvp q
?vvr s
truevvt x
:vvy z
false	vv{ Ä
;
vvÄ Å
}xx 
}yy 
catchzz 
(zz 
	Exceptionzz 
exzz 
)zz  
{{{ 

ErrorClass|| 
objErr|| !
=||" #
new||$ '

ErrorClass||( 2
(||2 3
ex||3 5
,||5 6
string||7 =
.||= >
Format||> D
(||D E
$str||E t
)||t u
)||u v
;||v w
}}} 
return~~ 
dataObj~~ 
;~~ 
} 	
public
àà ,
UsedBikeImagesNotificationData
àà -2
$GetPendingUsedBikesWithoutModelImage
àà. R
(
ààR S
)
ààS T
{
ââ 	,
UsedBikeImagesNotificationData
ää *
objImagesData
ää+ 8
=
ää9 :
null
ää; ?
;
ää? @
IList
ãã 
<
ãã !
UsedBikeImagesModel
ãã %
>
ãã% &
_objBikeModels
ãã' 5
=
ãã6 7
null
ãã8 <
;
ãã< =
try
åå 
{
çç 
using
éé 
(
éé 
	DbCommand
éé  
cmd
éé! $
=
éé% &
	DbFactory
éé' 0
.
éé0 1
GetDBCommand
éé1 =
(
éé= >
$str
éé> d
)
ééd e
)
éée f
{
èè 
cmd
êê 
.
êê 
CommandType
êê #
=
êê$ %
CommandType
êê& 1
.
êê1 2
StoredProcedure
êê2 A
;
êêA B
using
ëë 
(
ëë 
IDataReader
ëë &
dr
ëë' )
=
ëë* +
MySqlDatabase
ëë, 9
.
ëë9 :
SelectQuery
ëë: E
(
ëëE F
cmd
ëëF I
,
ëëI J
ConnectionType
ëëK Y
.
ëëY Z
ReadOnly
ëëZ b
)
ëëb c
)
ëëc d
{
íí 
if
ìì 
(
ìì 
dr
ìì 
!=
ìì !
null
ìì" &
)
ìì& '
{
îî 
objImagesData
ïï )
=
ïï* +
new
ïï, /,
UsedBikeImagesNotificationData
ïï0 N
(
ïïN O
)
ïïO P
;
ïïP Q
_objBikeModels
óó *
=
óó+ ,
new
óó- 0
List
óó1 5
<
óó5 6!
UsedBikeImagesModel
óó6 I
>
óóI J
(
óóJ K
)
óóK L
;
óóL M
while
òò !
(
òò" #
dr
òò# %
.
òò% &
Read
òò& *
(
òò* +
)
òò+ ,
)
òò, -
{
ôô !
UsedBikeImagesModel
öö  3
_objBike
öö4 <
=
öö= >
new
öö? B!
UsedBikeImagesModel
ööC V
(
ööV W
)
ööW X
;
ööX Y
_objBike
úú  (
.
úú( )
MakeId
úú) /
=
úú0 1 
SqlReaderConvertor
úú2 D
.
úúD E
ToInt32
úúE L
(
úúL M
dr
úúM O
[
úúO P
$str
úúP X
]
úúX Y
)
úúY Z
;
úúZ [
_objBike
ùù  (
.
ùù( )
MakeName
ùù) 1
=
ùù2 3
Convert
ùù4 ;
.
ùù; <
ToString
ùù< D
(
ùùD E
dr
ùùE G
[
ùùG H
$str
ùùH R
]
ùùR S
)
ùùS T
;
ùùT U
_objBike
ûû  (
.
ûû( )
	ModelName
ûû) 2
=
ûû3 4
Convert
ûû5 <
.
ûû< =
ToString
ûû= E
(
ûûE F
dr
ûûF H
[
ûûH I
$str
ûûI T
]
ûûT U
)
ûûU V
;
ûûV W
_objBikeModels
††  .
.
††. /
Add
††/ 2
(
††2 3
_objBike
††3 ;
)
††; <
;
††< =
}
°° 
objImagesData
¢¢ )
.
¢¢) *
Bikes
¢¢* /
=
¢¢0 1
_objBikeModels
¢¢2 @
;
¢¢@ A
if
§§ 
(
§§  
dr
§§  "
.
§§" #

NextResult
§§# -
(
§§- .
)
§§. /
)
§§/ 0
{
•• 
if
¶¶  "
(
¶¶# $
dr
¶¶$ &
.
¶¶& '
Read
¶¶' +
(
¶¶+ ,
)
¶¶, -
)
¶¶- .
{
ßß  !
objImagesData
®®$ 1
.
®®1 2
IsNotify
®®2 :
=
®®; < 
SqlReaderConvertor
®®= O
.
®®O P
	ToBoolean
®®P Y
(
®®Y Z
dr
®®Z \
[
®®\ ]
$str
®®] o
]
®®o p
)
®®p q
;
®®q r
}
©©  !
}
™™ 
}
´´ 
}
¨¨ 
}
≠≠ 
}
ÆÆ 
catch
ØØ 
(
ØØ 
	Exception
ØØ 
ex
ØØ 
)
ØØ  
{
∞∞ 

ErrorClass
±± 
objErr
±± !
=
±±" #
new
±±$ '

ErrorClass
±±( 2
(
±±2 3
ex
±±3 5
,
±±5 6
$str
±±7 y
)
±±y z
;
±±z {
}
≤≤ 
return
≥≥ 
objImagesData
≥≥  
;
≥≥  !
}
¥¥ 	
public
∫∫ 
uint
∫∫ 
FetchPhotoId
∫∫  
(
∫∫  !&
UsedBikeModelImageEntity
∫∫! 9!
objModelImageEntity
∫∫: M
)
∫∫M N
{
ªª 	
uint
ºº 
photoId
ºº 
=
ºº 
$num
ºº 
;
ºº 
try
ΩΩ 
{
ææ 
using
øø 
(
øø 
	DbCommand
øø  
cmd
øø! $
=
øø% &
	DbFactory
øø' 0
.
øø0 1
GetDBCommand
øø1 =
(
øø= >
$str
øø> U
)
øøU V
)
øøV W
{
¿¿ 
cmd
¬¬ 
.
¬¬ 
CommandType
¬¬ #
=
¬¬$ %
CommandType
¬¬& 1
.
¬¬1 2
StoredProcedure
¬¬2 A
;
¬¬A B
cmd
ƒƒ 
.
ƒƒ 

Parameters
ƒƒ "
.
ƒƒ" #
Add
ƒƒ# &
(
ƒƒ& '
	DbFactory
ƒƒ' 0
.
ƒƒ0 1

GetDbParam
ƒƒ1 ;
(
ƒƒ; <
$str
ƒƒ< I
,
ƒƒI J
DbType
ƒƒK Q
.
ƒƒQ R
Int32
ƒƒR W
,
ƒƒW X!
objModelImageEntity
ƒƒY l
.
ƒƒl m
Modelid
ƒƒm t
)
ƒƒt u
)
ƒƒu v
;
ƒƒv w
cmd
≈≈ 
.
≈≈ 

Parameters
≈≈ "
.
≈≈" #
Add
≈≈# &
(
≈≈& '
	DbFactory
≈≈' 0
.
≈≈0 1

GetDbParam
≈≈1 ;
(
≈≈; <
$str
≈≈< H
,
≈≈H I
DbType
≈≈J P
.
≈≈P Q
Int32
≈≈Q V
,
≈≈V W!
objModelImageEntity
≈≈X k
.
≈≈k l
UserId
≈≈l r
)
≈≈r s
)
≈≈s t
;
≈≈t u
using
«« 
(
«« 
IDataReader
«« &
dr
««' )
=
««* +
MySqlDatabase
««, 9
.
««9 :
SelectQuery
««: E
(
««E F
cmd
««F I
,
««I J
ConnectionType
««K Y
.
««Y Z
MasterDatabase
««Z h
)
««h i
)
««i j
{
»» 
if
…… 
(
…… 
dr
…… 
!=
…… !
null
……" &
)
……& '
{
   
while
ÃÃ !
(
ÃÃ" #
dr
ÃÃ# %
.
ÃÃ% &
Read
ÃÃ& *
(
ÃÃ* +
)
ÃÃ+ ,
)
ÃÃ, -
{
ÕÕ 
photoId
ŒŒ  '
=
ŒŒ( ) 
SqlReaderConvertor
ŒŒ* <
.
ŒŒ< =
ToUInt32
ŒŒ= E
(
ŒŒE F
dr
ŒŒF H
[
ŒŒH I
$str
ŒŒI M
]
ŒŒM N
)
ŒŒN O
;
ŒŒO P
}
œœ 
dr
–– 
.
–– 
Close
–– $
(
––$ %
)
––% &
;
––& '
}
—— 
}
““ 
}
”” 
}
’’ 
catch
÷÷ 
(
÷÷ 
	Exception
÷÷ 
ex
÷÷ 
)
÷÷  
{
◊◊ 

ErrorClass
ÿÿ 
objErr
ÿÿ !
=
ÿÿ" #
new
ÿÿ$ '

ErrorClass
ÿÿ( 2
(
ÿÿ2 3
ex
ÿÿ3 5
,
ÿÿ5 6
$str
ÿÿ7 t
)
ÿÿt u
;
ÿÿu v
}
ŸŸ 
return
€€ 
photoId
€€ 
;
€€ 
}
‹‹ 	
public
‚‚ 
bool
‚‚ &
DeleteUsedBikeModelImage
‚‚ ,
(
‚‚, -
uint
‚‚- 1
modelId
‚‚2 9
)
‚‚9 :
{
„„ 	
bool
‰‰ 
	isDeleted
‰‰ 
=
‰‰ 
false
‰‰ "
;
‰‰" #
try
ÂÂ 
{
ÊÊ 
using
ÁÁ 
(
ÁÁ 
	DbCommand
ÁÁ  
cmd
ÁÁ! $
=
ÁÁ% &
	DbFactory
ÁÁ' 0
.
ÁÁ0 1
GetDBCommand
ÁÁ1 =
(
ÁÁ= >
$str
ÁÁ> W
)
ÁÁW X
)
ÁÁX Y
{
ËË 
cmd
ÈÈ 
.
ÈÈ 
CommandType
ÈÈ #
=
ÈÈ$ %
CommandType
ÈÈ& 1
.
ÈÈ1 2
StoredProcedure
ÈÈ2 A
;
ÈÈA B
cmd
ÎÎ 
.
ÎÎ 

Parameters
ÎÎ "
.
ÎÎ" #
Add
ÎÎ# &
(
ÎÎ& '
	DbFactory
ÎÎ' 0
.
ÎÎ0 1

GetDbParam
ÎÎ1 ;
(
ÎÎ; <
$str
ÎÎ< I
,
ÎÎI J
DbType
ÎÎK Q
.
ÎÎQ R
Int32
ÎÎR W
,
ÎÎW X
modelId
ÎÎY `
)
ÎÎ` a
)
ÎÎa b
;
ÎÎb c
MySqlDatabase
ÏÏ !
.
ÏÏ! "
ExecuteNonQuery
ÏÏ" 1
(
ÏÏ1 2
cmd
ÏÏ2 5
,
ÏÏ5 6
ConnectionType
ÏÏ7 E
.
ÏÏE F
ReadOnly
ÏÏF N
)
ÏÏN O
;
ÏÏO P
	isDeleted
ÌÌ 
=
ÌÌ 
true
ÌÌ  $
;
ÌÌ$ %
}
ÓÓ 
}
ÔÔ 
catch
 
(
 
	Exception
 
ex
 
)
  
{
ÒÒ 

ErrorClass
ÚÚ 
objErr
ÚÚ !
=
ÚÚ" #
new
ÚÚ$ '

ErrorClass
ÚÚ( 2
(
ÚÚ2 3
ex
ÚÚ3 5
,
ÚÚ5 6
$str
ÚÚ7 t
)
ÚÚt u
;
ÚÚu v
}
ÛÛ 
return
ÙÙ 
	isDeleted
ÙÙ 
;
ÙÙ 
}
ıı 	
public
¸¸ 
IEnumerable
¸¸ 
<
¸¸ $
UsedBikeModelImageData
¸¸ 1
>
¸¸1 2)
GetUsedBikeModelImageByMake
¸¸3 N
(
¸¸N O
uint
¸¸O S
makeId
¸¸T Z
)
¸¸Z [
{
˝˝ 	
IList
˛˛ 
<
˛˛ $
UsedBikeModelImageData
˛˛ (
>
˛˛( )
objImageList
˛˛* 6
=
˛˛7 8
null
˛˛9 =
;
˛˛= >
try
ÄÄ 
{
ÅÅ 
using
ÇÇ 
(
ÇÇ 
	DbCommand
ÇÇ  
cmd
ÇÇ! $
=
ÇÇ% &
	DbFactory
ÇÇ' 0
.
ÇÇ0 1
GetDBCommand
ÇÇ1 =
(
ÇÇ= >
$str
ÇÇ> [
)
ÇÇ[ \
)
ÇÇ\ ]
{
ÉÉ 
cmd
ÑÑ 
.
ÑÑ 
CommandType
ÑÑ #
=
ÑÑ$ %
CommandType
ÑÑ& 1
.
ÑÑ1 2
StoredProcedure
ÑÑ2 A
;
ÑÑA B
cmd
ÜÜ 
.
ÜÜ 

Parameters
ÜÜ "
.
ÜÜ" #
Add
ÜÜ# &
(
ÜÜ& '
	DbFactory
ÜÜ' 0
.
ÜÜ0 1

GetDbParam
ÜÜ1 ;
(
ÜÜ; <
$str
ÜÜ< H
,
ÜÜH I
DbType
ÜÜJ P
.
ÜÜP Q
Int32
ÜÜQ V
,
ÜÜV W
makeId
ÜÜX ^
)
ÜÜ^ _
)
ÜÜ_ `
;
ÜÜ` a
using
àà 
(
àà 
IDataReader
àà &
dr
àà' )
=
àà* +
MySqlDatabase
àà, 9
.
àà9 :
SelectQuery
àà: E
(
ààE F
cmd
ààF I
,
ààI J
ConnectionType
ààK Y
.
ààY Z
MasterDatabase
ààZ h
)
ààh i
)
àài j
{
ââ 
if
ää 
(
ää 
dr
ää 
!=
ää !
null
ää" &
)
ää& '
{
ãã 
objImageList
åå (
=
åå) *
new
åå+ .
List
åå/ 3
<
åå3 4$
UsedBikeModelImageData
åå4 J
>
ååJ K
(
ååK L
)
ååL M
;
ååM N
while
çç !
(
çç" #
dr
çç# %
.
çç% &
Read
çç& *
(
çç* +
)
çç+ ,
)
çç, -
{
éé $
UsedBikeModelImageData
èè  6
objImage
èè7 ?
=
èè@ A
new
èèB E$
UsedBikeModelImageData
èèF \
(
èè\ ]
)
èè] ^
;
èè^ _
objImage
êê  (
.
êê( )
ModelId
êê) 0
=
êê1 2 
SqlReaderConvertor
êê3 E
.
êêE F
ToUInt32
êêF N
(
êêN O
dr
êêO Q
[
êêQ R
$str
êêR [
]
êê[ \
)
êê\ ]
;
êê] ^
objImage
ëë  (
.
ëë( )
MakeId
ëë) /
=
ëë0 1 
SqlReaderConvertor
ëë2 D
.
ëëD E
ToUInt32
ëëE M
(
ëëM N
dr
ëëN P
[
ëëP Q
$str
ëëQ Y
]
ëëY Z
)
ëëZ [
;
ëë[ \
objImage
íí  (
.
íí( )
	ModelName
íí) 2
=
íí3 4
Convert
íí5 <
.
íí< =
ToString
íí= E
(
ííE F
dr
ííF H
[
ííH I
$str
ííI T
]
ííT U
)
ííU V
;
ííV W
objImage
ìì  (
.
ìì( )
MakeName
ìì) 1
=
ìì2 3
Convert
ìì4 ;
.
ìì; <
ToString
ìì< D
(
ììD E
dr
ììE G
[
ììG H
$str
ììH R
]
ììR S
)
ììS T
;
ììT U
objImage
îî  (
.
îî( )
HostUrl
îî) 0
=
îî1 2
Convert
îî3 :
.
îî: ;
ToString
îî; C
(
îîC D
dr
îîD F
[
îîF G
$str
îîG P
]
îîP Q
)
îîQ R
;
îîR S
objImage
ïï  (
.
ïï( )
OriginalImagePath
ïï) :
=
ïï; <
Convert
ïï= D
.
ïïD E
ToString
ïïE M
(
ïïM N
dr
ïïN P
[
ïïP Q
$str
ïïQ d
]
ïïd e
)
ïïe f
;
ïïf g
objImageList
ññ  ,
.
ññ, -
Add
ññ- 0
(
ññ0 1
objImage
ññ1 9
)
ññ9 :
;
ññ: ;
}
óó 
dr
òò 
.
òò 
Close
òò $
(
òò$ %
)
òò% &
;
òò& '
}
ôô 
}
öö 
}
õõ 
}
ùù 
catch
ûû 
(
ûû 
	Exception
ûû 
ex
ûû 
)
ûû  
{
üü 

ErrorClass
†† 
objErr
†† !
=
††" #
new
††$ '

ErrorClass
††( 2
(
††2 3
ex
††3 5
,
††5 6
string
††7 =
.
††= >
Format
††> D
(
††D E
$str††E ú
,††ú ù
makeId††û §
)††§ •
)††• ¶
;††¶ ß
}
°° 
return
££ 
objImageList
££ 
;
££  
}
§§ 	
public
ÆÆ 
IEnumerable
ÆÆ 
<
ÆÆ !
BikeModelEntityBase
ÆÆ .
>
ÆÆ. /
	GetModels
ÆÆ0 9
(
ÆÆ9 :
uint
ÆÆ: >
makeId
ÆÆ? E
,
ÆÆE F
ushort
ÆÆG M
requestType
ÆÆN Y
)
ÆÆY Z
{
ØØ 	
IEnumerable
∞∞ 
<
∞∞ !
BikeModelEntityBase
∞∞ +
>
∞∞+ ,
	objModels
∞∞- 6
=
∞∞7 8
null
∞∞9 =
;
∞∞= >
try
≤≤ 
{
≥≥ 
using
¥¥ 
(
¥¥ 
IDbConnection
¥¥ $

connection
¥¥% /
=
¥¥0 1
DatabaseHelper
¥¥2 @
.
¥¥@ A!
GetMasterConnection
¥¥A T
(
¥¥T U
)
¥¥U V
)
¥¥V W
{
µµ 

connection
∂∂ 
.
∂∂ 
Open
∂∂ #
(
∂∂# $
)
∂∂$ %
;
∂∂% &
var
∏∏ 
param
∏∏ 
=
∏∏ 
new
∏∏  #
DynamicParameters
∏∏$ 5
(
∏∏5 6
)
∏∏6 7
;
∏∏7 8
param
∫∫ 
.
∫∫ 
Add
∫∫ 
(
∫∫ 
$str
∫∫ *
,
∫∫* +
makeId
∫∫, 2
)
∫∫2 3
;
∫∫3 4
param
ªª 
.
ªª 
Add
ªª 
(
ªª 
$str
ªª /
,
ªª/ 0
requestType
ªª1 <
)
ªª< =
;
ªª= >
	objModels
ΩΩ 
=
ΩΩ 

connection
ΩΩ  *
.
ΩΩ* +
Query
ΩΩ+ 0
<
ΩΩ0 1!
BikeModelEntityBase
ΩΩ1 D
>
ΩΩD E
(
ΩΩE F
$str
ΩΩF d
,
ΩΩd e
param
ΩΩf k
:
ΩΩk l
param
ΩΩm r
,
ΩΩr s
commandType
ΩΩt 
:ΩΩ Ä
CommandTypeΩΩÅ å
.ΩΩå ç
StoredProcedureΩΩç ú
)ΩΩú ù
;ΩΩù û
if
øø 
(
øø 

connection
øø "
.
øø" #
State
øø# (
==
øø) +
ConnectionState
øø, ;
.
øø; <
Open
øø< @
)
øø@ A

connection
¿¿ "
.
¿¿" #
Close
¿¿# (
(
¿¿( )
)
¿¿) *
;
¿¿* +
}
¡¡ 
}
¬¬ 
catch
√√ 
(
√√ 
	Exception
√√ 
ex
√√ 
)
√√  
{
ƒƒ 

ErrorClass
≈≈ 
objErr
≈≈ !
=
≈≈" #
new
≈≈$ '

ErrorClass
≈≈( 2
(
≈≈2 3
ex
≈≈3 5
,
≈≈5 6
$str
≈≈7 _
)
≈≈_ `
;
≈≈` a
}
∆∆ 
return
»» 
	objModels
»» 
;
»» 
}
…… 	
public
œœ 
IEnumerable
œœ 
<
œœ !
BikeModelMailEntity
œœ .
>
œœ. /
GetModelsByMake
œœ0 ?
(
œœ? @
uint
œœ@ D
makeId
œœE K
,
œœK L
string
œœM S
hostUrl
œœT [
,
œœ[ \
string
œœ] c
oldMakeMasking
œœd r
,
œœr s
string
œœt z
newMakeMaskingœœ{ â
)œœâ ä
{
–– 	
ICollection
—— 
<
—— !
BikeModelMailEntity
—— +
>
——+ ,
models
——- 3
=
——4 5
null
——6 :
;
——: ;
try
““ 
{
”” 
using
‘‘ 
(
‘‘ 
	DbCommand
‘‘  
cmd
‘‘! $
=
‘‘% &
	DbFactory
‘‘' 0
.
‘‘0 1
GetDBCommand
‘‘1 =
(
‘‘= >
$str
‘‘> O
)
‘‘O P
)
‘‘P Q
{
’’ 
cmd
÷÷ 
.
÷÷ 
CommandType
÷÷ #
=
÷÷$ %
CommandType
÷÷& 1
.
÷÷1 2
StoredProcedure
÷÷2 A
;
÷÷A B
cmd
◊◊ 
.
◊◊ 

Parameters
◊◊ "
.
◊◊" #
Add
◊◊# &
(
◊◊& '
	DbFactory
◊◊' 0
.
◊◊0 1

GetDbParam
◊◊1 ;
(
◊◊; <
$str
◊◊< H
,
◊◊H I
DbType
◊◊J P
.
◊◊P Q
UInt32
◊◊Q W
,
◊◊W X
makeId
◊◊Y _
)
◊◊_ `
)
◊◊` a
;
◊◊a b
using
ŸŸ 
(
ŸŸ 
IDataReader
ŸŸ &
dr
ŸŸ' )
=
ŸŸ* +
MySqlDatabase
ŸŸ, 9
.
ŸŸ9 :
SelectQuery
ŸŸ: E
(
ŸŸE F
cmd
ŸŸF I
,
ŸŸI J
ConnectionType
ŸŸK Y
.
ŸŸY Z
ReadOnly
ŸŸZ b
)
ŸŸb c
)
ŸŸc d
{
⁄⁄ 
if
€€ 
(
€€ 
dr
€€ 
!=
€€ !
null
€€" &
)
€€& '
{
‹‹ 
models
›› "
=
››# $
new
››% (

Collection
››) 3
<
››3 4!
BikeModelMailEntity
››4 G
>
››G H
(
››H I
)
››I J
;
››J K!
BikeModelMailEntity
ﬁﬁ /
obj
ﬁﬁ0 3
=
ﬁﬁ4 5
new
ﬁﬁ6 9!
BikeModelMailEntity
ﬁﬁ: M
(
ﬁﬁM N
)
ﬁﬁN O
;
ﬁﬁO P
obj
ﬂﬂ 
.
ﬂﬂ  
OldUrl
ﬂﬂ  &
=
ﬂﬂ' (
string
ﬂﬂ) /
.
ﬂﬂ/ 0
Format
ﬂﬂ0 6
(
ﬂﬂ6 7
$str
ﬂﬂ7 G
,
ﬂﬂG H
hostUrl
ﬂﬂI P
,
ﬂﬂP Q
oldMakeMasking
ﬂﬂR `
)
ﬂﬂ` a
;
ﬂﬂa b
obj
‡‡ 
.
‡‡  
NewUrl
‡‡  &
=
‡‡' (
string
‡‡) /
.
‡‡/ 0
Format
‡‡0 6
(
‡‡6 7
$str
‡‡7 G
,
‡‡G H
hostUrl
‡‡I P
,
‡‡P Q
newMakeMasking
‡‡R `
)
‡‡` a
;
‡‡a b
models
·· "
.
··" #
Add
··# &
(
··& '
obj
··' *
)
··* +
;
··+ ,
while
‚‚ !
(
‚‚" #
dr
‚‚# %
.
‚‚% &
Read
‚‚& *
(
‚‚* +
)
‚‚+ ,
)
‚‚, -
{
„„ 
obj
‰‰  #
=
‰‰$ %
new
‰‰& )!
BikeModelMailEntity
‰‰* =
(
‰‰= >
)
‰‰> ?
;
‰‰? @
obj
ÂÂ  #
.
ÂÂ# $
ModelId
ÂÂ$ +
=
ÂÂ, -
Convert
ÂÂ. 5
.
ÂÂ5 6
ToInt32
ÂÂ6 =
(
ÂÂ= >
dr
ÂÂ> @
[
ÂÂ@ A
$str
ÂÂA J
]
ÂÂJ K
)
ÂÂK L
;
ÂÂL M
obj
ÊÊ  #
.
ÊÊ# $
	ModelName
ÊÊ$ -
=
ÊÊ. /
Convert
ÊÊ0 7
.
ÊÊ7 8
ToString
ÊÊ8 @
(
ÊÊ@ A
dr
ÊÊA C
[
ÊÊC D
$str
ÊÊD O
]
ÊÊO P
)
ÊÊP Q
;
ÊÊQ R
obj
ÁÁ  #
.
ÁÁ# $
MaskingName
ÁÁ$ /
=
ÁÁ0 1
Convert
ÁÁ2 9
.
ÁÁ9 :
ToString
ÁÁ: B
(
ÁÁB C
dr
ÁÁC E
[
ÁÁE F
$str
ÁÁF T
]
ÁÁT U
)
ÁÁU V
;
ÁÁV W
obj
ËË  #
.
ËË# $
OldUrl
ËË$ *
=
ËË+ ,
string
ËË- 3
.
ËË3 4
Format
ËË4 :
(
ËË: ;
$str
ËË; O
,
ËËO P
hostUrl
ËËQ X
,
ËËX Y
oldMakeMasking
ËËZ h
,
ËËh i
obj
ËËj m
.
ËËm n
MaskingName
ËËn y
)
ËËy z
;
ËËz {
obj
ÈÈ  #
.
ÈÈ# $
NewUrl
ÈÈ$ *
=
ÈÈ+ ,
string
ÈÈ- 3
.
ÈÈ3 4
Format
ÈÈ4 :
(
ÈÈ: ;
$str
ÈÈ; O
,
ÈÈO P
hostUrl
ÈÈQ X
,
ÈÈX Y
newMakeMasking
ÈÈZ h
,
ÈÈh i
obj
ÈÈj m
.
ÈÈm n
MaskingName
ÈÈn y
)
ÈÈy z
;
ÈÈz {
models
ÍÍ  &
.
ÍÍ& '
Add
ÍÍ' *
(
ÍÍ* +
obj
ÍÍ+ .
)
ÍÍ. /
;
ÍÍ/ 0
}
ÎÎ 
dr
ÏÏ 
.
ÏÏ 
Close
ÏÏ $
(
ÏÏ$ %
)
ÏÏ% &
;
ÏÏ& '
}
ÌÌ 
}
ÓÓ 
}
ÔÔ 
}
 
catch
ÒÒ 
(
ÒÒ 
	Exception
ÒÒ 
ex
ÒÒ 
)
ÒÒ  
{
ÚÚ 

ErrorClass
ÛÛ 
objErr
ÛÛ !
=
ÛÛ" #
new
ÛÛ$ '

ErrorClass
ÛÛ( 2
(
ÛÛ2 3
ex
ÛÛ3 5
,
ÛÛ5 6
string
ÛÛ7 =
.
ÛÛ= >
Format
ÛÛ> D
(
ÛÛD E
$str
ÛÛE t
,
ÛÛt u
makeId
ÛÛv |
)
ÛÛ| }
)
ÛÛ} ~
;
ÛÛ~ 
}
ÙÙ 
return
ıı 
models
ıı 
;
ıı 
}
ˆˆ 	
public
˛˛ 
IEnumerable
˛˛ 
<
˛˛ 
BikeMakeModelData
˛˛ ,
>
˛˛, -,
GetModelsWithMissingColorImage
˛˛. L
(
˛˛L M
)
˛˛M N
{
ˇˇ 	
IEnumerable
ÄÄ 
<
ÄÄ 
BikeMakeModelData
ÄÄ )
>
ÄÄ) *
objBikeDataList
ÄÄ+ :
=
ÄÄ; <
null
ÄÄ= A
;
ÄÄA B
try
ÇÇ 
{
ÉÉ 
using
ÑÑ 
(
ÑÑ 
IDbConnection
ÑÑ $

connection
ÑÑ% /
=
ÑÑ0 1
DatabaseHelper
ÑÑ2 @
.
ÑÑ@ A!
GetMasterConnection
ÑÑA T
(
ÑÑT U
)
ÑÑU V
)
ÑÑV W
{
ÖÖ 

connection
ÜÜ 
.
ÜÜ 
Open
ÜÜ #
(
ÜÜ# $
)
ÜÜ$ %
;
ÜÜ% &
objBikeDataList
àà #
=
àà$ %

connection
àà& 0
.
àà0 1
Query
àà1 6
<
àà6 7!
BikeModelEntityBase
àà7 J
,
ààJ K 
BikeMakeEntityBase
ààL ^
,
àà^ _
BikeMakeModelData
àà` q
>
ààq r
(
ââ 
$str
ää <
,
ää< =
(
ãã !
bikeModelEntityBase
ãã 0
,
ãã0 1 
bikeMakeEntityBase
ãã2 D
)
ããD E
=>
ããF H
{
åå 
BikeMakeModelData
çç  1
bikeData
çç2 :
=
çç; <
new
çç= @
BikeMakeModelData
ççA R
(
ççR S
)
ççS T
{
éé  !
BikeMake
èè$ ,
=
èè- . 
bikeMakeEntityBase
èè/ A
,
èèA B
	BikeModel
êê$ -
=
êê. /!
bikeModelEntityBase
êê0 C
}
ëë  !
;
ëë! "
return
íí  &
bikeData
íí' /
;
íí/ 0
}
ìì 
,
ìì 
splitOn
ìì &
:
ìì& '
$str
ìì( 0
,
ìì0 1
commandType
ìì2 =
:
ìì= >
CommandType
ìì? J
.
ììJ K
StoredProcedure
ììK Z
)
îî 
;
îî 
if
ññ 
(
ññ 

connection
ññ "
!=
ññ# %
null
ññ& *
&&
ññ+ -

connection
ññ. 8
.
ññ8 9
State
ññ9 >
==
ññ? A
ConnectionState
ññB Q
.
ññQ R
Open
ññR V
)
ññV W
{
óó 

connection
òò "
.
òò" #
Close
òò# (
(
òò( )
)
òò) *
;
òò* +
}
ôô 
}
öö 
}
õõ 
catch
úú 
(
úú 
	Exception
úú 
ex
úú 
)
úú  
{
ùù 

ErrorClass
ûû 
objErr
ûû !
=
ûû" #
new
ûû$ '

ErrorClass
ûû( 2
(
ûû2 3
ex
ûû3 5
,
ûû5 6
string
ûû7 =
.
ûû= >
Format
ûû> D
(
ûûD E
$strûûE î
)ûûî ï
)ûûï ñ
;ûûñ ó
}
üü 
return
°° 
objBikeDataList
°° "
;
°°" #
}
¢¢ 	
public
™™ 
bool
™™ !
UpdateInquiryAsSold
™™ '
(
™™' (
uint
™™( ,
	inquiryId
™™- 6
)
™™6 7
{
´´ 	
int
¨¨ 
rowsAffected
¨¨ 
=
¨¨ 
$num
¨¨  
;
¨¨  !
try
≠≠ 
{
ÆÆ 
var
ØØ 
param
ØØ 
=
ØØ 
new
ØØ 
DynamicParameters
ØØ  1
(
ØØ1 2
)
ØØ2 3
;
ØØ3 4
param
∞∞ 
.
∞∞ 
Add
∞∞ 
(
∞∞ 
$str
∞∞ )
,
∞∞) *
	inquiryId
∞∞+ 4
)
∞∞4 5
;
∞∞5 6
using
≤≤ 
(
≤≤ 
IDbConnection
≤≤ $

connection
≤≤% /
=
≤≤0 1
DatabaseHelper
≤≤2 @
.
≤≤@ A!
GetMasterConnection
≤≤A T
(
≤≤T U
)
≤≤U V
)
≤≤V W
{
≥≥ 
rowsAffected
¥¥  
=
¥¥! "

connection
¥¥# -
.
¥¥- .
Execute
¥¥. 5
(
¥¥5 6
$str
¥¥6 V
,
¥¥V W
param
¥¥X ]
:
¥¥] ^
param
¥¥_ d
,
¥¥d e
commandType
¥¥f q
:
¥¥q r
CommandType
¥¥s ~
.
¥¥~ 
StoredProcedure¥¥ é
)¥¥é è
;¥¥è ê
}
µµ 
}
∑∑ 
catch
∏∏ 
(
∏∏ 
	Exception
∏∏ 
ex
∏∏ 
)
∏∏  
{
ππ 

ErrorClass
∫∫ 
objErr
∫∫ !
=
∫∫" #
new
∫∫$ '

ErrorClass
∫∫( 2
(
∫∫2 3
ex
∫∫3 5
,
∫∫5 6
string
∫∫7 =
.
∫∫= >
Format
∫∫> D
(
∫∫D E
$str
∫∫E {
,
∫∫{ |
	inquiryId∫∫} Ü
)∫∫Ü á
)∫∫á à
;∫∫à â
}
ªª 
return
ºº 
rowsAffected
ºº 
>
ºº  !
$num
ºº" #
;
ºº# $
}
ΩΩ 	
public
∆∆ 
IEnumerable
∆∆ 
<
∆∆ #
BikeVersionEntityBase
∆∆ 0
>
∆∆0 1 
GetVersionsByModel
∆∆2 D
(
∆∆D E
EnumBikeType
∆∆E Q
requestType
∆∆R ]
,
∆∆] ^
uint
∆∆_ c
modelId
∆∆d k
)
∆∆k l
{
«« 	
IEnumerable
»» 
<
»» #
BikeVersionEntityBase
»» -
>
»»- .*
objBikeVersionEntityBaseList
»»/ K
=
»»L M
null
»»N R
;
»»R S
try
…… 
{
   
using
ÀÀ 
(
ÀÀ 
IDbConnection
ÀÀ #

connection
ÀÀ$ .
=
ÀÀ/ 0
DatabaseHelper
ÀÀ1 ?
.
ÀÀ? @!
GetMasterConnection
ÀÀ@ S
(
ÀÀS T
)
ÀÀT U
)
ÀÀU V
{
ÃÃ 
var
ÕÕ 
param
ÕÕ 
=
ÕÕ 
new
ÕÕ  #
DynamicParameters
ÕÕ$ 5
(
ÕÕ5 6
)
ÕÕ6 7
;
ÕÕ7 8
param
ŒŒ 
.
ŒŒ 
Add
ŒŒ 
(
ŒŒ 
$str
ŒŒ +
,
ŒŒ+ ,
modelId
ŒŒ- 4
)
ŒŒ4 5
;
ŒŒ5 6
param
œœ 
.
œœ 
Add
œœ 
(
œœ 
$str
œœ /
,
œœ/ 0
requestType
œœ1 <
)
œœ< =
;
œœ= >
param
–– 
.
–– 
Add
–– 
(
–– 
$str
–– *
,
––* +
$num
––, -
)
––- .
;
––. /

connection
—— 
.
—— 
Open
—— #
(
——# $
)
——$ %
;
——% &*
objBikeVersionEntityBaseList
““ 0
=
““1 2

connection
““3 =
.
““= >
Query
““> C
<
““C D#
BikeVersionEntityBase
““D Y
>
““Y Z
(
““Z [
$str
““[ p
,
““p q
param
““r w
:
““w x
param
““y ~
,
““~ 
commandType““Ä ã
:““ã å
CommandType““ç ò
.““ò ô
StoredProcedure““ô ®
)““® ©
;““© ™
if
”” 
(
”” 

connection
”” !
!=
””" $
null
””% )
&&
””* ,

connection
””- 7
.
””7 8
State
””8 =
==
””> @
ConnectionState
””A P
.
””P Q
Open
””Q U
)
””U V
{
‘‘ 

connection
’’ "
.
’’" #
Close
’’# (
(
’’( )
)
’’) *
;
’’* +
}
÷÷ 
}
◊◊ 
}
ÿÿ 
catch
ŸŸ 
(
ŸŸ 
	Exception
ŸŸ 
ex
ŸŸ 
)
ŸŸ  
{
⁄⁄ 

ErrorClass
€€ 
objErr
€€ !
=
€€" #
new
€€$ '

ErrorClass
€€( 2
(
€€2 3
ex
€€3 5
,
€€5 6
$str
€€7 y
)
€€y z
;
€€z {
}
‹‹ 
return
›› *
objBikeVersionEntityBaseList
›› /
;
››/ 0
}
ﬁﬁ 	
}
‡‡ 
}·· °!
GD:\work\bikewaleweb\BikewaleOpr.DALs\Bikedata\BikeVersionsRepository.cs
	namespace 	
BikewaleOpr
 
. 
DALs 
. 
Bikedata #
{ 
public 

class "
BikeVersionsRepository '
:( )
IBikeVersions* 7
{ 
public 
IEnumerable 
< !
BikeVersionEntityBase 0
>0 1
GetVersions2 =
(= >
uint> B
modelIdC J
,J K
stringL R
requestTypeS ^
)^ _
{ 	
IList 
< !
BikeVersionEntityBase '
>' (
_objBikeVersions) 9
=: ;
null< @
;@ A
try 
{ 
using 
( 
	DbCommand  
cmd! $
=% &
	DbFactory' 0
.0 1
GetDBCommand1 =
(= >
$str> O
)O P
)P Q
{ 
cmd   
.   
CommandType   #
=  $ %
CommandType  & 1
.  1 2
StoredProcedure  2 A
;  A B
cmd!! 
.!! 

Parameters!! "
.!!" #
Add!!# &
(!!& '
	DbFactory!!' 0
.!!0 1

GetDbParam!!1 ;
(!!; <
$str!!< M
,!!M N
DbType!!O U
.!!U V
String!!V \
,!!\ ]
$num!!^ `
,!!` a
requestType!!b m
)!!m n
)!!n o
;!!o p
cmd"" 
."" 

Parameters"" "
.""" #
Add""# &
(""& '
	DbFactory""' 0
.""0 1

GetDbParam""1 ;
(""; <
$str""< I
,""I J
DbType""K Q
.""Q R
Int32""R W
,""W X
modelId""Y `
)""` a
)""a b
;""b c
using$$ 
($$ 
IDataReader$$ &
dr$$' )
=$$* +
MySqlDatabase$$, 9
.$$9 :
SelectQuery$$: E
($$E F
cmd$$F I
,$$I J
ConnectionType$$K Y
.$$Y Z
ReadOnly$$Z b
)$$b c
)$$c d
{%% 
if&& 
(&& 
dr&& 
!=&& !
null&&" &
)&&& '
{'' 
_objBikeVersions(( ,
=((- .
new((/ 2
List((3 7
<((7 8!
BikeVersionEntityBase((8 M
>((M N
(((N O
)((O P
;((P Q
while)) !
())" #
dr))# %
.))% &
Read))& *
())* +
)))+ ,
))), -
{** !
BikeVersionEntityBase++  5
	_objModel++6 ?
=++@ A
new++B E!
BikeVersionEntityBase++F [
(++[ \
)++\ ]
;++] ^
	_objModel,,  )
.,,) *
VersionName,,* 5
=,,6 7
Convert,,8 ?
.,,? @
ToString,,@ H
(,,H I
dr,,I K
[,,K L
$str,,L R
],,R S
),,S T
;,,T U
	_objModel--  )
.--) *
	VersionId--* 3
=--4 5
SqlReaderConvertor--6 H
.--H I
ToInt32--I P
(--P Q
dr--Q S
[--S T
$str--T [
]--[ \
)--\ ]
;--] ^
_objBikeVersions..  0
...0 1
Add..1 4
(..4 5
	_objModel..5 >
)..> ?
;..? @
}// 
}00 
}11 
}33 
}44 
catch55 
(55 
	Exception55 
ex55 
)55  
{66 

ErrorClass77 
objErr77 !
=77" #
new77$ '

ErrorClass77( 2
(772 3
ex773 5
,775 6
string777 =
.77= >
Format77> D
(77D E
$str	77E Ü
,
77Ü á
modelId
77à è
,
77è ê
requestType
77ë ú
)
77ú ù
)
77ù û
;
77û ü
objErr88 
.88 
SendMail88 
(88  
)88  !
;88! "
}99 
return:: 
_objBikeVersions:: #
;::# $
};; 	
}<< 
}== ór
FD:\work\bikewaleweb\BikewaleOpr.DALs\BikePricing\BikeShowroomPrices.cs
	namespace 	
BikewaleOpr
 
. 
DALs 
. 
BikePricing &
{ 
public 

class 
BikeShowroomPrices #
:$ %%
IShowroomPricesRepository& ?
{ 
public!! 
IEnumerable!! 
<!! 
	BikePrice!! $
>!!$ %
GetBikePrices!!& 3
(!!3 4
uint!!4 8
makeId!!9 ?
,!!? @
uint!!A E
cityId!!F L
)!!L M
{"" 	
IList## 
<## 
	BikePrice## 
>## 
	objPrices## &
=##' (
null##) -
;##- .
try$$ 
{%% 
using&& 
(&& 
	DbCommand&&  
cmd&&! $
=&&% &
	DbFactory&&' 0
.&&0 1
GetDBCommand&&1 =
(&&= >
$str&&> c
)&&c d
)&&d e
{'' 
cmd(( 
.(( 

Parameters(( "
.((" #
Add((# &
(((& '
	DbFactory((' 0
.((0 1

GetDbParam((1 ;
(((; <
$str((< H
,((H I
DbType((J P
.((P Q
UInt32((Q W
,((W X
makeId((Y _
)((_ `
)((` a
;((a b
cmd)) 
.)) 

Parameters)) "
.))" #
Add))# &
())& '
	DbFactory))' 0
.))0 1

GetDbParam))1 ;
()); <
$str))< H
,))H I
DbType))J P
.))P Q
UInt32))Q W
,))W X
cityId))Y _
)))_ `
)))` a
;))a b
cmd++ 
.++ 
CommandType++ #
=++$ %
CommandType++& 1
.++1 2
StoredProcedure++2 A
;++A B
using-- 
(-- 
IDataReader-- &
dr--' )
=--* +
MySqlDatabase--, 9
.--9 :
SelectQuery--: E
(--E F
cmd--F I
,--I J
ConnectionType--K Y
.--Y Z
ReadOnly--Z b
)--b c
)--c d
{.. 
if// 
(// 
dr// 
!=// !
null//" &
)//& '
{00 
	objPrices11 %
=11& '
new11( +
List11, 0
<110 1
	BikePrice111 :
>11: ;
(11; <
)11< =
;11= >
while33 !
(33" #
dr33# %
.33% &
Read33& *
(33* +
)33+ ,
)33, -
{44 
	BikePrice55  )
objPrice55* 2
=553 4
new555 8
	BikePrice559 B
(55B C
)55C D
;55D E
objPrice66  (
.66( )
MakeName66) 1
=662 3
Convert664 ;
.66; <
ToString66< D
(66D E
dr66E G
[66G H
$str66H R
]66R S
)66S T
;66T U
objPrice77  (
.77( )
	ModelName77) 2
=773 4
Convert775 <
.77< =
ToString77= E
(77E F
dr77F H
[77H I
$str77I T
]77T U
)77U V
;77V W
objPrice88  (
.88( )
VersionName88) 4
=885 6
Convert887 >
.88> ?
ToString88? G
(88G H
dr88H J
[88J K
$str88K X
]88X Y
)88Y Z
;88Z [
objPrice99  (
.99( )
	VersionId99) 2
=993 4
Convert995 <
.99< =
ToUInt3299= E
(99E F
dr99F H
[99H I
$str99I T
]99T U
)99U V
;99V W
objPrice;;  (
.;;( )
Price;;) .
=;;/ 0
Convert;;1 8
.;;8 9
ToString;;9 A
(;;A B
dr;;B D
[;;D E
$str;;E L
];;L M
);;M N
;;;N O
objPrice<<  (
.<<( )
	Insurance<<) 2
=<<3 4
Convert<<5 <
.<<< =
ToString<<= E
(<<E F
dr<<F H
[<<H I
$str<<I T
]<<T U
)<<U V
;<<V W
objPrice==  (
.==( )
RTO==) ,
===- .
Convert==/ 6
.==6 7
ToString==7 ?
(==? @
dr==@ B
[==B C
$str==C H
]==H I
)==I J
;==J K
objPrice??  (
.??( )
LastUpdatedDate??) 8
=??9 :
Convert??; B
.??B C
ToString??C K
(??K L
dr??L N
[??N O
$str??O `
]??` a
)??a b
;??b c
objPrice@@  (
.@@( )
LastUpdatedBy@@) 6
=@@7 8
Convert@@9 @
.@@@ A
ToString@@A I
(@@I J
dr@@J L
[@@L M
$str@@M \
]@@\ ]
)@@] ^
;@@^ _
objPriceAA  (
.AA( )
BikeModelIdAA) 4
=AA5 6
ConvertAA7 >
.AA> ?
ToUInt32AA? G
(AAG H
drAAH J
[AAJ K
$strAAK X
]AAX Y
)AAY Z
;AAZ [
	objPricesBB  )
.BB) *
AddBB* -
(BB- .
objPriceBB. 6
)BB6 7
;BB7 8
}CC 
}DD 
}EE 
}FF 
}GG 
catchHH 
(HH 
	ExceptionHH 
exHH 
)HH  
{II 

ErrorClassJJ 
objErrJJ !
=JJ" #
newJJ$ '

ErrorClassJJ( 2
(JJ2 3
exJJ3 5
,JJ5 6
$strJJ7 v
)JJv w
;JJw x
objErrKK 
.KK 
SendMailKK 
(KK  
)KK  !
;KK! "
}LL 
returnMM 
	objPricesMM 
;MM 
}NN 	
publicRR 
boolRR 
SaveBikePricesRR "
(RR" #
stringRR# )
versionPriceListRR* :
,RR: ;
stringRR< B

citiesListRRC M
,RRM N
intRRO R
	updatedByRRS \
)RR\ ]
{SS 	
boolTT 
	isUpdatedTT 
=TT 
falseTT "
;TT" #
tryVV 
{WW 
usingXX 
(XX 
	DbCommandXX  
cmdXX! $
=XX% &
	DbFactoryXX' 0
.XX0 1
GetDBCommandXX1 =
(XX= >
$strXX> Z
)XXZ [
)XX[ \
{YY 
cmdZZ 
.ZZ 
CommandTypeZZ #
=ZZ$ %
CommandTypeZZ& 1
.ZZ1 2
StoredProcedureZZ2 A
;ZZA B
cmd\\ 
.\\ 

Parameters\\ "
.\\" #
Add\\# &
(\\& '
	DbFactory\\' 0
.\\0 1

GetDbParam\\1 ;
(\\; <
$str\\< R
,\\R S
DbType\\T Z
.\\Z [
String\\[ a
,\\a b
versionPriceList\\c s
)\\s t
)\\t u
;\\u v
cmd]] 
.]] 

Parameters]] "
.]]" #
Add]]# &
(]]& '
	DbFactory]]' 0
.]]0 1

GetDbParam]]1 ;
(]]; <
$str]]< L
,]]L M
DbType]]N T
.]]T U
String]]U [
,]][ \

citiesList]]] g
)]]g h
)]]h i
;]]i j
cmd^^ 
.^^ 

Parameters^^ "
.^^" #
Add^^# &
(^^& '
	DbFactory^^' 0
.^^0 1

GetDbParam^^1 ;
(^^; <
$str^^< K
,^^K L
DbType^^M S
.^^S T
Int32^^T Y
,^^Y Z
	updatedBy^^[ d
)^^d e
)^^e f
;^^f g
cmd`` 
.`` 
CommandType`` #
=``$ %
CommandType``& 1
.``1 2
StoredProcedure``2 A
;``A B
MySqlDatabasebb !
.bb! "
ExecuteNonQuerybb" 1
(bb1 2
cmdbb2 5
,bb5 6
ConnectionTypebb7 E
.bbE F
MasterDatabasebbF T
)bbT U
;bbU V
	isUpdatedcc 
=cc 
truecc  $
;cc$ %
}dd 
}ee 
catchff 
(ff 
	Exceptionff 
exff 
)ff  
{gg 

ErrorClasshh 
objErrhh !
=hh" #
newhh$ '

ErrorClasshh( 2
(hh2 3
exhh3 5
,hh5 6
$strhh7 v
)hhv w
;hhw x
objErrii 
.ii 
SendMailii 
(ii  
)ii  !
;ii! "
}jj 
returnll 
	isUpdatedll 
;ll 
}mm 	
publicuu 
IEnumerableuu 
<uu 
BikeModelEntityBaseuu .
>uu. /
GetModelsByMakeuu0 ?
(uu? @
uintuu@ D
makeIduuE K
)uuK L
{vv 	
IEnumerableww 
<ww 
BikeModelEntityBaseww +
>ww+ ,
	modelListww- 6
=ww7 8
nullww9 =
;ww= >
tryxx 
{yy 
varzz 
paramzz 
=zz 
newzz 
DynamicParameterszz  1
(zz1 2
)zz2 3
;zz3 4
param{{ 
.{{ 
Add{{ 
({{ 
$str{{ &
,{{& '
makeId{{( .
){{. /
;{{/ 0
param|| 
.|| 
Add|| 
(|| 
$str|| +
,||+ ,
$str||- 2
)||2 3
;||3 4
using~~ 
(~~ 
IDbConnection~~ $

connection~~% /
=~~0 1
DatabaseHelper~~2 @
.~~@ A
GetMasterConnection~~A T
(~~T U
)~~U V
)~~V W
{ 
	modelList
ÄÄ 
=
ÄÄ 

connection
ÄÄ  *
.
ÄÄ* +
Query
ÄÄ+ 0
<
ÄÄ0 1!
BikeModelEntityBase
ÄÄ1 D
>
ÄÄD E
(
ÄÄE F
$str
ÄÄF Y
,
ÄÄY Z
param
ÄÄ[ `
:
ÄÄ` a
param
ÄÄb g
,
ÄÄg h
commandType
ÄÄi t
:
ÄÄt u
CommandTypeÄÄv Å
.ÄÄÅ Ç
StoredProcedureÄÄÇ ë
)ÄÄë í
;ÄÄí ì
}
ÅÅ 
}
ÉÉ 
catch
ÑÑ 
(
ÑÑ 
	Exception
ÑÑ 
ex
ÑÑ 
)
ÑÑ  
{
ÖÖ 

ErrorClass
ÜÜ 
objErr
ÜÜ !
=
ÜÜ" #
new
ÜÜ$ '

ErrorClass
ÜÜ( 2
(
ÜÜ2 3
ex
ÜÜ3 5
,
ÜÜ5 6
string
ÜÜ7 =
.
ÜÜ= >
Format
ÜÜ> D
(
ÜÜD E
$strÜÜE ë
,ÜÜë í
makeIdÜÜí ò
)ÜÜò ô
)ÜÜô ö
;ÜÜö õ
}
áá 
return
ââ 
	modelList
ââ 
;
ââ 
}
ää 	
public
ìì #
PriceMonitoringEntity
ìì $'
GetPriceMonitoringDetails
ìì% >
(
ìì> ?
uint
ìì? C
makeId
ììD J
,
ììJ K
uint
ììL P
modelId
ììQ X
,
ììX Y
uint
ììZ ^
stateId
ìì_ f
)
ììf g
{
îî 	#
PriceMonitoringEntity
ïï !
priceMonitoring
ïï" 1
=
ïï2 3
null
ïï4 8
;
ïï8 9
try
ññ 
{
óó 
var
òò 
param
òò 
=
òò 
new
òò 
DynamicParameters
òò  1
(
òò1 2
)
òò2 3
;
òò3 4
param
ôô 
.
ôô 
Add
ôô 
(
ôô 
$str
ôô &
,
ôô& '
makeId
ôô( .
)
ôô. /
;
ôô/ 0
param
öö 
.
öö 
Add
öö 
(
öö 
$str
öö '
,
öö' (
modelId
öö) 0
)
öö0 1
;
öö1 2
param
õõ 
.
õõ 
Add
õõ 
(
õõ 
$str
õõ '
,
õõ' (
stateId
õõ) 0
)
õõ0 1
;
õõ1 2
using
ùù 
(
ùù 
IDbConnection
ùù $

connection
ùù% /
=
ùù0 1
DatabaseHelper
ùù2 @
.
ùù@ A!
GetMasterConnection
ùùA T
(
ùùT U
)
ùùU V
)
ùùV W
{
ûû 
priceMonitoring
üü #
=
üü$ %
new
üü& )#
PriceMonitoringEntity
üü* ?
(
üü? @
)
üü@ A
;
üüA B
var
†† 
reader
†† 
=
††  

connection
††! +
.
††+ ,
QueryMultiple
††, 9
(
††9 :
$str
††: N
,
††N O
param
††P U
:
††U V
param
††W \
,
††\ ]
commandType
††^ i
:
††i j
CommandType
††k v
.
††v w
StoredProcedure††w Ü
)††Ü á
;††á à
priceMonitoring
°° #
.
°°# $
CityList
°°$ ,
=
°°- .
reader
°°/ 5
.
°°5 6
Read
°°6 :
<
°°: ;
Entities
°°; C
.
°°C D
MfgCityEntity
°°D Q
>
°°Q R
(
°°R S
)
°°S T
;
°°T U
priceMonitoring
¢¢ #
.
¢¢# $
BikeVersionList
¢¢$ 3
=
¢¢4 5
reader
¢¢6 <
.
¢¢< =
Read
¢¢= A
<
¢¢A B#
BikeVersionEntityBase
¢¢B W
>
¢¢W X
(
¢¢X Y
)
¢¢Y Z
;
¢¢Z [
priceMonitoring
££ #
.
££# $"
PriceLastUpdatedList
££$ 8
=
££9 :
reader
££; A
.
££A B
Read
££B F
<
££F G#
PriceLastUpdateEntity
££G \
>
££\ ]
(
££] ^
)
££^ _
;
££_ `
priceMonitoring
§§ #
.
§§# $
BikeModelList
§§$ 1
=
§§2 3
reader
§§4 :
.
§§: ;
Read
§§; ?
<
§§? @!
BikeModelEntityBase
§§@ S
>
§§S T
(
§§T U
)
§§U V
;
§§V W
}
•• 
}
ßß 
catch
®® 
(
®® 
	Exception
®® 
ex
®® 
)
®®  
{
©© 

ErrorClass
´´ 
objErr
´´ !
=
´´" #
new
´´$ '

ErrorClass
´´( 2
(
´´2 3
ex
´´3 5
,
´´5 6
string
´´7 =
.
´´= >
Format
´´> D
(
´´D E
$str´´E ß
,´´ß ®
makeId´´© Ø
,´´Ø ∞
modelId´´± ∏
)´´∏ π
)´´π ∫
;´´∫ ª
}
¨¨ 
return
ÆÆ 
priceMonitoring
ÆÆ "
;
ÆÆ" #
}
ØØ 	
}
∞∞ 
}±± ≤w
ID:\work\bikewaleweb\BikewaleOpr.DALs\BikePricing\DealerPriceRepository.cs
	namespace 	
BikewaleOpr
 
. 
DALs 
. 
BikePricing &
{ 
public 

class !
DealerPriceRepository &
:' ("
IDealerPriceRepository) ?
{ 
public 
ICollection 
< 
PriceCategoryEntity .
>. /!
GetAllPriceCategories0 E
(E F
)F G
{ 	
ICollection 
< 
PriceCategoryEntity +
>+ ,
priceCatList- 9
=: ;
null< @
;@ A
try 
{   
using!! 
(!! 
	DbCommand!!  
cmd!!! $
=!!% &
	DbFactory!!' 0
.!!0 1
GetDBCommand!!1 =
(!!= >
$str!!> V
)!!V W
)!!W X
{"" 
cmd## 
.## 
CommandType## #
=##$ %
CommandType##& 1
.##1 2
StoredProcedure##2 A
;##A B
using$$ 
($$ 
IDataReader$$ &
dr$$' )
=$$* +
MySqlDatabase$$, 9
.$$9 :
SelectQuery$$: E
($$E F
cmd$$F I
,$$I J
ConnectionType$$K Y
.$$Y Z
ReadOnly$$Z b
)$$b c
)$$c d
{%% 
if&& 
(&& 
dr&& 
!=&& !
null&&" &
)&&& '
{'' 
priceCatList(( (
=(() *
new((+ .

Collection((/ 9
<((9 :
PriceCategoryEntity((: M
>((M N
(((N O
)((O P
;((P Q
while)) !
())" #
dr))# %
.))% &
Read))& *
())* +
)))+ ,
))), -
{** 
PriceCategoryEntity++  3
objPriceCat++4 ?
=++@ A
new++B E
PriceCategoryEntity++F Y
(++Y Z
)++Z [
;++[ \
objPriceCat,,  +
.,,+ ,
PriceCategoryId,,, ;
=,,< =
SqlReaderConvertor,,> P
.,,P Q
ToInt32,,Q X
(,,X Y
dr,,Y [
[,,[ \
$str,,\ l
],,l m
),,m n
;,,n o
objPriceCat--  +
.--+ ,
PriceCategoryName--, =
=--> ?
Convert--@ G
.--G H
ToString--H P
(--P Q
dr--Q S
[--S T
$str--T ^
]--^ _
)--_ `
;--` a
priceCatList..  ,
..., -
Add..- 0
(..0 1
objPriceCat..1 <
)..< =
;..= >
}// 
dr00 
.00 
Close00 $
(00$ %
)00% &
;00& '
}11 
}22 
}33 
}44 
catch55 
(55 
	Exception55 
ex55 
)55  
{66 

ErrorClass77 
objErr77 !
=77" #
new77$ '

ErrorClass77( 2
(772 3
ex773 5
,775 6
$str	777 Å
)
77Å Ç
;
77Ç É
}88 
return99 
priceCatList99 
;99  
}:: 	
publicAA 
boolAA 
SaveBikeCategoryAA $
(AA$ %
stringAA% +
categoryNameAA, 8
)AA8 9
{BB 	
boolCC 
	isSuccessCC 
=CC 
falseCC "
;CC" #
tryDD 
{EE 
usingFF 
(FF 
	DbCommandFF  
cmdFF! $
=FF% &
	DbFactoryFF' 0
.FF0 1
GetDBCommandFF1 =
(FF= >
$strFF> R
)FFR S
)FFS T
{GG 
cmdHH 
.HH 
CommandTypeHH #
=HH$ %
CommandTypeHH& 1
.HH1 2
StoredProcedureHH2 A
;HHA B
cmdII 
.II 

ParametersII "
.II" #
AddII# &
(II& '
	DbFactoryII' 0
.II0 1

GetDbParamII1 ;
(II; <
$strII< O
,IIO P
DbTypeIIQ W
.IIW X
StringIIX ^
,II^ _
categoryNameII` l
)IIl m
)IIm n
;IIn o
ifJJ 
(JJ 
ConvertJJ 
.JJ  
	ToBooleanJJ  )
(JJ) *
MySqlDatabaseJJ* 7
.JJ7 8
ExecuteNonQueryJJ8 G
(JJG H
cmdJJH K
,JJK L
ConnectionTypeJJM [
.JJ[ \
MasterDatabaseJJ\ j
)JJj k
)JJk l
)JJl m
	isSuccessKK !
=KK" #
trueKK$ (
;KK( )
}LL 
}MM 
catchNN 
(NN 
	ExceptionNN 
exNN 
)NN  
{OO 

ErrorClassPP 
objErrPP !
=PP" #
newPP$ '

ErrorClassPP( 2
(PP2 3
exPP3 5
,PP5 6
StringPP7 =
.PP= >
FormatPP> D
(PPD E
$str	PPE ô
,
PPô ö
categoryName
PPõ ß
)
PPß ®
)
PP® ©
;
PP© ™
}QQ 
returnRR 
	isSuccessRR 
;RR 
}SS 	
public]] !
DealerPriceBaseEntity]] $
GetDealerPrices]]% 4
(]]4 5
uint]]5 9
cityId]]: @
,]]@ A
uint]]B F
makeId]]G M
,]]M N
uint]]O S
dealerId]]T \
)]]\ ]
{^^ 	!
DealerPriceBaseEntity__ !
priceSheetBase__" 0
=__1 2
null__3 7
;__7 8
tryaa 
{bb 
usingcc 
(cc 
IDbConnectioncc $

connectioncc% /
=cc0 1
DatabaseHelpercc2 @
.cc@ A
GetMasterConnectionccA T
(ccT U
)ccU V
)ccV W
{dd 

connectionee 
.ee 
Openee #
(ee# $
)ee$ %
;ee% &
vargg 
paramgg 
=gg 
newgg  #
DynamicParametersgg$ 5
(gg5 6
)gg6 7
;gg7 8
paramhh 
.hh 
Addhh 
(hh 
$strhh *
,hh* +
makeIdhh, 2
)hh2 3
;hh3 4
paramii 
.ii 
Addii 
(ii 
$strii *
,ii* +
cityIdii, 2
)ii2 3
;ii3 4
paramjj 
.jj 
Addjj 
(jj 
$strjj ,
,jj, -
dealerIdjj. 6
)jj6 7
;jj7 8
usingll 
(ll 
varll 
resultsll &
=ll' (

connectionll) 3
.ll3 4
QueryMultiplell4 A
(llA B
$strllB _
,ll_ `
paramlla f
:llf g
paramllh m
,llm n
commandTypello z
:llz {
CommandType	ll| á
.
llá à
StoredProcedure
llà ó
)
lló ò
)
llò ô
{mm 
priceSheetBasenn &
=nn' (
newnn) ,!
DealerPriceBaseEntitynn- B
(nnB C
)nnC D
;nnD E
priceSheetBaseoo &
.oo& '
DealerVersionsoo' 5
=oo6 7
resultsoo8 ?
.oo? @
Readoo@ D
<ooD E
DealerVersionEntityooE X
>ooX Y
(ooY Z
)ooZ [
;oo[ \
priceSheetBasepp &
.pp& '
VersionPricespp' 4
=pp5 6
resultspp7 >
.pp> ?
Readpp? C
<ppC D
VersionPriceEntityppD V
>ppV W
(ppW X
)ppX Y
;ppY Z
}qq 
ifss 
(ss 

connectionss "
.ss" #
Statess# (
==ss) +
ConnectionStatess, ;
.ss; <
Openss< @
)ss@ A

connectiontt "
.tt" #
Closett# (
(tt( )
)tt) *
;tt* +
}uu 
}vv 
catchww 
(ww 
	Exceptionww 
exww 
)ww  
{xx 

ErrorClassyy 
objErryy !
=yy" #
newyy$ '

ErrorClassyy( 2
(yy2 3
exyy3 5
,yy5 6
stringyy7 =
.yy= >
Formatyy> D
(yyD E
$strzz H
,zzH I
cityIdzzJ P
,zzP Q
makeIdzzR X
,zzX Y
dealerIdzzZ b
)zzb c
)zzc d
;zzd e
}{{ 
return}} 
priceSheetBase}} !
;}}! "
}~~ 	
public
áá 
bool
áá !
DeleteVersionPrices
áá '
(
áá' (
uint
áá( ,
dealerId
áá- 5
,
áá5 6
uint
áá7 ;
cityId
áá< B
,
ááB C
string
ááD J
versionIdList
ááK X
)
ááX Y
{
àà 	
bool
ââ 
	isSuccess
ââ 
=
ââ 
false
ââ "
;
ââ" #
try
ãã 
{
åå 
using
çç 
(
çç 
IDbConnection
çç $

connection
çç% /
=
çç0 1
DatabaseHelper
çç2 @
.
çç@ A!
GetMasterConnection
ççA T
(
ççT U
)
ççU V
)
ççV W
{
éé 

connection
èè 
.
èè 
Open
èè #
(
èè# $
)
èè$ %
;
èè% &
var
ëë 
param
ëë 
=
ëë 
new
ëë  #
DynamicParameters
ëë$ 5
(
ëë5 6
)
ëë6 7
;
ëë7 8
param
íí 
.
íí 
Add
íí 
(
íí 
$str
íí ,
,
íí, -
dealerId
íí. 6
)
íí6 7
;
íí7 8
param
ìì 
.
ìì 
Add
ìì 
(
ìì 
$str
ìì *
,
ìì* +
cityId
ìì, 2
)
ìì2 3
;
ìì3 4
param
îî 
.
îî 
Add
îî 
(
îî 
$str
îî 1
,
îî1 2
versionIdList
îî3 @
)
îî@ A
;
îîA B

connection
ññ 
.
ññ 
Execute
ññ &
(
ññ& '
$str
ññ' >
,
ññ> ?
param
ññ@ E
:
ññE F
param
ññG L
,
ññL M
commandType
ññN Y
:
ññY Z
CommandType
ññ[ f
.
ññf g
StoredProcedure
ññg v
)
ññv w
;
ññw x
	isSuccess
óó 
=
óó 
true
óó  $
;
óó$ %
if
ôô 
(
ôô 

connection
ôô "
.
ôô" #
State
ôô# (
==
ôô) +
ConnectionState
ôô, ;
.
ôô; <
Open
ôô< @
)
ôô@ A

connection
öö "
.
öö" #
Close
öö# (
(
öö( )
)
öö) *
;
öö* +
}
õõ 
}
úú 
catch
ùù 
(
ùù 
	Exception
ùù 
ex
ùù 
)
ùù  
{
ûû 

ErrorClass
üü 
objErr
üü !
=
üü" #
new
üü$ '

ErrorClass
üü( 2
(
üü2 3
ex
üü3 5
,
üü5 6
string
üü7 =
.
üü= >
Format
üü> D
(
üüD E
$str
†† S
,
††S T
dealerId
††U ]
,
††] ^
cityId
††_ e
,
††e f
versionIdList
††g t
)
††t u
)
††u v
;
††v w
}
°° 
return
££ 
	isSuccess
££ 
;
££ 
}
§§ 	
public
∞∞ 
bool
∞∞ 
SaveDealerPrices
∞∞ $
(
∞∞$ %
string
∞∞% +
dealerIdList
∞∞, 8
,
∞∞8 9
string
∞∞: @

cityIdList
∞∞A K
,
∞∞K L
string
∞∞M S
versionIdList
∞∞T a
,
∞∞a b
string
±± 

itemIdList
±± 
,
±± 
string
±± %
itemValueList
±±& 3
,
±±3 4
uint
±±5 9
	enteredBy
±±: C
)
±±C D
{
≤≤ 	
bool
≥≥ 
isPriceSaved
≥≥ 
=
≥≥ 
false
≥≥  %
;
≥≥% &
try
µµ 
{
∂∂ 
using
∑∑ 
(
∑∑ 
IDbConnection
∑∑ $

connection
∑∑% /
=
∑∑0 1
DatabaseHelper
∑∑2 @
.
∑∑@ A!
GetMasterConnection
∑∑A T
(
∑∑T U
)
∑∑U V
)
∑∑V W
{
∏∏ 

connection
ππ 
.
ππ 
Open
ππ #
(
ππ# $
)
ππ$ %
;
ππ% &
var
ªª 
param
ªª 
=
ªª 
new
ªª  #
DynamicParameters
ªª$ 5
(
ªª5 6
)
ªª6 7
;
ªª7 8
param
ºº 
.
ºº 
Add
ºº 
(
ºº 
$str
ºº ,
,
ºº, -
dealerIdList
ºº. :
)
ºº: ;
;
ºº; <
param
ΩΩ 
.
ΩΩ 
Add
ΩΩ 
(
ΩΩ 
$str
ΩΩ *
,
ΩΩ* +

cityIdList
ΩΩ, 6
)
ΩΩ6 7
;
ΩΩ7 8
param
ææ 
.
ææ 
Add
ææ 
(
ææ 
$str
ææ 1
,
ææ1 2
versionIdList
ææ3 @
)
ææ@ A
;
ææA B
param
øø 
.
øø 
Add
øø 
(
øø 
$str
øø *
,
øø* +

itemIdList
øø, 6
)
øø6 7
;
øø7 8
param
¿¿ 
.
¿¿ 
Add
¿¿ 
(
¿¿ 
$str
¿¿ -
,
¿¿- .
itemValueList
¿¿/ <
)
¿¿< =
;
¿¿= >
param
¡¡ 
.
¡¡ 
Add
¡¡ 
(
¡¡ 
$str
¡¡ -
,
¡¡- .
	enteredBy
¡¡/ 8
)
¡¡8 9
;
¡¡9 :

connection
√√ 
.
√√ 
Execute
√√ &
(
√√& '
$str
√√' E
,
√√E F
param
√√G L
:
√√L M
param
√√N S
,
√√S T
commandType
√√U `
:
√√` a
CommandType
√√b m
.
√√m n
StoredProcedure
√√n }
)
√√} ~
;
√√~ 
isPriceSaved
ƒƒ  
=
ƒƒ! "
true
ƒƒ# '
;
ƒƒ' (
if
∆∆ 
(
∆∆ 

connection
∆∆ "
.
∆∆" #
State
∆∆# (
==
∆∆) +
ConnectionState
∆∆, ;
.
∆∆; <
Open
∆∆< @
)
∆∆@ A

connection
«« "
.
««" #
Close
««# (
(
««( )
)
««) *
;
««* +
}
»» 
}
…… 
catch
   
(
   
	Exception
   
ex
   
)
    
{
ÀÀ 

ErrorClass
ÃÃ 
objErr
ÃÃ !
=
ÃÃ" #
new
ÃÃ$ '

ErrorClass
ÃÃ( 2
(
ÃÃ2 3
ex
ÃÃ3 5
,
ÃÃ5 6
string
ÃÃ7 =
.
ÃÃ= >
Format
ÃÃ> D
(
ÃÃD E
$str
ÕÕ 
,ÕÕ Ä
dealerIdList
ŒŒ  
,
ŒŒ  !

cityIdList
ŒŒ" ,
,
ŒŒ, -
versionIdList
ŒŒ. ;
,
ŒŒ; <

itemIdList
ŒŒ= G
,
ŒŒG H
itemValueList
ŒŒI V
,
ŒŒV W
	enteredBy
ŒŒX a
)
ŒŒa b
)
ŒŒb c
;
ŒŒc d
}
œœ 
return
—— 
isPriceSaved
—— 
;
——  
}
““ 	
}
”” 
}‘‘ °^
ED:\work\bikewaleweb\BikewaleOpr.DALs\PageMetas\PageMetasRepository.cs
	namespace 	
BikewaleOpr
 
. 
DALs 
. 
ConfigurePageMetas -
{ 
public 

class 
PageMetasRepository $
:% & 
IPageMetasRepository' ;
{ 
public 
IEnumerable 
< 

PageEntity %
>% &
GetPagesList' 3
(3 4
)4 5
{ 	
IEnumerable 
< 

PageEntity "
>" #
objPageList$ /
=0 1
null2 6
;6 7
try 
{ 
using 
( 
IDbConnection $

connection% /
=0 1
DatabaseHelper2 @
.@ A
GetMasterConnectionA T
(T U
)U V
)V W
{ 

connection 
. 
Open #
(# $
)$ %
;% &
var   
param   
=   
new    #
DynamicParameters  $ 5
(  5 6
)  6 7
;  7 8
objPageList!! 
=!!  !

connection!!" ,
.!!, -
Query!!- 2
<!!2 3

PageEntity!!3 =
>!!= >
(!!> ?
$str!!? P
,!!P Q
param!!R W
:!!W X
param!!Y ^
,!!^ _
commandType!!` k
:!!k l
CommandType!!m x
.!!x y
StoredProcedure	!!y à
)
!!à â
;
!!â ä
}"" 
}## 
catch$$ 
($$ 
	Exception$$ 
ex$$ 
)$$  
{%% 

ErrorClass&& 
objErr&& !
=&&" #
new&&$ '

ErrorClass&&( 2
(&&2 3
ex&&3 5
,&&5 6
string&&7 =
.&&= >
Format&&> D
(&&D E
$str&&E g
)&&g h
)&&h i
;&&i j
}'' 
return(( 
objPageList(( 
;(( 
})) 	
public,, 
bool,, 
SavePageMetas,, !
(,,! "
PageMetasEntity,," 1
objMetas,,2 :
),,: ;
{-- 	
bool.. 
	isSuccess.. 
=.. 
false.. "
;.." #
try// 
{00 
using11 
(11 
IDbConnection11 $

connection11% /
=110 1
DatabaseHelper112 @
.11@ A
GetMasterConnection11A T
(11T U
)11U V
)11V W
{22 

connection33 
.33 
Open33 #
(33# $
)33$ %
;33% &
var44 
param44 
=44 
new44  #
DynamicParameters44$ 5
(445 6
)446 7
;447 8
param55 
.55 
Add55 
(55 
$str55 &
,55& '
objMetas55( 0
.550 1

PageMetaId551 ;
)55; <
;55< =
param66 
.66 
Add66 
(66 
$str66 *
,66* +
objMetas66, 4
.664 5
PageId665 ;
)66; <
;66< =
param77 
.77 
Add77 
(77 
$str77 *
,77* +
objMetas77, 4
.774 5
MakeId775 ;
)77; <
;77< =
param88 
.88 
Add88 
(88 
$str88 +
,88+ ,
objMetas88- 5
.885 6
ModelId886 =
==88> @
$num88A B
?88C D
null88E I
:88I J
objMetas88K S
.88S T
ModelId88T [
)88[ \
;88\ ]
param99 
.99 
Add99 
(99 
$str99 )
,99) *
objMetas99+ 3
.993 4
Title994 9
)999 :
;99: ;
param:: 
.:: 
Add:: 
(:: 
$str:: /
,::/ 0
objMetas::1 9
.::9 :
Description::: E
)::E F
;::F G
param;; 
.;; 
Add;; 
(;; 
$str;; ,
,;;, -
objMetas;;. 6
.;;6 7
Keywords;;7 ?
);;? @
;;;@ A
param<< 
.<< 
Add<< 
(<< 
$str<< +
,<<+ ,
objMetas<<- 5
.<<5 6
Heading<<6 =
)<<= >
;<<> ?
param== 
.== 
Add== 
(== 
$str== +
,==+ ,
objMetas==- 5
.==5 6
Summary==6 =
)=== >
;==> ?
param>> 
.>> 
Add>> 
(>> 
$str>> ,
,>>, -
objMetas>>. 6
.>>6 7
	EnteredBy>>7 @
)>>@ A
;>>A B
param?? 
.?? 
Add?? 
(?? 
$str?? 0
,??0 1
objMetas??2 :
.??: ;
BothPlatform??; G
)??G H
;??H I

connectionAA 
.AA 
ExecuteAA &
(AA& '
$strAA' 5
,AA5 6
paramAA7 <
:AA< =
paramAA> C
,AAC D
commandTypeAAE P
:AAP Q
CommandTypeAAR ]
.AA] ^
StoredProcedureAA^ m
)AAm n
;AAn o
	isSuccessBB 
=BB 
trueBB  $
;BB$ %
}CC 
}DD 
catchEE 
(EE 
	ExceptionEE 
exEE 
)EE  
{FF 

ErrorClassGG 
objErrGG !
=GG" #
newGG$ '

ErrorClassGG( 2
(GG2 3
exGG3 5
,GG5 6
stringGG7 =
.GG= >
FormatGG> D
(GGD E
$strGGE g
)GGg h
)GGh i
;GGi j
}HH 
returnII 
	isSuccessII 
;II 
}JJ 	
publicRR 
IEnumerableRR 
<RR 
PageMetaEntityRR )
>RR) *
GetPageMetasRR+ 7
(RR7 8
uintRR8 <
pageMetaStatusRR= K
)RRK L
{SS 	
IEnumerableTT 
<TT 
PageMetaEntityTT &
>TT& '
objPageMetasListTT( 8
=TT9 :
nullTT; ?
;TT? @
tryUU 
{VV 
usingWW 
(WW 
IDbConnectionWW $

connectionWW% /
=WW0 1
DatabaseHelperWW2 @
.WW@ A
GetMasterConnectionWWA T
(WWT U
)WWU V
)WWV W
{XX 
varYY 
paramYY 
=YY 
newYY  #
DynamicParametersYY$ 5
(YY5 6
)YY6 7
;YY7 8
paramZZ 
.ZZ 
AddZZ 
(ZZ 
$strZZ *
,ZZ* +
pageMetaStatusZZ, :
)ZZ: ;
;ZZ; <
objPageMetasList[[ $
=[[% &

connection[[' 1
.[[1 2
Query[[2 7
<[[7 8
PageMetaEntity[[8 F
>[[F G
([[G H
$str[[H V
,[[V W
param[[X ]
:[[] ^
param[[_ d
,[[d e
commandType[[f q
:[[q r
CommandType[[s ~
.[[~ 
StoredProcedure	[[ é
)
[[é è
;
[[è ê
}\\ 
}]] 
catch^^ 
(^^ 
	Exception^^ 
ex^^ 
)^^  
{__ 

ErrorClass`` 
objErr`` !
=``" #
new``$ '

ErrorClass``( 2
(``2 3
ex``3 5
,``5 6
string``7 =
.``= >
Format``> D
(``D E
$str	``E Ö
,
``Ö Ü
pageMetaStatus
``á ï
)
``ï ñ
)
``ñ ó
;
``ó ò
}aa 
returnbb 
objPageMetasListbb #
;bb# $
}cc 	
publicff 
PageMetasEntityff 
GetPageMetasByIdff /
(ff0 1
uintff1 5

pageMetaIdff6 @
)ff@ A
{gg 	
PageMetasEntityhh 
objPageMetashh (
=hh) *
nullhh+ /
;hh/ 0
tryii 
{jj 
usingkk 
(kk 
IDbConnectionkk $

connectionkk% /
=kk0 1
DatabaseHelperkk2 @
.kk@ A
GetMasterConnectionkkA T
(kkT U
)kkU V
)kkV W
{ll 

connectionmm 
.mm 
Openmm #
(mm# $
)mm$ %
;mm% &
varoo 
paramoo 
=oo 
newoo  #
DynamicParametersoo$ 5
(oo5 6
)oo6 7
;oo7 8
parampp 
.pp 
Addpp 
(pp 
$strpp &
,pp& '

pageMetaIdpp( 2
)pp2 3
;pp3 4
objPageMetasrr  
=rr! "

connectionrr# -
.rr- .
Queryrr. 3
<rr3 4
PageMetasEntityrr4 C
>rrC D
(rrD E
$strrrE W
,rrW X
paramrrY ^
:rr^ _
paramrr` e
,rre f
commandTyperrg r
:rrr s
CommandTyperrt 
.	rr Ä
StoredProcedure
rrÄ è
)
rrè ê
.
rrê ë
FirstOrDefault
rrë ü
(
rrü †
)
rr† °
;
rr° ¢
}ss 
}tt 
catchuu 
(uu 
	Exceptionuu 
exuu 
)uu  
{vv 

ErrorClassww 
objErrww !
=ww" #
newww$ '

ErrorClassww( 2
(ww2 3
exww3 5
,ww5 6
stringww7 =
.ww= >
Formatww> D
(wwD E
$strwwE k
)wwk l
)wwl m
;wwm n
}xx 
returnyy 
objPageMetasyy 
;yy  
}zz 	
public|| 
bool||  
UpdatePageMetaStatus|| (
(||( )
uint||) -
id||. 0
,||0 1
ushort||2 8
status||9 ?
)||? @
{}} 	
bool~~ 
result~~ 
=~~ 
false~~ 
;~~  
try 
{
ÄÄ 
using
ÅÅ 
(
ÅÅ 
IDbConnection
ÅÅ $

connection
ÅÅ% /
=
ÅÅ0 1
DatabaseHelper
ÅÅ2 @
.
ÅÅ@ A!
GetMasterConnection
ÅÅA T
(
ÅÅT U
)
ÅÅU V
)
ÅÅV W
{
ÇÇ 

connection
ÉÉ 
.
ÉÉ 
Open
ÉÉ #
(
ÉÉ# $
)
ÉÉ$ %
;
ÉÉ% &
var
ÑÑ 
param
ÑÑ 
=
ÑÑ 
new
ÑÑ  #
DynamicParameters
ÑÑ$ 5
(
ÑÑ5 6
)
ÑÑ6 7
;
ÑÑ7 8
param
ÖÖ 
.
ÖÖ 
Add
ÖÖ 
(
ÖÖ 
$str
ÖÖ &
,
ÖÖ& '
id
ÖÖ( *
)
ÖÖ* +
;
ÖÖ+ ,
param
ÜÜ 
.
ÜÜ 
Add
ÜÜ 
(
ÜÜ 
$str
ÜÜ *
,
ÜÜ* +
status
ÜÜ, 2
)
ÜÜ2 3
;
ÜÜ3 4

connection
àà 
.
àà 
Execute
àà &
(
àà& '
$str
àà' :
,
àà: ;
param
àà< A
:
ààA B
param
ààC H
,
ààH I
commandType
ààJ U
:
ààU V
CommandType
ààW b
.
ààb c
StoredProcedure
ààc r
)
ààr s
;
ààs t
result
ââ 
=
ââ 
true
ââ !
;
ââ! "
}
ää 
}
ãã 
catch
åå 
(
åå 
	Exception
åå 
ex
åå 
)
åå  
{
çç 

ErrorClass
éé 
objErr
éé !
=
éé" #
new
éé$ '

ErrorClass
éé( 2
(
éé2 3
ex
éé3 5
,
éé5 6
string
éé7 =
.
éé= >
Format
éé> D
(
ééD E
$str
ééE w
,
ééw x
id
ééy {
)
éé{ |
)
éé| }
;
éé} ~
}
èè 
return
êê 
result
êê 
;
êê 
}
ëë 	
}
íí 
}ìì ˙Ω
QD:\work\bikewaleweb\BikewaleOpr.DALs\ContractCampaign\DealerCampaignRepository.cs
	namespace 	
BikewaleOpr
 
. 
DALs 
. 
ContractCampaign +
{ 
public 

class $
DealerCampaignRepository )
:* +%
IDealerCampaignRepository, E
{ 
public  
DealerCampaignEntity #!
FetchBWDealerCampaign$ 9
(9 :
uint: >

campaignId? I
)I J
{ 	 
DealerCampaignEntity    
dealerCampaign  ! /
=  0 1
null  2 6
;  6 7
try!! 
{"" 
using## 
(## 
	DbCommand##  
cmd##! $
=##% &
	DbFactory##' 0
.##0 1
GetDBCommand##1 =
(##= >
$str##> a
)##a b
)##b c
{$$ 
cmd&& 
.&& 
CommandType&& #
=&&$ %
CommandType&&& 1
.&&1 2
StoredProcedure&&2 A
;&&A B
cmd'' 
.'' 

Parameters'' "
.''" #
Add''# &
(''& '
	DbFactory''' 0
.''0 1

GetDbParam''1 ;
(''; <
$str''< L
,''L M
DbType''N T
.''T U
Int32''U Z
,''Z [

campaignId''\ f
)''f g
)''g h
;''h i
using** 
(** 
IDataReader** &
dr**' )
=*** +
MySqlDatabase**, 9
.**9 :
SelectQuery**: E
(**E F
cmd**F I
,**I J
ConnectionType**K Y
.**Y Z
MasterDatabase**Z h
)**h i
)**i j
{++ 
if,, 
(,, 
dr,, 
!=,, !
null,," &
),,& '
{-- 
if.. 
(..  
dr..  "
..." #
Read..# '
(..' (
)..( )
)..) *
{// 
dealerCampaign00  .
=00/ 0
new001 4 
DealerCampaignEntity005 I
(00I J
)00J K
;00K L
dealerCampaign11  .
.11. /

CampaignId11/ 9
=11: ;
SqlReaderConvertor11< N
.11N O
ToInt3211O V
(11V W
dr11W Y
[11Y Z
$str11Z f
]11f g
)11g h
;11h i
dealerCampaign22  .
.22. /
CampaignName22/ ;
=22< =
Convert22> E
.22E F
ToString22F N
(22N O
dr22O Q
[22Q R
$str22R ^
]22^ _
)22_ `
;22` a
dealerCampaign33  .
.33. /
EmailId33/ 6
=337 8
Convert339 @
.33@ A
ToString33A I
(33I J
dr33J L
[33L M
$str33M \
]33\ ]
)33] ^
;33^ _
dealerCampaign44  .
.44. /
MaskingNumber44/ <
=44= >
Convert44? F
.44F G
ToString44G O
(44O P
dr44P R
[44R S
$str44S [
]44[ \
)44\ ]
;44] ^
dealerCampaign55  .
.55. /
ServingRadius55/ <
=55= >
SqlReaderConvertor55? Q
.55Q R
ToInt3255R Y
(55Y Z
dr55Z \
[55\ ]
$str55] v
]55v w
)55w x
;55x y
dealerCampaign66  .
.66. /
DailyLeadLimit66/ =
=66> ?
SqlReaderConvertor66@ R
.66R S
ToUInt3266S [
(66[ \
dr66\ ^
[66^ _
$str66_ o
]66o p
)66p q
;66q r
dealerCampaign77  .
.77. /
CallToAction77/ ;
=77< =
SqlReaderConvertor77> P
.77P Q
ToUInt1677Q Y
(77Y Z
dr77Z \
[77\ ]
$str77] k
]77k l
)77l m
;77m n
dealerCampaign88  .
.88. /
DealerMobile88/ ;
=88< =
Convert88> E
.88E F
ToString88F N
(88N O
dr88O Q
[88Q R
$str88R `
]88` a
)88a b
;88b c
}99 
dr:: 
.:: 
Close:: $
(::$ %
)::% &
;::& '
};; 
}<< 
}== 
}>> 
catch?? 
(?? 
	Exception?? 
ex?? 
)??  
{@@ 

ErrorClassAA 
objErrAA !
=AA" #
newAA$ '

ErrorClassAA( 2
(AA2 3
exAA3 5
,AA5 6
StringAA7 =
.AA= >
FormatAA> D
(AAD E
$strAAE z
,AAz {

campaignId	AA| Ü
)
AAÜ á
)
AAá à
;
AAà â
}BB 
returnCC 
dealerCampaignCC !
;CC! "
}DD 	
publicKK 
ICollectionKK 
<KK "
CallToActionEntityBaseKK 1
>KK1 2$
FetchDealerCallToActionsKK3 K
(KKK L
)KKL M
{LL 	
ICollectionMM 
<MM "
CallToActionEntityBaseMM .
>MM. /
callToActionsMM0 =
=MM> ?
nullMM@ D
;MMD E
tryNN 
{OO 
usingPP 
(PP 
	DbCommandPP  
cmdPP! $
=PP% &
	DbFactoryPP' 0
.PP0 1
GetDBCommandPP1 =
(PP= >
$strPP> X
)PPX Y
)PPY Z
{QQ 
cmdSS 
.SS 
CommandTypeSS #
=SS$ %
CommandTypeSS& 1
.SS1 2
StoredProcedureSS2 A
;SSA B
usingTT 
(TT 
IDataReaderTT &
drTT' )
=TT* +
MySqlDatabaseTT, 9
.TT9 :
SelectQueryTT: E
(TTE F
cmdTTF I
,TTI J
ConnectionTypeTTK Y
.TTY Z
MasterDatabaseTTZ h
)TTh i
)TTi j
{UU 
ifVV 
(VV 
drVV 
!=VV !
nullVV" &
)VV& '
{WW 
callToActionsXX )
=XX* +
newXX, /
ListXX0 4
<XX4 5"
CallToActionEntityBaseXX5 K
>XXK L
(XXL M
)XXM N
;XXN O
whileYY !
(YY" #
drYY# %
.YY% &
ReadYY& *
(YY* +
)YY+ ,
)YY, -
{ZZ 
callToActions[[  -
.[[- .
Add[[. 1
([[1 2
new\\$ '"
CallToActionEntityBase\\( >
(\\> ?
)\\? @
{]]$ %
Id^^( *
=^^+ ,
SqlReaderConvertor^^- ?
.^^? @
ToUInt16^^@ H
(^^H I
dr^^I K
[^^K L
$str^^L P
]^^P Q
)^^Q R
,^^R S
DisplayTextSmall__( 8
=__9 :
Convert__; B
.__B C
ToString__C K
(__K L
dr__L N
[__N O
$str__O a
]__a b
)__b c
,__c d
DisplayTextLarge``( 8
=``9 :
Convert``; B
.``B C
ToString``C K
(``K L
dr``L N
[``N O
$str``O a
]``a b
)``b c
}aa$ %
)bb$ %
;bb% &
}cc 
drdd 
.dd 
Closedd $
(dd$ %
)dd% &
;dd& '
}ee 
}ff 
}gg 
}hh 
catchii 
(ii 
	Exceptionii 
exii 
)ii  
{jj 

ErrorClasskk 
objErrkk !
=kk" #
newkk$ '

ErrorClasskk( 2
(kk2 3
exkk3 5
,kk5 6
$strkk7 l
)kkl m
;kkm n
}ll 
returnmm 
callToActionsmm  
;mm  !
}nn 	
public
ÉÉ 
bool
ÉÉ $
UpdateBWDealerCampaign
ÉÉ *
(
ÉÉ* +
bool
ÉÉ+ /
isActive
ÉÉ0 8
,
ÉÉ8 9
int
ÉÉ: =

campaignId
ÉÉ> H
,
ÉÉH I
int
ÉÉJ M
userId
ÉÉN T
,
ÉÉT U
int
ÉÉV Y
dealerId
ÉÉZ b
,
ÉÉb c
int
ÉÉd g

contractId
ÉÉh r
,
ÉÉr s
string
ÉÉt z
maskingNumberÉÉ{ à
,ÉÉà â
stringÉÉä ê

dealerNameÉÉë õ
,ÉÉõ ú
stringÉÉù £
dealerEmailIdÉÉ§ ±
,ÉÉ± ≤
intÉÉ≥ ∂
dailyleadlimitÉÉ∑ ≈
,ÉÉ≈ ∆
ushortÉÉ« Õ
callToActionÉÉŒ ⁄
,ÉÉ⁄ €
boolÉÉ‹ ‡"
isBookingAvailableÉÉ· Û
=ÉÉÙ ı
falseÉÉˆ ˚
)ÉÉ˚ ¸
{
ÑÑ 	
bool
ÖÖ 
	isSuccess
ÖÖ 
=
ÖÖ 
false
ÖÖ "
;
ÖÖ" #
try
áá 
{
àà 
using
ââ 
(
ââ 
	DbCommand
ââ  
cmd
ââ! $
=
ââ% &
	DbFactory
ââ' 0
.
ââ0 1
GetDBCommand
ââ1 =
(
ââ= >
$str
ââ> ]
)
ââ] ^
)
ââ^ _
{
ää 
cmd
åå 
.
åå 
CommandType
åå #
=
åå$ %
CommandType
åå& 1
.
åå1 2
StoredProcedure
åå2 A
;
ååA B
cmd
çç 
.
çç 

Parameters
çç "
.
çç" #
Add
çç# &
(
çç& '
	DbFactory
çç' 0
.
çç0 1

GetDbParam
çç1 ;
(
çç; <
$str
çç< L
,
ççL M
DbType
ççN T
.
ççT U
Int32
ççU Z
,
ççZ [

campaignId
çç\ f
)
ççf g
)
ççg h
;
ççh i
cmd
éé 
.
éé 

Parameters
éé "
.
éé" #
Add
éé# &
(
éé& '
	DbFactory
éé' 0
.
éé0 1

GetDbParam
éé1 ;
(
éé; <
$str
éé< L
,
ééL M
DbType
ééN T
.
ééT U
String
ééU [
,
éé[ \
$num
éé] `
,
éé` a

dealerName
ééb l
)
éél m
)
éém n
;
één o
cmd
èè 
.
èè 

Parameters
èè "
.
èè" #
Add
èè# &
(
èè& '
	DbFactory
èè' 0
.
èè0 1

GetDbParam
èè1 ;
(
èè; <
$str
èè< G
,
èèG H
DbType
èèI O
.
èèO P
String
èèP V
,
èèV W
$num
èèX Z
,
èèZ [
maskingNumber
èè\ i
)
èèi j
)
èèj k
;
èèk l
cmd
êê 
.
êê 

Parameters
êê "
.
êê" #
Add
êê# &
(
êê& '
	DbFactory
êê' 0
.
êê0 1

GetDbParam
êê1 ;
(
êê; <
$str
êê< M
,
êêM N
DbType
êêO U
.
êêU V
String
êêV \
,
êê\ ]
$num
êê^ a
,
êêa b
dealerEmailId
êêc p
)
êêp q
)
êêq r
;
êêr s
cmd
ëë 
.
ëë 

Parameters
ëë "
.
ëë" #
Add
ëë# &
(
ëë& '
	DbFactory
ëë' 0
.
ëë0 1

GetDbParam
ëë1 ;
(
ëë; <
$str
ëë< P
,
ëëP Q
DbType
ëëR X
.
ëëX Y
Int32
ëëY ^
,
ëë^ _
dailyleadlimit
ëë` n
>
ëëo p
$num
ëëq r
?
ëës t
dailyleadlimitëëu É
:ëëÑ Ö
ConvertëëÜ ç
.ëëç é
DBNullëëé î
)ëëî ï
)ëëï ñ
;ëëñ ó
cmd
íí 
.
íí 

Parameters
íí "
.
íí" #
Add
íí# &
(
íí& '
	DbFactory
íí' 0
.
íí0 1

GetDbParam
íí1 ;
(
íí; <
$str
íí< T
,
ííT U
DbType
ííV \
.
íí\ ]
Boolean
íí] d
,
ííd e 
isBookingAvailable
ííf x
)
ííx y
)
ííy z
;
ííz {
cmd
ìì 
.
ìì 

Parameters
ìì "
.
ìì" #
Add
ìì# &
(
ìì& '
	DbFactory
ìì' 0
.
ìì0 1

GetDbParam
ìì1 ;
(
ìì; <
$str
ìì< J
,
ììJ K
DbType
ììL R
.
ììR S
Boolean
ììS Z
,
ììZ [
isActive
ìì\ d
)
ììd e
)
ììe f
;
ììf g
cmd
îî 
.
îî 

Parameters
îî "
.
îî" #
Add
îî# &
(
îî& '
	DbFactory
îî' 0
.
îî0 1

GetDbParam
îî1 ;
(
îî; <
$str
îî< K
,
îîK L
DbType
îîM S
.
îîS T
Int32
îîT Y
,
îîY Z
userId
îî[ a
)
îîa b
)
îîb c
;
îîc d
cmd
ïï 
.
ïï 

Parameters
ïï "
.
ïï" #
Add
ïï# &
(
ïï& '
	DbFactory
ïï' 0
.
ïï0 1

GetDbParam
ïï1 ;
(
ïï; <
$str
ïï< L
,
ïïL M
DbType
ïïN T
.
ïïT U
Int32
ïïU Z
,
ïïZ [

contractId
ïï\ f
)
ïïf g
)
ïïg h
;
ïïh i
cmd
ññ 
.
ññ 

Parameters
ññ "
.
ññ" #
Add
ññ# &
(
ññ& '
	DbFactory
ññ' 0
.
ññ0 1

GetDbParam
ññ1 ;
(
ññ; <
$str
ññ< N
,
ññN O
DbType
ññP V
.
ññV W
Int16
ññW \
,
ññ\ ]
callToAction
ññ^ j
)
ññj k
)
ññk l
;
ññl m
	isSuccess
óó 
=
óó 
MySqlDatabase
óó  -
.
óó- .
UpdateQuery
óó. 9
(
óó9 :
cmd
óó: =
,
óó= >
ConnectionType
óó? M
.
óóM N
MasterDatabase
óóN \
)
óó\ ]
;
óó] ^
}
òò 
}
ôô 
catch
öö 
(
öö 
	Exception
öö 
ex
öö 
)
öö  
{
õõ 

ErrorClass
úú 
objErr
úú !
=
úú" #
new
úú$ '

ErrorClass
úú( 2
(
úú2 3
ex
úú3 5
,
úú5 6
$str
úú7 h
)
úúh i
;
úúi j
objErr
ùù 
.
ùù 
SendMail
ùù 
(
ùù  
)
ùù  !
;
ùù! "
}
ûû 
return
†† 
	isSuccess
†† 
;
†† 
}
°° 	
public
µµ 
int
µµ $
InsertBWDealerCampaign
µµ )
(
µµ) *
bool
µµ* .
isActive
µµ/ 7
,
µµ7 8
int
µµ9 <
userId
µµ= C
,
µµC D
int
µµE H
dealerId
µµI Q
,
µµQ R
int
µµS V

contractId
µµW a
,
µµa b
string
µµc i
maskingNumber
µµj w
,
µµw x
string
µµy 

dealerNameµµÄ ä
,µµä ã
stringµµå í
dealerEmailIdµµì †
,µµ† °
intµµ¢ •
dailyleadlimitµµ¶ ¥
,µµ¥ µ
ushortµµ∂ º
callToActionµµΩ …
,µµ…  
boolµµÀ œ"
isBookingAvailableµµ– ‚
=µµ„ ‰
falseµµÂ Í
)µµÍ Î
{
∂∂ 	
int
∑∑ 
newCampaignId
∑∑ 
=
∑∑ 
$num
∑∑  !
;
∑∑! "
try
∏∏ 
{
ππ 
using
∫∫ 
(
∫∫ 
	DbCommand
∫∫  
cmd
∫∫! $
=
∫∫% &
	DbFactory
∫∫' 0
.
∫∫0 1
GetDBCommand
∫∫1 =
(
∫∫= >
$str
∫∫> ]
)
∫∫] ^
)
∫∫^ _
{
ªª 
cmd
ºº 
.
ºº 
CommandType
ºº #
=
ºº$ %
CommandType
ºº& 1
.
ºº1 2
StoredProcedure
ºº2 A
;
ººA B
cmd
ΩΩ 
.
ΩΩ 

Parameters
ΩΩ "
.
ΩΩ" #
Add
ΩΩ# &
(
ΩΩ& '
	DbFactory
ΩΩ' 0
.
ΩΩ0 1

GetDbParam
ΩΩ1 ;
(
ΩΩ; <
$str
ΩΩ< L
,
ΩΩL M
DbType
ΩΩN T
.
ΩΩT U
String
ΩΩU [
,
ΩΩ[ \
$num
ΩΩ] `
,
ΩΩ` a

dealerName
ΩΩb l
)
ΩΩl m
)
ΩΩm n
;
ΩΩn o
cmd
ææ 
.
ææ 

Parameters
ææ "
.
ææ" #
Add
ææ# &
(
ææ& '
	DbFactory
ææ' 0
.
ææ0 1

GetDbParam
ææ1 ;
(
ææ; <
$str
ææ< G
,
ææG H
DbType
ææI O
.
ææO P
String
ææP V
,
ææV W
$num
ææX Z
,
ææZ [
maskingNumber
ææ\ i
)
ææi j
)
ææj k
;
ææk l
cmd
øø 
.
øø 

Parameters
øø "
.
øø" #
Add
øø# &
(
øø& '
	DbFactory
øø' 0
.
øø0 1

GetDbParam
øø1 ;
(
øø; <
$str
øø< M
,
øøM N
DbType
øøO U
.
øøU V
String
øøV \
,
øø\ ]
$num
øø^ a
,
øøa b
dealerEmailId
øøc p
)
øøp q
)
øøq r
;
øør s
cmd
¿¿ 
.
¿¿ 

Parameters
¿¿ "
.
¿¿" #
Add
¿¿# &
(
¿¿& '
	DbFactory
¿¿' 0
.
¿¿0 1

GetDbParam
¿¿1 ;
(
¿¿; <
$str
¿¿< K
,
¿¿K L
DbType
¿¿M S
.
¿¿S T
Int32
¿¿T Y
,
¿¿Y Z
userId
¿¿[ a
)
¿¿a b
)
¿¿b c
;
¿¿c d
cmd
¡¡ 
.
¡¡ 

Parameters
¡¡ "
.
¡¡" #
Add
¡¡# &
(
¡¡& '
	DbFactory
¡¡' 0
.
¡¡0 1

GetDbParam
¡¡1 ;
(
¡¡; <
$str
¡¡< J
,
¡¡J K
DbType
¡¡L R
.
¡¡R S
Boolean
¡¡S Z
,
¡¡Z [
isActive
¡¡\ d
)
¡¡d e
)
¡¡e f
;
¡¡f g
cmd
¬¬ 
.
¬¬ 

Parameters
¬¬ "
.
¬¬" #
Add
¬¬# &
(
¬¬& '
	DbFactory
¬¬' 0
.
¬¬0 1

GetDbParam
¬¬1 ;
(
¬¬; <
$str
¬¬< L
,
¬¬L M
DbType
¬¬N T
.
¬¬T U
Int32
¬¬U Z
,
¬¬Z [

contractId
¬¬\ f
)
¬¬f g
)
¬¬g h
;
¬¬h i
cmd
√√ 
.
√√ 

Parameters
√√ "
.
√√" #
Add
√√# &
(
√√& '
	DbFactory
√√' 0
.
√√0 1

GetDbParam
√√1 ;
(
√√; <
$str
√√< P
,
√√P Q
DbType
√√R X
.
√√X Y
Int32
√√Y ^
,
√√^ _
dailyleadlimit
√√` n
>
√√o p
$num
√√q r
?
√√s t
dailyleadlimit√√u É
:√√Ñ Ö
Convert√√Ü ç
.√√ç é
DBNull√√é î
)√√î ï
)√√ï ñ
;√√ñ ó
cmd
ƒƒ 
.
ƒƒ 

Parameters
ƒƒ "
.
ƒƒ" #
Add
ƒƒ# &
(
ƒƒ& '
	DbFactory
ƒƒ' 0
.
ƒƒ0 1

GetDbParam
ƒƒ1 ;
(
ƒƒ; <
$str
ƒƒ< T
,
ƒƒT U
DbType
ƒƒV \
.
ƒƒ\ ]
Boolean
ƒƒ] d
,
ƒƒd e 
isBookingAvailable
ƒƒf x
)
ƒƒx y
)
ƒƒy z
;
ƒƒz {
cmd
≈≈ 
.
≈≈ 

Parameters
≈≈ "
.
≈≈" #
Add
≈≈# &
(
≈≈& '
	DbFactory
≈≈' 0
.
≈≈0 1

GetDbParam
≈≈1 ;
(
≈≈; <
$str
≈≈< J
,
≈≈J K
DbType
≈≈L R
.
≈≈R S
Int32
≈≈S X
,
≈≈X Y
dealerId
≈≈Z b
)
≈≈b c
)
≈≈c d
;
≈≈d e
cmd
∆∆ 
.
∆∆ 

Parameters
∆∆ "
.
∆∆" #
Add
∆∆# &
(
∆∆& '
	DbFactory
∆∆' 0
.
∆∆0 1

GetDbParam
∆∆1 ;
(
∆∆; <
$str
∆∆< N
,
∆∆N O
DbType
∆∆P V
.
∆∆V W
Int16
∆∆W \
,
∆∆\ ]
callToAction
∆∆^ j
)
∆∆j k
)
∆∆k l
;
∆∆l m
cmd
«« 
.
«« 

Parameters
«« "
.
««" #
Add
««# &
(
««& '
	DbFactory
««' 0
.
««0 1

GetDbParam
««1 ;
(
««; <
$str
««< O
,
««O P
DbType
««Q W
.
««W X
Int32
««X ]
,
««] ^ 
ParameterDirection
««_ q
.
««q r
Output
««r x
)
««x y
)
««y z
;
««z {
MySqlDatabase
»» !
.
»»! "
ExecuteNonQuery
»»" 1
(
»»1 2
cmd
»»2 5
,
»»5 6
ConnectionType
»»7 E
.
»»E F
MasterDatabase
»»F T
)
»»T U
;
»»U V
newCampaignId
…… !
=
……" # 
SqlReaderConvertor
……$ 6
.
……6 7
ToInt32
……7 >
(
……> ?
cmd
……? B
.
……B C

Parameters
……C M
[
……M N
$str
……N a
]
……a b
.
……b c
Value
……c h
)
……h i
;
……i j
}
ÀÀ 
}
ÃÃ 
catch
ÕÕ 
(
ÕÕ 
	Exception
ÕÕ 
ex
ÕÕ 
)
ÕÕ  
{
ŒŒ 

ErrorClass
œœ 
objErr
œœ !
=
œœ" #
new
œœ$ '

ErrorClass
œœ( 2
(
œœ2 3
ex
œœ3 5
,
œœ5 6
$str
œœ7 h
)
œœh i
;
œœi j
objErr
–– 
.
–– 
SendMail
–– 
(
––  
)
––  !
;
––! "
}
—— 
return
”” 
newCampaignId
””  
;
””  !
}
‘‘ 	
public
‹‹ 
ICollection
‹‹ 
<
‹‹  
BikeMakeEntityBase
‹‹ -
>
‹‹- .
MakesByDealerCity
‹‹/ @
(
‹‹@ A
uint
‹‹A E
cityId
‹‹F L
)
‹‹L M
{
›› 	
ICollection
ﬁﬁ 
<
ﬁﬁ  
BikeMakeEntityBase
ﬁﬁ *
>
ﬁﬁ* +
callToActions
ﬁﬁ, 9
=
ﬁﬁ: ;
null
ﬁﬁ< @
;
ﬁﬁ@ A
try
ﬂﬂ 
{
‡‡ 
using
·· 
(
·· 
	DbCommand
··  
cmd
··! $
=
··% &
	DbFactory
··' 0
.
··0 1
GetDBCommand
··1 =
(
··= >
$str
··> X
)
··X Y
)
··Y Z
{
‚‚ 
cmd
‰‰ 
.
‰‰ 
CommandType
‰‰ #
=
‰‰$ %
CommandType
‰‰& 1
.
‰‰1 2
StoredProcedure
‰‰2 A
;
‰‰A B
cmd
ÂÂ 
.
ÂÂ 

Parameters
ÂÂ "
.
ÂÂ" #
Add
ÂÂ# &
(
ÂÂ& '
	DbFactory
ÂÂ' 0
.
ÂÂ0 1

GetDbParam
ÂÂ1 ;
(
ÂÂ; <
$str
ÂÂ< H
,
ÂÂH I
DbType
ÂÂJ P
.
ÂÂP Q
Int32
ÂÂQ V
,
ÂÂV W
cityId
ÂÂX ^
)
ÂÂ^ _
)
ÂÂ_ `
;
ÂÂ` a
using
ÊÊ 
(
ÊÊ 
IDataReader
ÊÊ &
dr
ÊÊ' )
=
ÊÊ* +
MySqlDatabase
ÊÊ, 9
.
ÊÊ9 :
SelectQuery
ÊÊ: E
(
ÊÊE F
cmd
ÊÊF I
,
ÊÊI J
ConnectionType
ÊÊK Y
.
ÊÊY Z
MasterDatabase
ÊÊZ h
)
ÊÊh i
)
ÊÊi j
{
ÁÁ 
if
ËË 
(
ËË 
dr
ËË 
!=
ËË !
null
ËË" &
)
ËË& '
{
ÈÈ 
callToActions
ÍÍ )
=
ÍÍ* +
new
ÍÍ, /
List
ÍÍ0 4
<
ÍÍ4 5 
BikeMakeEntityBase
ÍÍ5 G
>
ÍÍG H
(
ÍÍH I
)
ÍÍI J
;
ÍÍJ K
while
ÎÎ !
(
ÎÎ" #
dr
ÎÎ# %
.
ÎÎ% &
Read
ÎÎ& *
(
ÎÎ* +
)
ÎÎ+ ,
)
ÎÎ, -
{
ÏÏ 
callToActions
ÌÌ  -
.
ÌÌ- .
Add
ÌÌ. 1
(
ÌÌ1 2
new
ÓÓ$ ' 
BikeMakeEntityBase
ÓÓ( :
(
ÓÓ: ;
)
ÓÓ; <
{
ÔÔ$ %
MakeId
( .
=
/ 0 
SqlReaderConvertor
1 C
.
C D
ToUInt16
D L
(
L M
dr
M O
[
O P
$str
P T
]
T U
)
U V
,
V W
MakeName
ÒÒ( 0
=
ÒÒ1 2
Convert
ÒÒ3 :
.
ÒÒ: ;
ToString
ÒÒ; C
(
ÒÒC D
dr
ÒÒD F
[
ÒÒF G
$str
ÒÒG M
]
ÒÒM N
)
ÒÒN O
}
ÚÚ$ %
)
ÛÛ$ %
;
ÛÛ% &
}
ÙÙ 
dr
ıı 
.
ıı 
Close
ıı $
(
ıı$ %
)
ıı% &
;
ıı& '
}
ˆˆ 
}
˜˜ 
}
¯¯ 
}
˘˘ 
catch
˙˙ 
(
˙˙ 
	Exception
˙˙ 
ex
˙˙ 
)
˙˙  
{
˚˚ 

ErrorClass
¸¸ 
objErr
¸¸ !
=
¸¸" #
new
¸¸$ '

ErrorClass
¸¸( 2
(
¸¸2 3
ex
¸¸3 5
,
¸¸5 6
String
¸¸7 =
.
¸¸= >
Format
¸¸> D
(
¸¸D E
$str
¸¸E v
,
¸¸v w
cityId
¸¸x ~
)
¸¸~ 
)¸¸ Ä
;¸¸Ä Å
}
˝˝ 
return
˛˛ 
callToActions
˛˛  
;
˛˛  !
}
ˇˇ 	
public
ââ 
ICollection
ââ 
<
ââ 
DealerEntityBase
ââ +
>
ââ+ ,
DealersByMakeCity
ââ- >
(
ââ> ?
uint
ââ? C
cityId
ââD J
,
ââJ K
uint
ââL P
makeId
ââQ W
,
ââW X
bool
ââY ]
activecontract
ââ^ l
)
ââl m
{
ää 	
ICollection
ãã 
<
ãã 
DealerEntityBase
ãã (
>
ãã( )
callToActions
ãã* 7
=
ãã8 9
null
ãã: >
;
ãã> ?
try
åå 
{
çç 
using
éé 
(
éé 
	DbCommand
éé  
cmd
éé! $
=
éé% &
	DbFactory
éé' 0
.
éé0 1
GetDBCommand
éé1 =
(
éé= >
$str
éé> W
)
ééW X
)
ééX Y
{
èè 
cmd
êê 
.
êê 

Parameters
êê "
.
êê" #
Add
êê# &
(
êê& '
	DbFactory
êê' 0
.
êê0 1

GetDbParam
êê1 ;
(
êê; <
$str
êê< H
,
êêH I
DbType
êêJ P
.
êêP Q
Int32
êêQ V
,
êêV W
cityId
êêX ^
)
êê^ _
)
êê_ `
;
êê` a
cmd
ëë 
.
ëë 

Parameters
ëë "
.
ëë" #
Add
ëë# &
(
ëë& '
	DbFactory
ëë' 0
.
ëë0 1

GetDbParam
ëë1 ;
(
ëë; <
$str
ëë< H
,
ëëH I
DbType
ëëJ P
.
ëëP Q
Int32
ëëQ V
,
ëëV W
makeId
ëëX ^
)
ëë^ _
)
ëë_ `
;
ëë` a
cmd
íí 
.
íí 

Parameters
íí "
.
íí" #
Add
íí# &
(
íí& '
	DbFactory
íí' 0
.
íí0 1

GetDbParam
íí1 ;
(
íí; <
$str
íí< P
,
ííP Q
DbType
ííR X
.
ííX Y
Int16
ííY ^
,
íí^ _
activecontract
íí` n
?
íío p
$num
ííq r
:
íís t
$num
ííu v
)
íív w
)
ííw x
;
ííx y
cmd
ìì 
.
ìì 
CommandType
ìì #
=
ìì$ %
CommandType
ìì& 1
.
ìì1 2
StoredProcedure
ìì2 A
;
ììA B
using
îî 
(
îî 
IDataReader
îî &
dr
îî' )
=
îî* +
MySqlDatabase
îî, 9
.
îî9 :
SelectQuery
îî: E
(
îîE F
cmd
îîF I
,
îîI J
ConnectionType
îîK Y
.
îîY Z
MasterDatabase
îîZ h
)
îîh i
)
îîi j
{
ïï 
if
ññ 
(
ññ 
dr
ññ 
!=
ññ !
null
ññ" &
)
ññ& '
{
óó 
callToActions
òò )
=
òò* +
new
òò, /
List
òò0 4
<
òò4 5
DealerEntityBase
òò5 E
>
òòE F
(
òòF G
)
òòG H
;
òòH I
while
ôô !
(
ôô" #
dr
ôô# %
.
ôô% &
Read
ôô& *
(
ôô* +
)
ôô+ ,
)
ôô, -
{
öö 
callToActions
õõ  -
.
õõ- .
Add
õõ. 1
(
õõ1 2
new
úú$ '
DealerEntityBase
úú( 8
(
úú8 9
)
úú9 :
{
ùù$ %
Id
ûû( *
=
ûû+ , 
SqlReaderConvertor
ûû- ?
.
ûû? @
ToUInt16
ûû@ H
(
ûûH I
dr
ûûI K
[
ûûK L
$str
ûûL V
]
ûûV W
)
ûûW X
,
ûûX Y
Name
üü( ,
=
üü- .
Convert
üü/ 6
.
üü6 7
ToString
üü7 ?
(
üü? @
dr
üü@ B
[
üüB C
$str
üüC Q
]
üüQ R
)
üüR S
}
††$ %
)
°°$ %
;
°°% &
}
¢¢ 
dr
££ 
.
££ 
Close
££ $
(
££$ %
)
££% &
;
££& '
}
§§ 
}
•• 
}
¶¶ 
}
ßß 
catch
®® 
(
®® 
	Exception
®® 
ex
®® 
)
®®  
{
©© 

ErrorClass
™™ 
objErr
™™ !
=
™™" #
new
™™$ '

ErrorClass
™™( 2
(
™™2 3
ex
™™3 5
,
™™5 6
String
™™7 =
.
™™= >
Format
™™> D
(
™™D E
$str
™™E ~
,
™™~ 
cityId™™Ä Ü
,™™Ü á
makeId™™à é
,™™é è
activecontract™™ê û
)™™û ü
)™™ü †
;™™† °
}
´´ 
return
¨¨ 
callToActions
¨¨  
;
¨¨  !
}
≠≠ 	
public
∏∏ 
ICollection
∏∏ 
<
∏∏ )
DealerCampaignDetailsEntity
∏∏ 6
>
∏∏6 7
DealerCampaigns
∏∏8 G
(
∏∏G H
uint
∏∏H L
dealerId
∏∏M U
,
∏∏U V
uint
∏∏W [
cityId
∏∏\ b
,
∏∏b c
uint
∏∏d h
makeId
∏∏i o
,
∏∏o p
bool
∏∏q u
activecontract∏∏v Ñ
)∏∏Ñ Ö
{
ππ 	
ICollection
∫∫ 
<
∫∫ )
DealerCampaignDetailsEntity
∫∫ 3
>
∫∫3 4
callToActions
∫∫5 B
=
∫∫C D
null
∫∫E I
;
∫∫I J
try
ªª 
{
ºº 
using
ΩΩ 
(
ΩΩ 
	DbCommand
ΩΩ  
cmd
ΩΩ! $
=
ΩΩ% &
	DbFactory
ΩΩ' 0
.
ΩΩ0 1
GetDBCommand
ΩΩ1 =
(
ΩΩ= >
$str
ΩΩ> _
)
ΩΩ_ `
)
ΩΩ` a
{
ææ 
cmd
øø 
.
øø 

Parameters
øø "
.
øø" #
Add
øø# &
(
øø& '
	DbFactory
øø' 0
.
øø0 1

GetDbParam
øø1 ;
(
øø; <
$str
øø< J
,
øøJ K
DbType
øøL R
.
øøR S
Int32
øøS X
,
øøX Y
dealerId
øøZ b
>
øøc d
$num
øøe f
?
øøg h
dealerId
øøi q
:
øør s
Convert
øøt {
.
øø{ |
DBNulløø| Ç
)øøÇ É
)øøÉ Ñ
;øøÑ Ö
cmd
¿¿ 
.
¿¿ 

Parameters
¿¿ "
.
¿¿" #
Add
¿¿# &
(
¿¿& '
	DbFactory
¿¿' 0
.
¿¿0 1

GetDbParam
¿¿1 ;
(
¿¿; <
$str
¿¿< H
,
¿¿H I
DbType
¿¿J P
.
¿¿P Q
Int32
¿¿Q V
,
¿¿V W
cityId
¿¿X ^
>
¿¿_ `
$num
¿¿a b
?
¿¿c d
cityId
¿¿e k
:
¿¿l m
Convert
¿¿n u
.
¿¿u v
DBNull
¿¿v |
)
¿¿| }
)
¿¿} ~
;
¿¿~ 
cmd
¡¡ 
.
¡¡ 

Parameters
¡¡ "
.
¡¡" #
Add
¡¡# &
(
¡¡& '
	DbFactory
¡¡' 0
.
¡¡0 1

GetDbParam
¡¡1 ;
(
¡¡; <
$str
¡¡< H
,
¡¡H I
DbType
¡¡J P
.
¡¡P Q
Int32
¡¡Q V
,
¡¡V W
makeId
¡¡X ^
>
¡¡_ `
$num
¡¡a b
?
¡¡c d
makeId
¡¡e k
:
¡¡l m
Convert
¡¡n u
.
¡¡u v
DBNull
¡¡v |
)
¡¡| }
)
¡¡} ~
;
¡¡~ 
cmd
¬¬ 
.
¬¬ 

Parameters
¬¬ "
.
¬¬" #
Add
¬¬# &
(
¬¬& '
	DbFactory
¬¬' 0
.
¬¬0 1

GetDbParam
¬¬1 ;
(
¬¬; <
$str
¬¬< P
,
¬¬P Q
DbType
¬¬R X
.
¬¬X Y
Int16
¬¬Y ^
,
¬¬^ _
activecontract
¬¬` n
?
¬¬o p
$num
¬¬q r
:
¬¬s t
$num
¬¬u v
)
¬¬v w
)
¬¬w x
;
¬¬x y
cmd
√√ 
.
√√ 
CommandType
√√ #
=
√√$ %
CommandType
√√& 1
.
√√1 2
StoredProcedure
√√2 A
;
√√A B
using
ƒƒ 
(
ƒƒ 
IDataReader
ƒƒ &
dr
ƒƒ' )
=
ƒƒ* +
MySqlDatabase
ƒƒ, 9
.
ƒƒ9 :
SelectQuery
ƒƒ: E
(
ƒƒE F
cmd
ƒƒF I
,
ƒƒI J
ConnectionType
ƒƒK Y
.
ƒƒY Z
MasterDatabase
ƒƒZ h
)
ƒƒh i
)
ƒƒi j
{
≈≈ 
if
∆∆ 
(
∆∆ 
dr
∆∆ 
!=
∆∆ !
null
∆∆" &
)
∆∆& '
{
«« 
callToActions
»» )
=
»»* +
new
»», /
List
»»0 4
<
»»4 5)
DealerCampaignDetailsEntity
»»5 P
>
»»P Q
(
»»Q R
)
»»R S
;
»»S T
while
…… !
(
……" #
dr
……# %
.
……% &
Read
……& *
(
……* +
)
……+ ,
)
……, -
{
   
callToActions
ÀÀ  -
.
ÀÀ- .
Add
ÀÀ. 1
(
ÀÀ1 2
new
ÃÃ$ ')
DealerCampaignDetailsEntity
ÃÃ( C
(
ÃÃC D
)
ÃÃD E
{
ÕÕ$ %

CampaignId
ŒŒ( 2
=
ŒŒ3 4 
SqlReaderConvertor
ŒŒ5 G
.
ŒŒG H
ToUInt16
ŒŒH P
(
ŒŒP Q
dr
ŒŒQ S
[
ŒŒS T
$str
ŒŒT `
]
ŒŒ` a
)
ŒŒa b
,
ŒŒb c
CampaignName
œœ( 4
=
œœ5 6
Convert
œœ7 >
.
œœ> ?
ToString
œœ? G
(
œœG H
dr
œœH J
[
œœJ K
$str
œœK Y
]
œœY Z
)
œœZ [
,
œœ[ \
MaskingNumber
––( 5
=
––6 7
Convert
––8 ?
.
––? @
ToString
––@ H
(
––H I
dr
––I K
[
––K L
$str
––L [
]
––[ \
)
––\ ]
,
––] ^
EmailId
——( /
=
——0 1
Convert
——2 9
.
——9 :
ToString
——: B
(
——B C
dr
——C E
[
——E F
$str
——F W
]
——W X
)
——X Y
,
——Y Z
ServingRadius
““( 5
=
““6 7 
SqlReaderConvertor
““8 J
.
““J K
ToInt32
““K R
(
““R S
dr
““S U
[
““U V
$str
““V q
]
““q r
)
““r s
,
““s t

ContractID
””( 2
=
””3 4 
SqlReaderConvertor
””5 G
.
””G H
ToUInt32
””H P
(
””P Q
dr
””Q S
[
””S T
$str
””T `
]
””` a
)
””a b
,
””b c
DealerId
‘‘( 0
=
‘‘1 2 
SqlReaderConvertor
‘‘3 E
.
‘‘E F
ToUInt32
‘‘F N
(
‘‘N O
dr
‘‘O Q
[
‘‘Q R
$str
‘‘R \
]
‘‘\ ]
)
‘‘] ^
,
‘‘^ _
PackageName
’’( 3
=
’’4 5
Convert
’’6 =
.
’’= >
ToString
’’> F
(
’’F G
dr
’’G I
[
’’I J
$str
’’J W
]
’’W X
)
’’X Y
,
’’Y Z
ContractStartDate
÷÷( 9
=
÷÷: ; 
SqlReaderConvertor
÷÷< N
.
÷÷N O

ToDateTime
÷÷O Y
(
÷÷Y Z
dr
÷÷Z \
[
÷÷\ ]
$str
÷÷] h
]
÷÷h i
)
÷÷i j
,
÷÷j k
ContractEndDate
◊◊( 7
=
◊◊8 9 
SqlReaderConvertor
◊◊: L
.
◊◊L M

ToDateTime
◊◊M W
(
◊◊W X
dr
◊◊X Z
[
◊◊Z [
$str
◊◊[ d
]
◊◊d e
)
◊◊e f
,
◊◊f g
ContractStatus
ÿÿ( 6
=
ÿÿ7 8 
SqlReaderConvertor
ÿÿ9 K
.
ÿÿK L
ToUInt32
ÿÿL T
(
ÿÿT U
dr
ÿÿU W
[
ÿÿW X
$str
ÿÿX h
]
ÿÿh i
)
ÿÿi j
,
ÿÿj k 
ContractStatusText
ŸŸ( :
=
ŸŸ; <
Convert
ŸŸ= D
.
ŸŸD E
ToString
ŸŸE M
(
ŸŸM N
dr
ŸŸN P
[
ŸŸP Q
$str
ŸŸQ Y
]
ŸŸY Z
)
ŸŸZ [
,
ŸŸ[ \
DailyLeadLimit
⁄⁄( 6
=
⁄⁄7 8 
SqlReaderConvertor
⁄⁄9 K
.
⁄⁄K L
ToUInt32
⁄⁄L T
(
⁄⁄T U
dr
⁄⁄U W
[
⁄⁄W X
$str
⁄⁄X h
]
⁄⁄h i
)
⁄⁄i j
,
⁄⁄j k

DailyLeads
€€( 2
=
€€3 4 
SqlReaderConvertor
€€5 G
.
€€G H
ToUInt32
€€H P
(
€€P Q
dr
€€Q S
[
€€S T
$str
€€T `
]
€€` a
)
€€a b
,
€€b c

RulesCount
‹‹( 2
=
‹‹3 4 
SqlReaderConvertor
‹‹5 G
.
‹‹G H
ToUInt32
‹‹H P
(
‹‹P Q
dr
‹‹Q S
[
‹‹S T
$str
‹‹T _
]
‹‹_ `
)
‹‹` a
,
‹‹a b#
CampaignServingStatus
››( =
=
››> ?
Convert
››@ G
.
››G H
ToString
››H P
(
››P Q
dr
››Q S
[
››S T
$str
››T k
]
››k l
)
››l m
,
››m n

DealerName
ﬁﬁ( 2
=
ﬁﬁ3 4
Convert
ﬁﬁ5 <
.
ﬁﬁ< =
ToString
ﬁﬁ= E
(
ﬁﬁE F
dr
ﬁﬁF H
[
ﬁﬁH I
$str
ﬁﬁI W
]
ﬁﬁW X
)
ﬁﬁX Y
}
ﬂﬂ$ %
)
‡‡$ %
;
‡‡% &
}
·· 
dr
‚‚ 
.
‚‚ 
Close
‚‚ $
(
‚‚$ %
)
‚‚% &
;
‚‚& '
}
„„ 
}
‰‰ 
}
ÂÂ 
}
ÊÊ 
catch
ÁÁ 
(
ÁÁ 
	Exception
ÁÁ 
ex
ÁÁ 
)
ÁÁ  
{
ËË 

ErrorClass
ÈÈ 
objErr
ÈÈ !
=
ÈÈ" #
new
ÈÈ$ '

ErrorClass
ÈÈ( 2
(
ÈÈ2 3
ex
ÈÈ3 5
,
ÈÈ5 6
String
ÈÈ7 =
.
ÈÈ= >
Format
ÈÈ> D
(
ÈÈD E
$str
ÈÈE x
,
ÈÈx y
dealerIdÈÈz Ç
,ÈÈÇ É
activecontractÈÈÑ í
)ÈÈí ì
)ÈÈì î
;ÈÈî ï
}
ÍÍ 
return
ÎÎ 
callToActions
ÎÎ  
;
ÎÎ  !
}
ÏÏ 	
public
ˆˆ  
DealerCampaignArea
ˆˆ !*
GetMappedDealerCampaignAreas
ˆˆ" >
(
ˆˆ> ?
uint
ˆˆ? C
dealerId
ˆˆD L
)
ˆˆL M
{
˜˜ 	 
DealerCampaignArea
¯¯ #
objDealerCampaignArea
¯¯ 4
=
¯¯5 6
null
¯¯7 ;
;
¯¯; <
try
˙˙ 
{
˚˚ 
using
¸¸ 
(
¸¸ 
IDbConnection
¸¸ $

connection
¸¸% /
=
¸¸0 1
DatabaseHelper
¸¸2 @
.
¸¸@ A!
GetMasterConnection
¸¸A T
(
¸¸T U
)
¸¸U V
)
¸¸V W
{
˝˝ 

connection
˛˛ 
.
˛˛ 
Open
˛˛ #
(
˛˛# $
)
˛˛$ %
;
˛˛% &
var
ÄÄ 
param
ÄÄ 
=
ÄÄ 
new
ÄÄ  #
DynamicParameters
ÄÄ$ 5
(
ÄÄ5 6
)
ÄÄ6 7
;
ÄÄ7 8
param
ÇÇ 
.
ÇÇ 
Add
ÇÇ 
(
ÇÇ 
$str
ÇÇ ,
,
ÇÇ, -
dealerId
ÇÇ. 6
)
ÇÇ6 7
;
ÇÇ7 8#
objDealerCampaignArea
ÑÑ )
=
ÑÑ* +
new
ÑÑ, / 
DealerCampaignArea
ÑÑ0 B
(
ÑÑB C
)
ÑÑC D
;
ÑÑD E
using
ÖÖ 
(
ÖÖ 
var
ÖÖ 
results
ÖÖ &
=
ÖÖ' (

connection
ÖÖ) 3
.
ÖÖ3 4
QueryMultiple
ÖÖ4 A
(
ÖÖA B
$str
ÖÖB `
,
ÖÖ` a
param
ÖÖb g
:
ÖÖg h
param
ÖÖi n
,
ÖÖn o
commandType
ÖÖp {
:
ÖÖ{ |
CommandTypeÖÖ} à
.ÖÖà â
StoredProcedureÖÖâ ò
)ÖÖò ô
)ÖÖô ö
{
ÜÜ #
objDealerCampaignArea
àà -
.
àà- .

DealerName
àà. 8
=
àà9 :
results
àà; B
.
ààB C
Read
ààC G
<
ààG H
string
ààH N
>
ààN O
(
ààO P
)
ààP Q
.
ààQ R
SingleOrDefault
ààR a
(
ààa b
)
ààb c
;
ààc d#
objDealerCampaignArea
ââ -
.
ââ- .
Areas
ââ. 3
=
ââ4 5
results
ââ6 =
.
ââ= >
Read
ââ> B
<
ââB C
CampaignAreas
ââC P
>
ââP Q
(
ââQ R
)
ââR S
;
ââS T
}
ää 
if
åå 
(
åå 

connection
åå &
.
åå& '
State
åå' ,
==
åå- /
ConnectionState
åå0 ?
.
åå? @
Open
åå@ D
)
ååD E

connection
çç &
.
çç& '
Close
çç' ,
(
çç, -
)
çç- .
;
çç. /
}
éé 
}
èè 
catch
êê 
(
êê 
	Exception
êê 
ex
êê 
)
êê  
{
ëë 

ErrorClass
íí 
objErr
íí !
=
íí" #
new
íí$ '

ErrorClass
íí( 2
(
íí2 3
ex
íí3 5
,
íí5 6
$str
íí7 r
)
íír s
;
íís t
}
ìì 
return
ïï #
objDealerCampaignArea
ïï (
;
ïï( )
}
ññ 	
public
££ 
void
££ +
SaveDealerCampaignAreaMapping
££ 1
(
££1 2
uint
££2 6
dealerId
££7 ?
,
££? @
uint
££@ D

campaignid
££E O
,
££O P
ushort
££Q W#
campaignServingStatus
££X m
,
££m n
ushort
££o u
servingRadius££v É
,££É Ñ
string££Ö ã

cityIdList££å ñ
,££ñ ó
string££ò û
stateIdList££ü ™
)££™ ´
{
§§ 	
try
•• 
{
¶¶ 
using
ßß 
(
ßß 
IDbConnection
ßß $

connection
ßß% /
=
ßß0 1
DatabaseHelper
ßß2 @
.
ßß@ A!
GetMasterConnection
ßßA T
(
ßßT U
)
ßßU V
)
ßßV W
{
®® 

connection
©© 
.
©© 
Open
©© #
(
©©# $
)
©©$ %
;
©©% &
var
´´ 
param
´´ 
=
´´ 
new
´´  #
DynamicParameters
´´$ 5
(
´´5 6
)
´´6 7
;
´´7 8
param
≠≠ 
.
≠≠ 
Add
≠≠ 
(
≠≠ 
$str
≠≠ ,
,
≠≠, -
dealerId
≠≠. 6
)
≠≠6 7
;
≠≠7 8
param
ÆÆ 
.
ÆÆ 
Add
ÆÆ 
(
ÆÆ 
$str
ÆÆ .
,
ÆÆ. /

campaignid
ÆÆ0 :
)
ÆÆ: ;
;
ÆÆ; <
param
ØØ 
.
ØØ 
Add
ØØ 
(
ØØ 
$str
ØØ 9
,
ØØ9 :#
campaignServingStatus
ØØ; P
)
ØØP Q
;
ØØQ R
param
∞∞ 
.
∞∞ 
Add
∞∞ 
(
∞∞ 
$str
∞∞ 1
,
∞∞1 2
servingRadius
∞∞3 @
)
∞∞@ A
;
∞∞A B
param
±± 
.
±± 
Add
±± 
(
±± 
$str
±± +
,
±±+ ,

cityIdList
±±- 7
)
±±7 8
;
±±8 9
param
≤≤ 
.
≤≤ 
Add
≤≤ 
(
≤≤ 
$str
≤≤ ,
,
≤≤, -
stateIdList
≤≤. 9
)
≤≤9 :
;
≤≤: ;

connection
¥¥ 
.
¥¥ 
Query
¥¥ $
(
¥¥$ %
$str
¥¥% E
,
¥¥E F
param
¥¥G L
:
¥¥L M
param
¥¥N S
,
¥¥S T
commandType
¥¥U `
:
¥¥` a
CommandType
¥¥b m
.
¥¥m n
StoredProcedure
¥¥n }
)
¥¥} ~
;
¥¥~ 
if
∂∂ 
(
∂∂ 

connection
∂∂ "
.
∂∂" #
State
∂∂# (
==
∂∂) +
ConnectionState
∂∂, ;
.
∂∂; <
Open
∂∂< @
)
∂∂@ A

connection
∑∑ "
.
∑∑" #
Close
∑∑# (
(
∑∑( )
)
∑∑) *
;
∑∑* +
}
∏∏ 
}
ππ 
catch
∫∫ 
(
∫∫ 
	Exception
∫∫ 
ex
∫∫ 
)
∫∫  
{
ªª 

ErrorClass
ºº 
objErr
ºº !
=
ºº" #
new
ºº$ '

ErrorClass
ºº( 2
(
ºº2 3
ex
ºº3 5
,
ºº5 6
$str
ºº7 s
)
ººs t
;
ººt u
}
ΩΩ 
}
ææ 	
public
ÕÕ  
DealerAreaDistance
ÕÕ !&
GetDealerToAreasDistance
ÕÕ" :
(
ÕÕ: ;
uint
ÕÕ; ?
dealerId
ÕÕ@ H
,
ÕÕH I
ushort
ÕÕJ P#
campaignServingStatus
ÕÕQ f
,
ÕÕf g
ushort
ÕÕh n
servingRadius
ÕÕo |
,
ÕÕ| }
stringÕÕ~ Ñ

cityIdListÕÕÖ è
,ÕÕè ê
stringÕÕë ó
stateIdListÕÕò £
)ÕÕ£ §
{
ŒŒ 	 
DealerAreaDistance
œœ 
objDistances
œœ +
=
œœ, -
null
œœ. 2
;
œœ2 3
try
—— 
{
““ 
using
”” 
(
”” 
IDbConnection
”” $

connection
””% /
=
””0 1
DatabaseHelper
””2 @
.
””@ A!
GetMasterConnection
””A T
(
””T U
)
””U V
)
””V W
{
‘‘ 

connection
’’ 
.
’’ 
Open
’’ #
(
’’# $
)
’’$ %
;
’’% &
var
◊◊ 
param
◊◊ 
=
◊◊ 
new
◊◊  #
DynamicParameters
◊◊$ 5
(
◊◊5 6
)
◊◊6 7
;
◊◊7 8
param
ŸŸ 
.
ŸŸ 
Add
ŸŸ 
(
ŸŸ 
$str
ŸŸ ,
,
ŸŸ, -
dealerId
ŸŸ. 6
)
ŸŸ6 7
;
ŸŸ7 8
param
⁄⁄ 
.
⁄⁄ 
Add
⁄⁄ 
(
⁄⁄ 
$str
⁄⁄ 9
,
⁄⁄9 :#
campaignServingStatus
⁄⁄; P
)
⁄⁄P Q
;
⁄⁄Q R
param
€€ 
.
€€ 
Add
€€ 
(
€€ 
$str
€€ 7
,
€€7 8
servingRadius
€€9 F
)
€€F G
;
€€G H
param
‹‹ 
.
‹‹ 
Add
‹‹ 
(
‹‹ 
$str
‹‹ +
,
‹‹+ ,

cityIdList
‹‹- 7
)
‹‹7 8
;
‹‹8 9
param
›› 
.
›› 
Add
›› 
(
›› 
$str
›› ,
,
››, -
stateIdList
››. 9
)
››9 :
;
››: ;
objDistances
ﬂﬂ  
=
ﬂﬂ! "
new
ﬂﬂ# & 
DealerAreaDistance
ﬂﬂ' 9
(
ﬂﬂ9 :
)
ﬂﬂ: ;
;
ﬂﬂ; <
using
·· 
(
·· 
var
·· 
results
·· &
=
··' (

connection
··) 3
.
··3 4
QueryMultiple
··4 A
(
··A B
$str
··B \
,
··\ ]
param
··^ c
:
··c d
param
··e j
,
··j k
commandType
··l w
:
··w x
CommandType··y Ñ
.··Ñ Ö
StoredProcedure··Ö î
)··î ï
)··ï ñ
{
‚‚ 
objDistances
„„ $
.
„„$ %
DealerLocation
„„% 3
=
„„4 5
results
„„6 =
.
„„= >
Read
„„> B
<
„„B C
GeoLocationEntity
„„C T
>
„„T U
(
„„U V
)
„„V W
.
„„W X
SingleOrDefault
„„X g
(
„„g h
)
„„h i
;
„„i j
objDistances
‰‰ $
.
‰‰$ %
Areas
‰‰% *
=
‰‰+ ,
results
‰‰- 4
.
‰‰4 5
Read
‰‰5 9
<
‰‰9 :
GeoLocationEntity
‰‰: K
>
‰‰K L
(
‰‰L M
)
‰‰M N
;
‰‰N O
}
ÂÂ 
if
ÁÁ 
(
ÁÁ 

connection
ÁÁ "
.
ÁÁ" #
State
ÁÁ# (
==
ÁÁ) +
ConnectionState
ÁÁ, ;
.
ÁÁ; <
Open
ÁÁ< @
)
ÁÁ@ A

connection
ËË "
.
ËË" #
Close
ËË# (
(
ËË( )
)
ËË) *
;
ËË* +
}
ÈÈ 
}
ÍÍ 
catch
ÎÎ 
(
ÎÎ 
	Exception
ÎÎ 
ex
ÎÎ 
)
ÎÎ  
{
ÏÏ 

ErrorClass
ÌÌ 
objErr
ÌÌ !
=
ÌÌ" #
new
ÌÌ$ '

ErrorClass
ÌÌ( 2
(
ÌÌ2 3
ex
ÌÌ3 5
,
ÌÌ5 6
$str
ÌÌ7 n
)
ÌÌn o
;
ÌÌo p
}
ÓÓ 
return
 
objDistances
 
;
  
}
ÒÒ 	
public
¸¸  
DealerAreaDistance
¸¸ !'
GetDealerAreasWithLatLong
¸¸" ;
(
¸¸; <
uint
¸¸< @
dealerId
¸¸A I
,
¸¸I J
string
¸¸K Q
	areasList
¸¸R [
)
¸¸[ \
{
˝˝ 	 
DealerAreaDistance
˛˛ 
objDistances
˛˛ +
=
˛˛, -
null
˛˛. 2
;
˛˛2 3
try
ÄÄ 
{
ÅÅ 
using
ÇÇ 
(
ÇÇ 
IDbConnection
ÇÇ $

connection
ÇÇ% /
=
ÇÇ0 1
DatabaseHelper
ÇÇ2 @
.
ÇÇ@ A!
GetMasterConnection
ÇÇA T
(
ÇÇT U
)
ÇÇU V
)
ÇÇV W
{
ÉÉ 

connection
ÑÑ 
.
ÑÑ 
Open
ÑÑ #
(
ÑÑ# $
)
ÑÑ$ %
;
ÑÑ% &
var
ÜÜ 
param
ÜÜ 
=
ÜÜ 
new
ÜÜ  #
DynamicParameters
ÜÜ$ 5
(
ÜÜ5 6
)
ÜÜ6 7
;
ÜÜ7 8
param
àà 
.
àà 
Add
àà 
(
àà 
$str
àà ,
,
àà, -
dealerId
àà. 6
)
àà6 7
;
àà7 8
param
ââ 
.
ââ 
Add
ââ 
(
ââ 
$str
ââ -
,
ââ- .
	areasList
ââ/ 8
)
ââ8 9
;
ââ9 :
using
ãã 
(
ãã 
var
ãã 
results
ãã &
=
ãã' (

connection
ãã) 3
.
ãã3 4
QueryMultiple
ãã4 A
(
ããA B
$str
ããB ]
,
ãã] ^
param
ãã_ d
:
ããd e
param
ããf k
,
ããk l
commandType
ããm x
:
ããx y
CommandTypeããz Ö
.ããÖ Ü
StoredProcedureããÜ ï
)ããï ñ
)ããñ ó
{
åå 
objDistances
çç $
=
çç% &
new
çç' * 
DealerAreaDistance
çç+ =
(
çç= >
)
çç> ?
;
çç? @
objDistances
éé $
.
éé$ %
DealerLocation
éé% 3
=
éé4 5
results
éé6 =
.
éé= >
Read
éé> B
<
ééB C
GeoLocationEntity
ééC T
>
ééT U
(
ééU V
)
ééV W
.
ééW X
SingleOrDefault
ééX g
(
éég h
)
ééh i
;
ééi j
objDistances
èè $
.
èè$ %
Areas
èè% *
=
èè+ ,
results
èè- 4
.
èè4 5
Read
èè5 9
<
èè9 :
GeoLocationEntity
èè: K
>
èèK L
(
èèL M
)
èèM N
;
èèN O
}
êê 
if
íí 
(
íí 

connection
íí "
.
íí" #
State
íí# (
==
íí) +
ConnectionState
íí, ;
.
íí; <
Open
íí< @
)
íí@ A

connection
ìì "
.
ìì" #
Close
ìì# (
(
ìì( )
)
ìì) *
;
ìì* +
}
îî 
}
ïï 
catch
ññ 
(
ññ 
	Exception
ññ 
ex
ññ 
)
ññ  
{
óó 

ErrorClass
òò 
objErr
òò !
=
òò" #
new
òò$ '

ErrorClass
òò( 2
(
òò2 3
ex
òò3 5
,
òò5 6
$str
òò7 p
)
òòp q
;
òòq r
}
ôô 
return
õõ 
objDistances
õõ 
;
õõ  
}
ùù 	
public
®® 
void
®® (
SaveAdditionalAreasMapping
®® .
(
®®. /
uint
®®/ 3
dealerId
®®4 <
,
®®< =
string
®®> D
	areasList
®®E N
)
®®N O
{
©© 	
try
™™ 
{
´´ 
using
¨¨ 
(
¨¨ 
IDbConnection
¨¨ $

connection
¨¨% /
=
¨¨0 1
DatabaseHelper
¨¨2 @
.
¨¨@ A!
GetMasterConnection
¨¨A T
(
¨¨T U
)
¨¨U V
)
¨¨V W
{
≠≠ 

connection
ÆÆ 
.
ÆÆ 
Open
ÆÆ #
(
ÆÆ# $
)
ÆÆ$ %
;
ÆÆ% &
var
∞∞ 
param
∞∞ 
=
∞∞ 
new
∞∞  #
DynamicParameters
∞∞$ 5
(
∞∞5 6
)
∞∞6 7
;
∞∞7 8
param
≤≤ 
.
≤≤ 
Add
≤≤ 
(
≤≤ 
$str
≤≤ ,
,
≤≤, -
dealerId
≤≤. 6
)
≤≤6 7
;
≤≤7 8
param
≥≥ 
.
≥≥ 
Add
≥≥ 
(
≥≥ 
$str
≥≥ ,
,
≥≥, -
	areasList
≥≥. 7
)
≥≥7 8
;
≥≥8 9

connection
µµ 
.
µµ 
Query
µµ $
(
µµ$ %
$str
µµ% A
,
µµA B
param
µµC H
:
µµH I
param
µµJ O
,
µµO P
commandType
µµQ \
:
µµ\ ]
CommandType
µµ^ i
.
µµi j
StoredProcedure
µµj y
)
µµy z
;
µµz {
if
∑∑ 
(
∑∑ 

connection
∑∑ "
.
∑∑" #
State
∑∑# (
==
∑∑) +
ConnectionState
∑∑, ;
.
∑∑; <
Open
∑∑< @
)
∑∑@ A

connection
∏∏ "
.
∏∏" #
Close
∏∏# (
(
∏∏( )
)
∏∏) *
;
∏∏* +
}
ππ 
}
∫∫ 
catch
ªª 
(
ªª 
	Exception
ªª 
ex
ªª 
)
ªª  
{
ºº 

ErrorClass
ΩΩ 
objErr
ΩΩ !
=
ΩΩ" #
new
ΩΩ$ '

ErrorClass
ΩΩ( 2
(
ΩΩ2 3
ex
ΩΩ3 5
,
ΩΩ5 6
$str
ΩΩ7 p
)
ΩΩp q
;
ΩΩq r
}
ææ 
}
øø 	
public
   
void
   )
DeleteAdditionalMappedAreas
   /
(
  / 0
uint
  0 4
dealerId
  5 =
,
  = >
string
  ? E
areadIdList
  F Q
)
  Q R
{
ÀÀ 	
try
ÃÃ 
{
ÕÕ 
using
ŒŒ 
(
ŒŒ 
IDbConnection
ŒŒ $

connection
ŒŒ% /
=
ŒŒ0 1
DatabaseHelper
ŒŒ2 @
.
ŒŒ@ A!
GetMasterConnection
ŒŒA T
(
ŒŒT U
)
ŒŒU V
)
ŒŒV W
{
œœ 

connection
–– 
.
–– 
Open
–– #
(
––# $
)
––$ %
;
––% &
var
““ 
param
““ 
=
““ 
new
““  #
DynamicParameters
““$ 5
(
““5 6
)
““6 7
;
““7 8
param
‘‘ 
.
‘‘ 
Add
‘‘ 
(
‘‘ 
$str
‘‘ ,
,
‘‘, -
dealerId
‘‘. 6
)
‘‘6 7
;
‘‘7 8
param
’’ 
.
’’ 
Add
’’ 
(
’’ 
$str
’’ +
,
’’+ ,
areadIdList
’’- 8
)
’’8 9
;
’’9 :

connection
◊◊ 
.
◊◊ 
Query
◊◊ $
(
◊◊$ %
$str
◊◊% B
,
◊◊B C
param
◊◊D I
:
◊◊I J
param
◊◊K P
,
◊◊P Q
commandType
◊◊R ]
:
◊◊] ^
CommandType
◊◊_ j
.
◊◊j k
StoredProcedure
◊◊k z
)
◊◊z {
;
◊◊{ |
if
ŸŸ 
(
ŸŸ 

connection
ŸŸ "
.
ŸŸ" #
State
ŸŸ# (
==
ŸŸ) +
ConnectionState
ŸŸ, ;
.
ŸŸ; <
Open
ŸŸ< @
)
ŸŸ@ A

connection
⁄⁄ "
.
⁄⁄" #
Close
⁄⁄# (
(
⁄⁄( )
)
⁄⁄) *
;
⁄⁄* +
}
€€ 
}
‹‹ 
catch
›› 
(
›› 
	Exception
›› 
ex
›› 
)
››  
{
ﬁﬁ 

ErrorClass
ﬂﬂ 
objErr
ﬂﬂ !
=
ﬂﬂ" #
new
ﬂﬂ$ '

ErrorClass
ﬂﬂ( 2
(
ﬂﬂ2 3
ex
ﬂﬂ3 5
,
ﬂﬂ5 6
$str
ﬂﬂ7 q
)
ﬂﬂq r
;
ﬂﬂr s
}
‡‡ 
}
·· 	
}
‰‰ 
}ÂÂ ô∑
BD:\work\bikewaleweb\BikewaleOpr.DALs\DealerPriceQuoteRepository.cs
	namespace 	
BikewaleOpr
 
. 
DALs 
{ 
public 

class &
DealerPriceQuoteRepository +
:, -
IDealerPriceQuote. ?
{ 
public 
bool 
DeleteVersionPrices '
(' (
uint( ,
dealerId- 5
,5 6
uint7 ;
cityId< B
,B C
stringD J
versionIdListK X
)X Y
{ 	
try 
{ 
using 
( 
	DbCommand  
cmd! $
=% &
	DbFactory' 0
.0 1
GetDBCommand1 =
(= >
$str> U
)U V
)V W
{ 
cmd 
. 
CommandType #
=$ %
CommandType& 1
.1 2
StoredProcedure2 A
;A B
cmd 
. 

Parameters "
." #
Add# &
(& '
	DbFactory' 0
.0 1

GetDbParam1 ;
(; <
$str< J
,J K
DbTypeL R
.R S
Int32S X
,X Y
dealerIdZ b
)b c
)c d
;d e
cmd   
.   

Parameters   "
.  " #
Add  # &
(  & '
	DbFactory  ' 0
.  0 1

GetDbParam  1 ;
(  ; <
$str  < H
,  H I
DbType  J P
.  P Q
Int32  Q V
,  V W
cityId  X ^
)  ^ _
)  _ `
;  ` a
cmd!! 
.!! 

Parameters!! "
.!!" #
Add!!# &
(!!& '
	DbFactory!!' 0
.!!0 1

GetDbParam!!1 ;
(!!; <
$str!!< O
,!!O P
DbType!!Q W
.!!W X
String!!X ^
,!!^ _
versionIdList!!` m
)!!m n
)!!n o
;!!o p
return%% 
MySqlDatabase%% (
.%%( )
ExecuteNonQuery%%) 8
(%%8 9
cmd%%9 <
,%%< =
ConnectionType%%> L
.%%L M
MasterDatabase%%M [
)%%[ \
>%%] ^
$num%%_ `
;%%` a
}'' 
}(( 
catch)) 
()) 
	Exception)) 
ex)) 
)))  
{** 
HttpContext++ 
.++ 
Current++ #
.++# $
Trace++$ )
.++) *
Warn++* .
(++. /
$str++/ J
+++K L
ex++M O
.++O P
Message++P W
+++X Y
ex++Z \
.++\ ]
Source++] c
)++c d
;++d e

ErrorClass,, 
objErr,, !
=,," #
new,,$ '

ErrorClass,,( 2
(,,2 3
ex,,3 5
,,,5 6
HttpContext,,7 B
.,,B C
Current,,C J
.,,J K
Request,,K R
.,,R S
ServerVariables,,S b
[,,b c
$str,,c h
],,h i
),,i j
;,,j k
objErr-- 
.-- 
SendMail-- 
(--  
)--  !
;--! "
}.. 
return00 
false00 
;00 
}11 	
public:: 
List:: 
<:: 
PQ_Price:: 
>::  
GetBikeCategoryItems:: 2
(::2 3
string::3 9
categoryList::: F
)::F G
{;; 	
List<< 
<<< 
PQ_Price<< 
><< 
objCategoryList<< *
=<<+ ,
null<<- 1
;<<1 2
try== 
{>> 
using?? 
(?? 
	DbCommand??  
cmd??! $
=??% &
	DbFactory??' 0
.??0 1
GetDBCommand??1 =
(??= >
$str??> W
)??W X
)??X Y
{@@ 
cmdAA 
.AA 

ParametersAA "
.AA" #
AddAA# &
(AA& '
	DbFactoryAA' 0
.AA0 1

GetDbParamAA1 ;
(AA; <
$strAA< R
,AAR S
DbTypeAAT Z
.AAZ [
StringAA[ a
,AAa b
!AAc d
StringAAd j
.AAj k
IsNullOrEmptyAAk x
(AAx y
categoryList	AAy Ö
)
AAÖ Ü
?
AAá à
categoryList
AAâ ï
:
AAñ ó
Convert
AAò ü
.
AAü †
DBNull
AA† ¶
)
AA¶ ß
)
AAß ®
;
AA® ©
cmdCC 
.CC 
CommandTypeCC #
=CC$ %
CommandTypeCC& 1
.CC1 2
StoredProcedureCC2 A
;CCA B
usingEE 
(EE 
IDataReaderEE &
drEE' )
=EE* +
MySqlDatabaseEE, 9
.EE9 :
SelectQueryEE: E
(EEE F
cmdEEF I
,EEI J
ConnectionTypeEEK Y
.EEY Z
ReadOnlyEEZ b
)EEb c
)EEc d
{FF 
ifGG 
(GG 
drGG 
!=GG !
nullGG" &
)GG& '
{HH 
objCategoryListII +
=II, -
newII. 1
ListII2 6
<II6 7
PQ_PriceII7 ?
>II? @
(II@ A
)IIA B
;IIB C
whileJJ !
(JJ" #
drJJ# %
.JJ% &
ReadJJ& *
(JJ* +
)JJ+ ,
)JJ, -
{KK 
objCategoryListLL  /
.LL/ 0
AddLL0 3
(LL3 4
newLL4 7
PQ_PriceLL8 @
(LL@ A
)LLA B
{LLC D
CategoryNameLLE Q
=LLR S
drLLT V
[LLV W
$strLLW a
]LLa b
.LLb c
ToStringLLc k
(LLk l
)LLl m
,LLm n

CategoryIdLLo y
=LLz {
Convert	LL| É
.
LLÉ Ñ
ToUInt32
LLÑ å
(
LLå ç
dr
LLç è
[
LLè ê
$str
LLê †
]
LL† °
)
LL° ¢
}
LL£ §
)
LL§ •
;
LL• ¶
}MM 
}NN 
}OO 
}PP 
}QQ 
catchRR 
(RR 
	ExceptionRR 
exRR 
)RR  
{SS 
HttpContextTT 
.TT 
CurrentTT #
.TT# $
TraceTT$ )
.TT) *
WarnTT* .
(TT. /
$strTT/ K
+TTL M
exTTN P
.TTP Q
MessageTTQ X
+TTY Z
exTT[ ]
.TT] ^
SourceTT^ d
)TTd e
;TTe f

ErrorClassUU 
objErrUU !
=UU" #
newUU$ '

ErrorClassUU( 2
(UU2 3
exUU3 5
,UU5 6
HttpContextUU7 B
.UUB C
CurrentUUC J
.UUJ K
RequestUUK R
.UUR S
ServerVariablesUUS b
[UUb c
$strUUc h
]UUh i
)UUi j
;UUj k
objErrVV 
.VV 
SendMailVV 
(VV  
)VV  !
;VV! "
}WW 
returnXX 
objCategoryListXX "
;XX" #
}YY 	
publicee 
boolee 
SaveDealerPriceee #
(ee# $
uintee$ (
dealerIdee) 1
,ee1 2
uintee3 7
	versionIdee8 A
,eeA B
uinteeC G
cityIdeeH N
,eeN O
ushorteeP V
itemIdeeW ]
,ee] ^
uintee_ c
	itemValueeed m
)eem n
{ff 	
throwgg 
newgg #
NotImplementedExceptiongg -
(gg- .
)gg. /
;gg/ 0
}
ÅÅ 	
public
ââ 
bool
ââ 
SaveDealerPrice
ââ #
(
ââ# $
	DataTable
ââ$ -
dt
ââ. 0
)
ââ0 1
{
ää 	
bool
ãã 
isPriceSaved
ãã 
=
ãã 
false
ãã  %
;
ãã% &
try
åå 
{
çç 
using
èè 
(
èè 
	DbCommand
èè  
cmd
èè! $
=
èè% &
	DbFactory
èè' 0
.
èè0 1
GetDBCommand
èè1 =
(
èè= >
$str
èè> \
)
èè\ ]
)
èè] ^
{
êê 
cmd
ëë 
.
ëë 
CommandType
ëë #
=
ëë$ %
CommandType
ëë& 1
.
ëë1 2
StoredProcedure
ëë2 A
;
ëëA B
cmd
íí 
.
íí 
UpdatedRowSource
íí (
=
íí) *
UpdateRowSource
íí+ :
.
íí: ;
None
íí; ?
;
íí? @
cmd
îî 
.
îî 

Parameters
îî "
.
îî" #
Add
îî# &
(
îî& '
	DbFactory
îî' 0
.
îî0 1&
GetDbParamWithColumnName
îî1 I
(
îîI J
$str
îîJ X
,
îîX Y
DbType
îîZ `
.
îî` a
Int32
îîa f
,
îîf g
$num
îîh i
,
îîi j
dt
îîk m
.
îîm n
Columns
îîn u
[
îîu v
$num
îîv w
]
îîw x
.
îîx y

ColumnNameîîy É
)îîÉ Ñ
)îîÑ Ö
;îîÖ Ü
cmd
ïï 
.
ïï 

Parameters
ïï "
.
ïï" #
Add
ïï# &
(
ïï& '
	DbFactory
ïï' 0
.
ïï0 1&
GetDbParamWithColumnName
ïï1 I
(
ïïI J
$str
ïïJ ]
,
ïï] ^
DbType
ïï_ e
.
ïïe f
Int32
ïïf k
,
ïïk l
$num
ïïm n
,
ïïn o
dt
ïïp r
.
ïïr s
Columns
ïïs z
[
ïïz {
$num
ïï{ |
]
ïï| }
.
ïï} ~

ColumnNameïï~ à
)ïïà â
)ïïâ ä
;ïïä ã
cmd
ññ 
.
ññ 

Parameters
ññ "
.
ññ" #
Add
ññ# &
(
ññ& '
	DbFactory
ññ' 0
.
ññ0 1&
GetDbParamWithColumnName
ññ1 I
(
ññI J
$str
ññJ V
,
ññV W
DbType
ññX ^
.
ññ^ _
Int32
ññ_ d
,
ññd e
$num
ññf g
,
ññg h
dt
ññi k
.
ññk l
Columns
ññl s
[
ññs t
$num
ññt u
]
ññu v
.
ññv w

ColumnNameññw Å
)ññÅ Ç
)ññÇ É
;ññÉ Ñ
cmd
óó 
.
óó 

Parameters
óó "
.
óó" #
Add
óó# &
(
óó& '
	DbFactory
óó' 0
.
óó0 1&
GetDbParamWithColumnName
óó1 I
(
óóI J
$str
óóJ V
,
óóV W
DbType
óóX ^
.
óó^ _
Int16
óó_ d
,
óód e
$num
óóf g
,
óóg h
dt
óói k
.
óók l
Columns
óól s
[
óós t
$num
óót u
]
óóu v
.
óóv w

ColumnNameóów Å
)óóÅ Ç
)óóÇ É
;óóÉ Ñ
cmd
òò 
.
òò 

Parameters
òò "
.
òò" #
Add
òò# &
(
òò& '
	DbFactory
òò' 0
.
òò0 1&
GetDbParamWithColumnName
òò1 I
(
òòI J
$str
òòJ Y
,
òòY Z
DbType
òò[ a
.
òòa b
Int32
òòb g
,
òòg h
$num
òòi j
,
òòj k
dt
òòl n
.
òòn o
Columns
òòo v
[
òòv w
$num
òòw x
]
òòx y
.
òòy z

ColumnNameòòz Ñ
)òòÑ Ö
)òòÖ Ü
;òòÜ á
cmd
ôô 
.
ôô 

Parameters
ôô "
.
ôô" #
Add
ôô# &
(
ôô& '
	DbFactory
ôô' 0
.
ôô0 1&
GetDbParamWithColumnName
ôô1 I
(
ôôI J
$str
ôôJ Y
,
ôôY Z
DbType
ôô[ a
.
ôôa b
Int16
ôôb g
,
ôôg h
$num
ôôi k
,
ôôk l
dt
ôôm o
.
ôôo p
Columns
ôôp w
[
ôôw x
$num
ôôx y
]
ôôy z
.
ôôz {

ColumnNameôô{ Ö
)ôôÖ Ü
)ôôÜ á
;ôôá à
int
õõ 
recordsInserted
õõ '
=
õõ( )
MySqlDatabase
õõ* 7
.
õõ7 8#
InsertQueryViaAdaptor
õõ8 M
(
õõM N
cmd
õõN Q
,
õõQ R
dt
õõS U
,
õõU V
ConnectionType
õõW e
.
õõe f
MasterDatabase
õõf t
)
õõt u
;
õõu v
if
úú 
(
úú 
recordsInserted
úú '
>
úú( )
$num
úú* +
)
úú+ ,
isPriceSaved
ùù $
=
ùù% &
true
ùù' +
;
ùù+ ,
}
ûû 
}
üü 
catch
†† 
(
†† 
	Exception
†† 
ex
†† 
)
††  
{
°° 
HttpContext
¢¢ 
.
¢¢ 
Current
¢¢ #
.
¢¢# $
Trace
¢¢$ )
.
¢¢) *
Warn
¢¢* .
(
¢¢. /
$str
¢¢/ F
+
¢¢G H
ex
¢¢I K
.
¢¢K L
Message
¢¢L S
+
¢¢T U
ex
¢¢V X
.
¢¢X Y
Source
¢¢Y _
)
¢¢_ `
;
¢¢` a

ErrorClass
££ 
objErr
££ !
=
££" #
new
££$ '

ErrorClass
££( 2
(
££2 3
ex
££3 5
,
££5 6
HttpContext
££7 B
.
££B C
Current
££C J
.
££J K
Request
££K R
.
££R S
ServerVariables
££S b
[
££b c
$str
££c h
]
££h i
)
££i j
;
££j k
objErr
§§ 
.
§§ 
SendMail
§§ 
(
§§  
)
§§  !
;
§§! "
}
•• 
return
ßß 
isPriceSaved
ßß 
;
ßß  
}
®® 	
public
±± 
string
±± %
AddRulesOnPriceUpdation
±± -
(
±±- .
string
±±. 4
	modelList
±±5 >
,
±±> ?
uint
±±@ D
dealerId
±±E M
,
±±M N
uint
±±O S
makeId
±±T Z
,
±±Z [
uint
±±\ `
	updatedBy
±±a j
)
±±j k
{
≤≤ 	
string
≥≥ 
modelNamesList
≥≥ !
=
≥≥" #
string
≥≥$ *
.
≥≥* +
Empty
≥≥+ 0
;
≥≥0 1
try
¥¥ 
{
µµ 
using
∑∑ 
(
∑∑ 
	DbCommand
∑∑  
cmd
∑∑! $
=
∑∑% &
	DbFactory
∑∑' 0
.
∑∑0 1
GetDBCommand
∑∑1 =
(
∑∑= >
$str
∑∑> W
)
∑∑W X
)
∑∑X Y
{
∏∏ 
cmd
ππ 
.
ππ 
CommandType
ππ #
=
ππ$ %
CommandType
ππ& 1
.
ππ1 2
StoredProcedure
ππ2 A
;
ππA B
cmd
∫∫ 
.
∫∫ 
UpdatedRowSource
∫∫ (
=
∫∫) *
UpdateRowSource
∫∫+ :
.
∫∫: ;
None
∫∫; ?
;
∫∫? @
cmd
ºº 
.
ºº 

Parameters
ºº "
.
ºº" #
Add
ºº# &
(
ºº& '
	DbFactory
ºº' 0
.
ºº0 1

GetDbParam
ºº1 ;
(
ºº; <
$str
ºº< J
,
ººJ K
DbType
ººL R
.
ººR S
Int32
ººS X
,
ººX Y
$num
ººZ [
,
ºº[ \
dealerId
ºº] e
)
ººe f
)
ººf g
;
ººg h
cmd
ΩΩ 
.
ΩΩ 

Parameters
ΩΩ "
.
ΩΩ" #
Add
ΩΩ# &
(
ΩΩ& '
	DbFactory
ΩΩ' 0
.
ΩΩ0 1

GetDbParam
ΩΩ1 ;
(
ΩΩ; <
$str
ΩΩ< H
,
ΩΩH I
DbType
ΩΩJ P
.
ΩΩP Q
Int32
ΩΩQ V
,
ΩΩV W
$num
ΩΩX Y
,
ΩΩY Z
makeId
ΩΩ[ a
)
ΩΩa b
)
ΩΩb c
;
ΩΩc d
cmd
ææ 
.
ææ 

Parameters
ææ "
.
ææ" #
Add
ææ# &
(
ææ& '
	DbFactory
ææ' 0
.
ææ0 1

GetDbParam
ææ1 ;
(
ææ; <
$str
ææ< K
,
ææK L
DbType
ææM S
.
ææS T
String
ææT Z
,
ææZ [
	modelList
ææ\ e
)
ææe f
)
ææf g
;
ææg h
cmd
øø 
.
øø 

Parameters
øø "
.
øø" #
Add
øø# &
(
øø& '
	DbFactory
øø' 0
.
øø0 1

GetDbParam
øø1 ;
(
øø; <
$str
øø< K
,
øøK L
DbType
øøM S
.
øøS T
Int16
øøT Y
,
øøY Z
$num
øø[ ]
,
øø] ^
	updatedBy
øø_ h
)
øøh i
)
øøi j
;
øøj k
cmd
¿¿ 
.
¿¿ 

Parameters
¿¿ "
.
¿¿" #
Add
¿¿# &
(
¿¿& '
	DbFactory
¿¿' 0
.
¿¿0 1

GetDbParam
¿¿1 ;
(
¿¿; <
$str
¿¿< R
,
¿¿R S
DbType
¿¿T Z
.
¿¿Z [
String
¿¿[ a
,
¿¿a b 
ParameterDirection
¿¿c u
.
¿¿u v
Output
¿¿v |
)
¿¿| }
)
¿¿} ~
;
¿¿~ 
MySqlDatabase
¬¬ !
.
¬¬! "
UpdateQuery
¬¬" -
(
¬¬- .
cmd
¬¬. 1
,
¬¬1 2
ConnectionType
¬¬3 A
.
¬¬A B
MasterDatabase
¬¬B P
)
¬¬P Q
;
¬¬Q R
modelNamesList
√√ "
=
√√# $
Convert
√√% ,
.
√√, -
ToString
√√- 5
(
√√5 6
cmd
√√6 9
.
√√9 :

Parameters
√√: D
[
√√D E
$str
√√E [
]
√√[ \
.
√√\ ]
Value
√√] b
)
√√b c
;
√√c d
}
ƒƒ 
}
≈≈ 
catch
∆∆ 
(
∆∆ 
	Exception
∆∆ 
ex
∆∆ 
)
∆∆  
{
«« 

ErrorClass
»» 
objErr
»» !
=
»»" #
new
»»$ '

ErrorClass
»»( 2
(
»»2 3
ex
»»3 5
,
»»5 6
$str
»»7 k
)
»»k l
;
»»l m
}
…… 
return
ÀÀ 
modelNamesList
ÀÀ !
;
ÀÀ! "
}
ÃÃ 	
public
ÿÿ 
DataSet
ÿÿ 
GetDealerPrices
ÿÿ &
(
ÿÿ& '
uint
ÿÿ' +
cityId
ÿÿ, 2
,
ÿÿ2 3
uint
ÿÿ4 8
makeId
ÿÿ9 ?
,
ÿÿ? @
uint
ÿÿA E
dealerId
ÿÿF N
)
ÿÿN O
{
ŸŸ 	
DataSet
⁄⁄ 
ds
⁄⁄ 
=
⁄⁄ 
null
⁄⁄ 
;
⁄⁄ 
try
‹‹ 
{
›› 
using
ﬁﬁ 
(
ﬁﬁ 
	DbCommand
ﬁﬁ  
cmd
ﬁﬁ! $
=
ﬁﬁ% &
	DbFactory
ﬁﬁ' 0
.
ﬁﬁ0 1
GetDBCommand
ﬁﬁ1 =
(
ﬁﬁ= >
$str
ﬁﬁ> R
)
ﬁﬁR S
)
ﬁﬁS T
{
ﬂﬂ 
cmd
‡‡ 
.
‡‡ 
CommandType
‡‡ #
=
‡‡$ %
CommandType
‡‡& 1
.
‡‡1 2
StoredProcedure
‡‡2 A
;
‡‡A B
cmd
‚‚ 
.
‚‚ 

Parameters
‚‚ "
.
‚‚" #
Add
‚‚# &
(
‚‚& '
	DbFactory
‚‚' 0
.
‚‚0 1

GetDbParam
‚‚1 ;
(
‚‚; <
$str
‚‚< H
,
‚‚H I
DbType
‚‚J P
.
‚‚P Q
Int64
‚‚Q V
,
‚‚V W
makeId
‚‚X ^
)
‚‚^ _
)
‚‚_ `
;
‚‚` a
cmd
„„ 
.
„„ 

Parameters
„„ "
.
„„" #
Add
„„# &
(
„„& '
	DbFactory
„„' 0
.
„„0 1

GetDbParam
„„1 ;
(
„„; <
$str
„„< H
,
„„H I
DbType
„„J P
.
„„P Q
Int32
„„Q V
,
„„V W
cityId
„„X ^
)
„„^ _
)
„„_ `
;
„„` a
cmd
‰‰ 
.
‰‰ 

Parameters
‰‰ "
.
‰‰" #
Add
‰‰# &
(
‰‰& '
	DbFactory
‰‰' 0
.
‰‰0 1

GetDbParam
‰‰1 ;
(
‰‰; <
$str
‰‰< J
,
‰‰J K
DbType
‰‰L R
.
‰‰R S
Int32
‰‰S X
,
‰‰X Y
dealerId
‰‰Z b
)
‰‰b c
)
‰‰c d
;
‰‰d e
ds
ÊÊ 
=
ÊÊ 
MySqlDatabase
ÊÊ &
.
ÊÊ& ' 
SelectAdapterQuery
ÊÊ' 9
(
ÊÊ9 :
cmd
ÊÊ: =
,
ÊÊ= >
ConnectionType
ÊÊ? M
.
ÊÊM N
ReadOnly
ÊÊN V
)
ÊÊV W
;
ÊÊW X
}
ÁÁ 
}
ËË 
catch
ÈÈ 
(
ÈÈ 
	Exception
ÈÈ 
ex
ÈÈ 
)
ÈÈ  
{
ÍÍ 
HttpContext
ÎÎ 
.
ÎÎ 
Current
ÎÎ #
.
ÎÎ# $
Trace
ÎÎ$ )
.
ÎÎ) *
Warn
ÎÎ* .
(
ÎÎ. /
$str
ÎÎ/ K
+
ÎÎL M
ex
ÎÎN P
.
ÎÎP Q
Message
ÎÎQ X
+
ÎÎY Z
ex
ÎÎ[ ]
.
ÎÎ] ^
Source
ÎÎ^ d
)
ÎÎd e
;
ÎÎe f

ErrorClass
ÏÏ 
objErr
ÏÏ !
=
ÏÏ" #
new
ÏÏ$ '

ErrorClass
ÏÏ( 2
(
ÏÏ2 3
ex
ÏÏ3 5
,
ÏÏ5 6
HttpContext
ÏÏ7 B
.
ÏÏB C
Current
ÏÏC J
.
ÏÏJ K
Request
ÏÏK R
.
ÏÏR S
ServerVariables
ÏÏS b
[
ÏÏb c
$str
ÏÏc h
]
ÏÏh i
)
ÏÏi j
;
ÏÏj k
objErr
ÌÌ 
.
ÌÌ 
SendMail
ÌÌ 
(
ÌÌ  
)
ÌÌ  !
;
ÌÌ! "
}
ÓÓ 
return
ÔÔ 
ds
ÔÔ 
;
ÔÔ 
}
 	
public
˘˘ 
bool
˘˘ 
UnmapDealer
˘˘ 
(
˘˘  
uint
˘˘  $
dealerId
˘˘% -
,
˘˘- .
string
˘˘/ 5

areaIdList
˘˘6 @
)
˘˘@ A
{
˙˙ 	
bool
¸¸ 
	isSuccess
¸¸ 
=
¸¸ 
false
¸¸ "
;
¸¸" #
try
˛˛ 
{
ˇˇ 
using
ÄÄ 
(
ÄÄ 
	DbCommand
ÄÄ  
cmd
ÄÄ! $
=
ÄÄ% &
	DbFactory
ÄÄ' 0
.
ÄÄ0 1
GetDBCommand
ÄÄ1 =
(
ÄÄ= >
$str
ÄÄ> O
)
ÄÄO P
)
ÄÄP Q
{
ÅÅ 
cmd
ÇÇ 
.
ÇÇ 
CommandType
ÇÇ #
=
ÇÇ$ %
CommandType
ÇÇ& 1
.
ÇÇ1 2
StoredProcedure
ÇÇ2 A
;
ÇÇA B
cmd
ÉÉ 
.
ÉÉ 

Parameters
ÉÉ "
.
ÉÉ" #
Add
ÉÉ# &
(
ÉÉ& '
	DbFactory
ÉÉ' 0
.
ÉÉ0 1

GetDbParam
ÉÉ1 ;
(
ÉÉ; <
$str
ÉÉ< J
,
ÉÉJ K
DbType
ÉÉL R
.
ÉÉR S
Int32
ÉÉS X
,
ÉÉX Y
dealerId
ÉÉZ b
)
ÉÉb c
)
ÉÉc d
;
ÉÉd e
cmd
ÑÑ 
.
ÑÑ 

Parameters
ÑÑ "
.
ÑÑ" #
Add
ÑÑ# &
(
ÑÑ& '
	DbFactory
ÑÑ' 0
.
ÑÑ0 1

GetDbParam
ÑÑ1 ;
(
ÑÑ; <
$str
ÑÑ< L
,
ÑÑL M
DbType
ÑÑN T
.
ÑÑT U
String
ÑÑU [
,
ÑÑ[ \
-
ÑÑ] ^
$num
ÑÑ^ _
,
ÑÑ_ `

areaIdList
ÑÑa k
)
ÑÑk l
)
ÑÑl m
;
ÑÑm n
cmd
ÖÖ 
.
ÖÖ 

Parameters
ÖÖ "
.
ÖÖ" #
Add
ÖÖ# &
(
ÖÖ& '
	DbFactory
ÖÖ' 0
.
ÖÖ0 1

GetDbParam
ÖÖ1 ;
(
ÖÖ; <
$str
ÖÖ< H
,
ÖÖH I
DbType
ÖÖJ P
.
ÖÖP Q
Byte
ÖÖQ U
,
ÖÖU V 
ParameterDirection
ÖÖW i
.
ÖÖi j
Output
ÖÖj p
)
ÖÖp q
)
ÖÖq r
;
ÖÖr s
MySqlDatabase
ÜÜ !
.
ÜÜ! "
InsertQuery
ÜÜ" -
(
ÜÜ- .
cmd
ÜÜ. 1
,
ÜÜ1 2
ConnectionType
ÜÜ3 A
.
ÜÜA B
MasterDatabase
ÜÜB P
)
ÜÜP Q
;
ÜÜQ R
	isSuccess
áá 
=
áá 
Convert
áá  '
.
áá' (
	ToBoolean
áá( 1
(
áá1 2
cmd
áá2 5
.
áá5 6

Parameters
áá6 @
[
áá@ A
$str
ááA M
]
ááM N
.
ááN O
Value
ááO T
)
ááT U
;
ááU V
}
àà 
}
ââ 
catch
ää 
(
ää 
	Exception
ää 
ex
ää 
)
ää  
{
ãã 
HttpContext
åå 
.
åå 
Current
åå #
.
åå# $
Trace
åå$ )
.
åå) *
Warn
åå* .
(
åå. /
$str
åå/ B
+
ååC D
ex
ååE G
.
ååG H
Message
ååH O
+
ååP Q
ex
ååR T
.
ååT U
Source
ååU [
)
åå[ \
;
åå\ ]

ErrorClass
çç 
objErr
çç !
=
çç" #
new
çç$ '

ErrorClass
çç( 2
(
çç2 3
ex
çç3 5
,
çç5 6
HttpContext
çç7 B
.
ççB C
Current
ççC J
.
ççJ K
Request
ççK R
.
ççR S
ServerVariables
ççS b
[
ççb c
$str
ççc h
]
ççh i
)
ççi j
;
ççj k
objErr
éé 
.
éé 
SendMail
éé 
(
éé  
)
éé  !
;
éé! "
}
èè 
return
êê 
	isSuccess
êê 
;
êê 
}
ëë 	
public
ôô 
List
ôô 
<
ôô 
DealerAreaDetails
ôô %
>
ôô% &"
GetDealerAreaDetails
ôô' ;
(
ôô; <
uint
ôô< @
cityId
ôôA G
)
ôôG H
{
öö 	
List
úú 
<
úú 
DealerAreaDetails
úú "
>
úú" #

objMapping
úú$ .
=
úú/ 0
null
úú1 5
;
úú5 6
try
ûû 
{
üü 
using
†† 
(
†† 
	DbCommand
††  
cmd
††! $
=
††% &
	DbFactory
††' 0
.
††0 1
GetDBCommand
††1 =
(
††= >
$str
††> Q
)
††Q R
)
††R S
{
°° 
cmd
££ 
.
££ 
CommandType
££ #
=
££$ %
CommandType
££& 1
.
££1 2
StoredProcedure
££2 A
;
££A B
cmd
•• 
.
•• 

Parameters
•• "
.
••" #
Add
••# &
(
••& '
	DbFactory
••' 0
.
••0 1

GetDbParam
••1 ;
(
••; <
$str
••< H
,
••H I
DbType
••J P
.
••P Q
Int32
••Q V
,
••V W
cityId
••X ^
)
••^ _
)
••_ `
;
••` a
using
®® 
(
®® 
IDataReader
®® &
dr
®®' )
=
®®* +
MySqlDatabase
®®, 9
.
®®9 :
SelectQuery
®®: E
(
®®E F
cmd
®®F I
,
®®I J
ConnectionType
®®K Y
.
®®Y Z
ReadOnly
®®Z b
)
®®b c
)
®®c d
{
©© 

objMapping
™™ "
=
™™# $
new
™™% (
List
™™) -
<
™™- .
DealerAreaDetails
™™. ?
>
™™? @
(
™™@ A
)
™™A B
;
™™B C
while
´´ 
(
´´ 
dr
´´ !
.
´´! "
Read
´´" &
(
´´& '
)
´´' (
)
´´( )
{
¨¨ 

objMapping
≠≠ &
.
≠≠& '
Add
≠≠' *
(
≠≠* +
new
≠≠+ .
DealerAreaDetails
≠≠/ @
(
≠≠@ A
)
≠≠A B
{
ÆÆ 
AreaId
ØØ  &
=
ØØ' (
Convert
ØØ) 0
.
ØØ0 1
ToUInt32
ØØ1 9
(
ØØ9 :
dr
ØØ: <
[
ØØ< =
$str
ØØ= E
]
ØØE F
)
ØØF G
,
ØØG H
AreaName
∞∞  (
=
∞∞) *
dr
∞∞+ -
[
∞∞- .
$str
∞∞. 8
]
∞∞8 9
.
∞∞9 :
ToString
∞∞: B
(
∞∞B C
)
∞∞C D
,
∞∞D E
CityId
±±  &
=
±±' (
Convert
±±) 0
.
±±0 1
ToUInt32
±±1 9
(
±±9 :
dr
±±: <
[
±±< =
$str
±±= E
]
±±E F
)
±±F G
,
±±G H
PinCode
≤≤  '
=
≤≤( )
dr
≤≤* ,
[
≤≤, -
$str
≤≤- 6
]
≤≤6 7
.
≤≤7 8
ToString
≤≤8 @
(
≤≤@ A
)
≤≤A B
,
≤≤B C
DealerId
≥≥  (
=
≥≥) *
Convert
≥≥+ 2
.
≥≥2 3
ToUInt32
≥≥3 ;
(
≥≥; <
dr
≥≥< >
[
≥≥> ?
$str
≥≥? I
]
≥≥I J
)
≥≥J K
,
≥≥K L 
DealerOrganization
¥¥  2
=
¥¥3 4
dr
¥¥5 7
[
¥¥7 8
$str
¥¥8 F
]
¥¥F G
.
¥¥G H
ToString
¥¥H P
(
¥¥P Q
)
¥¥Q R
,
¥¥R S
DealerCount
µµ  +
=
µµ, -
Convert
µµ. 5
.
µµ5 6
ToUInt32
µµ6 >
(
µµ> ?
dr
µµ? A
[
µµA B
$str
µµB O
]
µµO P
)
µµP Q
,
µµQ R

DealerRank
∂∂  *
=
∂∂+ ,
Convert
∂∂- 4
.
∂∂4 5
ToUInt32
∂∂5 =
(
∂∂= >
dr
∂∂> @
[
∂∂@ A
$str
∂∂A M
]
∂∂M N
)
∂∂N O
,
∂∂O P
MakeName
∑∑  (
=
∑∑) *
dr
∑∑+ -
[
∑∑- .
$str
∑∑. 8
]
∑∑8 9
.
∑∑9 :
ToString
∑∑: B
(
∑∑B C
)
∑∑C D
}
∏∏ 
)
∏∏ 
;
∏∏ 
}
ππ 
}
∫∫ 
}
ªª 
}
ºº 
catch
ΩΩ 
(
ΩΩ 
	Exception
ΩΩ 
ex
ΩΩ 
)
ΩΩ  
{
ææ 
HttpContext
øø 
.
øø 
Current
øø #
.
øø# $
Trace
øø$ )
.
øø) *
Warn
øø* .
(
øø. /
$str
øø/ K
+
øøL M
ex
øøN P
.
øøP Q
Message
øøQ X
+
øøY Z
ex
øø[ ]
.
øø] ^
Source
øø^ d
)
øød e
;
øøe f

ErrorClass
¿¿ 
objErr
¿¿ !
=
¿¿" #
new
¿¿$ '

ErrorClass
¿¿( 2
(
¿¿2 3
ex
¿¿3 5
,
¿¿5 6
HttpContext
¿¿7 B
.
¿¿B C
Current
¿¿C J
.
¿¿J K
Request
¿¿K R
.
¿¿R S
ServerVariables
¿¿S b
[
¿¿b c
$str
¿¿c h
]
¿¿h i
)
¿¿i j
;
¿¿j k
objErr
¡¡ 
.
¡¡ 
SendMail
¡¡ 
(
¡¡  
)
¡¡  !
;
¡¡! "
}
¬¬ 
return
ƒƒ 

objMapping
ƒƒ 
;
ƒƒ 
}
≈≈ 	
public
ÕÕ 
bool
ÕÕ 
MapDealerWithArea
ÕÕ %
(
ÕÕ% &
uint
ÕÕ& *
dealerId
ÕÕ+ 3
,
ÕÕ3 4
string
ÕÕ5 ;

areaIdList
ÕÕ< F
)
ÕÕF G
{
ŒŒ 	
bool
–– 
	isSuccess
–– 
=
–– 
false
–– "
;
––" #
try
““ 
{
”” 
using
‘‘ 
(
‘‘ 
	DbCommand
‘‘  
cmd
‘‘! $
=
‘‘% &
	DbFactory
‘‘' 0
.
‘‘0 1
GetDBCommand
‘‘1 =
(
‘‘= >
$str
‘‘> M
)
‘‘M N
)
‘‘N O
{
’’ 
cmd
÷÷ 
.
÷÷ 
CommandType
÷÷ #
=
÷÷$ %
CommandType
÷÷& 1
.
÷÷1 2
StoredProcedure
÷÷2 A
;
÷÷A B
cmd
ÿÿ 
.
ÿÿ 

Parameters
ÿÿ "
.
ÿÿ" #
Add
ÿÿ# &
(
ÿÿ& '
	DbFactory
ÿÿ' 0
.
ÿÿ0 1

GetDbParam
ÿÿ1 ;
(
ÿÿ; <
$str
ÿÿ< J
,
ÿÿJ K
DbType
ÿÿL R
.
ÿÿR S
Int32
ÿÿS X
,
ÿÿX Y
dealerId
ÿÿZ b
)
ÿÿb c
)
ÿÿc d
;
ÿÿd e
cmd
ŸŸ 
.
ŸŸ 

Parameters
ŸŸ "
.
ŸŸ" #
Add
ŸŸ# &
(
ŸŸ& '
	DbFactory
ŸŸ' 0
.
ŸŸ0 1

GetDbParam
ŸŸ1 ;
(
ŸŸ; <
$str
ŸŸ< L
,
ŸŸL M
DbType
ŸŸN T
.
ŸŸT U
String
ŸŸU [
,
ŸŸ[ \
-
ŸŸ] ^
$num
ŸŸ^ _
,
ŸŸ_ `

areaIdList
ŸŸa k
)
ŸŸk l
)
ŸŸl m
;
ŸŸm n
cmd
⁄⁄ 
.
⁄⁄ 

Parameters
⁄⁄ "
.
⁄⁄" #
Add
⁄⁄# &
(
⁄⁄& '
	DbFactory
⁄⁄' 0
.
⁄⁄0 1

GetDbParam
⁄⁄1 ;
(
⁄⁄; <
$str
⁄⁄< H
,
⁄⁄H I
DbType
⁄⁄J P
.
⁄⁄P Q
Byte
⁄⁄Q U
,
⁄⁄U V 
ParameterDirection
⁄⁄W i
.
⁄⁄i j
Output
⁄⁄j p
)
⁄⁄p q
)
⁄⁄q r
;
⁄⁄r s
MySqlDatabase
€€ !
.
€€! "
InsertQuery
€€" -
(
€€- .
cmd
€€. 1
,
€€1 2
ConnectionType
€€3 A
.
€€A B
MasterDatabase
€€B P
)
€€P Q
;
€€Q R
	isSuccess
›› 
=
›› 
Convert
››  '
.
››' (
	ToBoolean
››( 1
(
››1 2
cmd
››2 5
.
››5 6

Parameters
››6 @
[
››@ A
$str
››A M
]
››M N
.
››N O
Value
››O T
)
››T U
;
››U V
}
ﬂﬂ 
}
‡‡ 
catch
·· 
(
·· 
	Exception
·· 
ex
·· 
)
··  
{
‚‚ 
HttpContext
„„ 
.
„„ 
Current
„„ #
.
„„# $
Trace
„„$ )
.
„„) *
Warn
„„* .
(
„„. /
$str
„„/ H
+
„„I J
ex
„„K M
.
„„M N
Message
„„N U
+
„„V W
ex
„„X Z
.
„„Z [
Source
„„[ a
)
„„a b
;
„„b c

ErrorClass
‰‰ 
objErr
‰‰ !
=
‰‰" #
new
‰‰$ '

ErrorClass
‰‰( 2
(
‰‰2 3
ex
‰‰3 5
,
‰‰5 6
HttpContext
‰‰7 B
.
‰‰B C
Current
‰‰C J
.
‰‰J K
Request
‰‰K R
.
‰‰R S
ServerVariables
‰‰S b
[
‰‰b c
$str
‰‰c h
]
‰‰h i
)
‰‰i j
;
‰‰j k
objErr
ÂÂ 
.
ÂÂ 
SendMail
ÂÂ 
(
ÂÂ  
)
ÂÂ  !
;
ÂÂ! "
}
ÊÊ 
return
ÁÁ 
	isSuccess
ÁÁ 
;
ÁÁ 
}
ËË 	
public
ˆˆ 
DealerLatLong
ˆˆ '
GetCampaignDealersLatLong
ˆˆ 6
(
ˆˆ6 7
uint
ˆˆ7 ;
	versionId
ˆˆ< E
,
ˆˆE F
uint
ˆˆG K
areaId
ˆˆL R
)
ˆˆR S
{
˜˜ 	
throw
¯¯ 
new
¯¯ %
NotImplementedException
¯¯ -
(
¯¯- .
)
¯¯. /
;
¯¯/ 0
}
õõ 	
public
££ 
void
££ 
GetAreaLatLong
££ "
(
££" #
uint
££# '
areaId
££( .
,
££. /
out
££0 3
double
££4 :
	lattitude
££; D
,
££D E
out
££F I
double
££J P
	longitude
££Q Z
)
££Z [
{
§§ 	
	lattitude
•• 
=
•• 
$num
•• 
;
•• 
	longitude
¶¶ 
=
¶¶ 
$num
¶¶ 
;
¶¶ 
try
®® 
{
©© 
using
™™ 
(
™™ 
	DbCommand
™™  
cmd
™™! $
=
™™% &
	DbFactory
™™' 0
.
™™0 1
GetDBCommand
™™1 =
(
™™= >
$str
™™> Q
)
™™Q R
)
™™R S
{
´´ 
cmd
¨¨ 
.
¨¨ 
CommandType
¨¨ #
=
¨¨$ %
CommandType
¨¨& 1
.
¨¨1 2
StoredProcedure
¨¨2 A
;
¨¨A B
cmd
ÆÆ 
.
ÆÆ 

Parameters
ÆÆ "
.
ÆÆ" #
Add
ÆÆ# &
(
ÆÆ& '
	DbFactory
ÆÆ' 0
.
ÆÆ0 1

GetDbParam
ÆÆ1 ;
(
ÆÆ; <
$str
ÆÆ< H
,
ÆÆH I
DbType
ÆÆJ P
.
ÆÆP Q
Int32
ÆÆQ V
,
ÆÆV W
areaId
ÆÆX ^
)
ÆÆ^ _
)
ÆÆ_ `
;
ÆÆ` a
using
∞∞ 
(
∞∞ 
IDataReader
∞∞ &
dr
∞∞' )
=
∞∞* +
MySqlDatabase
∞∞, 9
.
∞∞9 :
SelectQuery
∞∞: E
(
∞∞E F
cmd
∞∞F I
,
∞∞I J
ConnectionType
∞∞K Y
.
∞∞Y Z
ReadOnly
∞∞Z b
)
∞∞b c
)
∞∞c d
{
±± 
if
≤≤ 
(
≤≤ 
dr
≤≤ 
!=
≤≤ !
null
≤≤" &
)
≤≤& '
{
≥≥ 
if
¥¥ 
(
¥¥  
dr
¥¥  "
.
¥¥" #
Read
¥¥# '
(
¥¥' (
)
¥¥( )
)
¥¥) *
{
µµ 
	lattitude
∂∂  )
=
∂∂* +
Convert
∂∂, 3
.
∂∂3 4
ToDouble
∂∂4 <
(
∂∂< =
dr
∂∂= ?
[
∂∂? @
$str
∂∂@ K
]
∂∂K L
)
∂∂L M
;
∂∂M N
	longitude
∑∑  )
=
∑∑* +
Convert
∑∑, 3
.
∑∑3 4
ToDouble
∑∑4 <
(
∑∑< =
dr
∑∑= ?
[
∑∑? @
$str
∑∑@ K
]
∑∑K L
)
∑∑L M
;
∑∑M N
}
∏∏ 
}
ππ 
}
∫∫ 
}
ªª 
}
ºº 
catch
ΩΩ 
(
ΩΩ 
	Exception
ΩΩ 
ex
ΩΩ 
)
ΩΩ  
{
ææ 
HttpContext
øø 
.
øø 
Current
øø #
.
øø# $
Trace
øø$ )
.
øø) *
Warn
øø* .
(
øø. /
$str
øø/ E
+
øøF G
ex
øøH J
.
øøJ K
Message
øøK R
+
øøS T
ex
øøU W
.
øøW X
Source
øøX ^
)
øø^ _
;
øø_ `

ErrorClass
¿¿ 
objErr
¿¿ !
=
¿¿" #
new
¿¿$ '

ErrorClass
¿¿( 2
(
¿¿2 3
ex
¿¿3 5
,
¿¿5 6
HttpContext
¿¿7 B
.
¿¿B C
Current
¿¿C J
.
¿¿J K
Request
¿¿K R
.
¿¿R S
ServerVariables
¿¿S b
[
¿¿b c
$str
¿¿c h
]
¿¿h i
)
¿¿i j
;
¿¿j k
objErr
¡¡ 
.
¡¡ 
SendMail
¡¡ 
(
¡¡  
)
¡¡  !
;
¡¡! "
}
¬¬ 
}
√√ 	
public
≈≈ 
List
≈≈ 
<
≈≈ 
DealerLatLong
≈≈ !
>
≈≈! "
GetDealersLatLong
≈≈# 4
(
≈≈4 5
uint
≈≈5 9
	versionId
≈≈: C
,
≈≈C D
uint
≈≈E I
areaId
≈≈J P
)
≈≈P Q
{
∆∆ 	
List
«« 
<
«« 
DealerLatLong
«« 
>
«« 
objDealersList
««  .
=
««/ 0
null
««1 5
;
««5 6
try
…… 
{
   
using
ÀÀ 
(
ÀÀ 
	DbCommand
ÀÀ  
cmd
ÀÀ! $
=
ÀÀ% &
	DbFactory
ÀÀ' 0
.
ÀÀ0 1
GetDBCommand
ÀÀ1 =
(
ÀÀ= >
$str
ÀÀ> T
)
ÀÀT U
)
ÀÀU V
{
ÃÃ 
cmd
ÕÕ 
.
ÕÕ 
CommandType
ÕÕ #
=
ÕÕ$ %
CommandType
ÕÕ& 1
.
ÕÕ1 2
StoredProcedure
ÕÕ2 A
;
ÕÕA B
cmd
œœ 
.
œœ 

Parameters
œœ "
.
œœ" #
Add
œœ# &
(
œœ& '
	DbFactory
œœ' 0
.
œœ0 1

GetDbParam
œœ1 ;
(
œœ; <
$str
œœ< K
,
œœK L
DbType
œœM S
.
œœS T
Int32
œœT Y
,
œœY Z
	versionId
œœ[ d
)
œœd e
)
œœe f
;
œœf g
cmd
–– 
.
–– 

Parameters
–– "
.
––" #
Add
––# &
(
––& '
	DbFactory
––' 0
.
––0 1

GetDbParam
––1 ;
(
––; <
$str
––< H
,
––H I
DbType
––J P
.
––P Q
Int32
––Q V
,
––V W
areaId
––X ^
)
––^ _
)
––_ `
;
––` a
using
““ 
(
““ 
IDataReader
““ &
dr
““' )
=
““* +
MySqlDatabase
““, 9
.
““9 :
SelectQuery
““: E
(
““E F
cmd
““F I
,
““I J
ConnectionType
““K Y
.
““Y Z
ReadOnly
““Z b
)
““b c
)
““c d
{
”” 
objDealersList
‘‘ &
=
‘‘' (
new
‘‘) ,
List
‘‘- 1
<
‘‘1 2
DealerLatLong
‘‘2 ?
>
‘‘? @
(
‘‘@ A
)
‘‘A B
;
‘‘B C
while
÷÷ 
(
÷÷ 
dr
÷÷ !
.
÷÷! "
Read
÷÷" &
(
÷÷& '
)
÷÷' (
)
÷÷( )
{
◊◊ 
objDealersList
ÿÿ *
.
ÿÿ* +
Add
ÿÿ+ .
(
ÿÿ. /
new
ÿÿ/ 2
DealerLatLong
ÿÿ3 @
{
ŸŸ 
DealerId
⁄⁄  (
=
⁄⁄) *
Convert
⁄⁄+ 2
.
⁄⁄2 3
ToUInt32
⁄⁄3 ;
(
⁄⁄; <
dr
⁄⁄< >
[
⁄⁄> ?
$str
⁄⁄? I
]
⁄⁄I J
)
⁄⁄J K
,
⁄⁄K L
	Lattitude
€€  )
=
€€* +
Convert
€€, 3
.
€€3 4
ToDouble
€€4 <
(
€€< =
dr
€€= ?
[
€€? @
$str
€€@ K
]
€€K L
)
€€L M
,
€€M N
	Longitude
‹‹  )
=
‹‹* +
Convert
‹‹, 3
.
‹‹3 4
ToDouble
‹‹4 <
(
‹‹< =
dr
‹‹= ?
[
‹‹? @
$str
‹‹@ K
]
‹‹K L
)
‹‹L M
,
‹‹M N
ServingDistance
››  /
=
››0 1
Convert
››2 9
.
››9 :
ToUInt16
››: B
(
››B C
dr
››C E
[
››E F
$str
››F [
]
››[ \
)
››\ ]
}
ﬁﬁ 
)
ﬁﬁ 
;
ﬁﬁ 
}
ﬂﬂ 
}
‡‡ 
}
·· 
}
‚‚ 
catch
„„ 
(
„„ 
	Exception
„„ 
ex
„„ 
)
„„  
{
‰‰ 
HttpContext
ÂÂ 
.
ÂÂ 
Current
ÂÂ #
.
ÂÂ# $
Trace
ÂÂ$ )
.
ÂÂ) *
Warn
ÂÂ* .
(
ÂÂ. /
$str
ÂÂ/ H
+
ÂÂI J
ex
ÂÂK M
.
ÂÂM N
Message
ÂÂN U
+
ÂÂV W
ex
ÂÂX Z
.
ÂÂZ [
Source
ÂÂ[ a
)
ÂÂa b
;
ÂÂb c

ErrorClass
ÊÊ 
objErr
ÊÊ !
=
ÊÊ" #
new
ÊÊ$ '

ErrorClass
ÊÊ( 2
(
ÊÊ2 3
ex
ÊÊ3 5
,
ÊÊ5 6
HttpContext
ÊÊ7 B
.
ÊÊB C
Current
ÊÊC J
.
ÊÊJ K
Request
ÊÊK R
.
ÊÊR S
ServerVariables
ÊÊS b
[
ÊÊb c
$str
ÊÊc h
]
ÊÊh i
)
ÊÊi j
;
ÊÊj k
objErr
ÁÁ 
.
ÁÁ 
SendMail
ÁÁ 
(
ÁÁ  
)
ÁÁ  !
;
ÁÁ! "
}
ËË 
return
ÍÍ 
objDealersList
ÍÍ !
;
ÍÍ! "
}
ÎÎ 	
public
ÓÓ $
DealerPriceQuoteEntity
ÓÓ %'
GetPriceQuoteForAllDealer
ÓÓ& ?
(
ÓÓ? @
uint
ÓÓ@ D
	versionId
ÓÓE N
,
ÓÓN O
uint
ÓÓP T
cityId
ÓÓU [
,
ÓÓ[ \
string
ÓÓ] c
	dealerIds
ÓÓd m
)
ÓÓm n
{
ÔÔ 	$
DealerPriceQuoteEntity
 "
objList
# *
=
+ ,
null
- 1
;
1 2
IList
ÒÒ 
<
ÒÒ 
PQ_Price
ÒÒ 
>
ÒÒ 
	PriceList
ÒÒ %
=
ÒÒ& '
null
ÒÒ( ,
;
ÒÒ, -
IList
ÚÚ 
<
ÚÚ #
BikeColorAvailability
ÚÚ '
>
ÚÚ' ("
ColorwiseAvailabilty
ÚÚ) =
=
ÚÚ> ?
null
ÚÚ@ D
;
ÚÚD E
IList
ÛÛ 
<
ÛÛ 
OfferEntityBase
ÛÛ !
>
ÛÛ! "
	OfferList
ÛÛ# ,
=
ÛÛ- .
null
ÛÛ/ 3
;
ÛÛ3 4
IList
ÙÙ 
<
ÙÙ 
DealerQuotation
ÙÙ !
>
ÙÙ! "
DealerDetails
ÙÙ# 0
=
ÙÙ1 2
null
ÙÙ3 7
;
ÙÙ7 8
try
ıı 
{
ˆˆ 
using
˜˜ 
(
˜˜ 
	DbCommand
˜˜  
cmd
˜˜! $
=
˜˜% &
	DbFactory
˜˜' 0
.
˜˜0 1
GetDBCommand
˜˜1 =
(
˜˜= >
$str
˜˜> [
)
˜˜[ \
)
˜˜\ ]
{
¯¯ 
cmd
˘˘ 
.
˘˘ 
CommandType
˘˘ #
=
˘˘$ %
CommandType
˘˘& 1
.
˘˘1 2
StoredProcedure
˘˘2 A
;
˘˘A B
cmd
˚˚ 
.
˚˚ 

Parameters
˚˚ "
.
˚˚" #
Add
˚˚# &
(
˚˚& '
	DbFactory
˚˚' 0
.
˚˚0 1

GetDbParam
˚˚1 ;
(
˚˚; <
$str
˚˚< K
,
˚˚K L
DbType
˚˚M S
.
˚˚S T
String
˚˚T Z
,
˚˚Z [
-
˚˚\ ]
$num
˚˚] ^
,
˚˚^ _
	dealerIds
˚˚` i
)
˚˚i j
)
˚˚j k
;
˚˚k l
cmd
¸¸ 
.
¸¸ 

Parameters
¸¸ "
.
¸¸" #
Add
¸¸# &
(
¸¸& '
	DbFactory
¸¸' 0
.
¸¸0 1

GetDbParam
¸¸1 ;
(
¸¸; <
$str
¸¸< O
,
¸¸O P
DbType
¸¸Q W
.
¸¸W X
Int32
¸¸X ]
,
¸¸] ^
	versionId
¸¸_ h
)
¸¸h i
)
¸¸i j
;
¸¸j k
cmd
˝˝ 
.
˝˝ 

Parameters
˝˝ "
.
˝˝" #
Add
˝˝# &
(
˝˝& '
	DbFactory
˝˝' 0
.
˝˝0 1

GetDbParam
˝˝1 ;
(
˝˝; <
$str
˝˝< H
,
˝˝H I
DbType
˝˝J P
.
˝˝P Q
Int32
˝˝Q V
,
˝˝V W
cityId
˝˝X ^
)
˝˝^ _
)
˝˝_ `
;
˝˝` a
using
ÄÄ 
(
ÄÄ 
IDataReader
ÄÄ &
dr
ÄÄ' )
=
ÄÄ* +
MySqlDatabase
ÄÄ, 9
.
ÄÄ9 :
SelectQuery
ÄÄ: E
(
ÄÄE F
cmd
ÄÄF I
,
ÄÄI J
ConnectionType
ÄÄK Y
.
ÄÄY Z
ReadOnly
ÄÄZ b
)
ÄÄb c
)
ÄÄc d
{
ÅÅ 
if
ÇÇ 
(
ÇÇ 
dr
ÇÇ 
!=
ÇÇ !
null
ÇÇ" &
)
ÇÇ& '
{
ÉÉ 
objList
ÑÑ #
=
ÑÑ$ %
new
ÑÑ& )$
DealerPriceQuoteEntity
ÑÑ* @
(
ÑÑ@ A
)
ÑÑA B
;
ÑÑB C
DealerDetails
ÜÜ )
=
ÜÜ* +
new
ÜÜ, /
List
ÜÜ0 4
<
ÜÜ4 5
DealerQuotation
ÜÜ5 D
>
ÜÜD E
(
ÜÜE F
)
ÜÜF G
;
ÜÜG H
while
áá !
(
áá" #
dr
áá# %
.
áá% &
Read
áá& *
(
áá* +
)
áá+ ,
)
áá, -
{
àà 
DealerDetails
ââ  -
.
ââ- .
Add
ââ. 1
(
ââ1 2
new
ââ2 5
DealerQuotation
ââ6 E
(
ââE F
)
ââF G
{
ää  !
BookingAmount
ãã$ 1
=
ãã2 3
Convert
ãã4 ;
.
ãã; <
ToUInt32
ãã< D
(
ããD E
dr
ããE G
[
ããG H
$str
ããH W
]
ããW X
)
ããX Y
,
ããY Z
Availability
åå$ 0
=
åå1 2
Convert
åå3 :
.
åå: ;
ToUInt32
åå; C
(
ååC D
dr
ååD F
[
ååF G
$str
ååG R
]
ååR S
)
ååS T
,
ååT U
DealerId
çç$ ,
=
çç- .
Convert
çç/ 6
.
çç6 7
ToUInt32
çç7 ?
(
çç? @
dr
çç@ B
[
ççB C
$str
ççC M
]
ççM N
)
ççN O
,
ççO P
Dealer
éé$ *
=
éé+ ,
new
éé- 0
NewBikeDealers
éé1 ?
(
éé? @
)
éé@ A
{
èè$ %
DealerId
êê( 0
=
êê1 2
Convert
êê3 :
.
êê: ;
ToUInt32
êê; C
(
êêC D
dr
êêD F
[
êêF G
$str
êêG Q
]
êêQ R
)
êêR S
,
êêS T
Name
ëë( ,
=
ëë- .
dr
ëë/ 1
[
ëë1 2
$str
ëë2 8
]
ëë8 9
.
ëë9 :
ToString
ëë: B
(
ëëB C
)
ëëC D
,
ëëD E
Organization
íí( 4
=
íí5 6
dr
íí7 9
[
íí9 :
$str
íí: H
]
ííH I
.
ííI J
ToString
ííJ R
(
ííR S
)
ííS T
,
ííT U
Address
ìì( /
=
ìì0 1
dr
ìì2 4
[
ìì4 5
$str
ìì5 >
]
ìì> ?
.
ìì? @
ToString
ìì@ H
(
ììH I
)
ììI J
,
ììJ K
MobileNo
îî( 0
=
îî1 2
dr
îî3 5
[
îî5 6
$str
îî6 @
]
îî@ A
.
îîA B
ToString
îîB J
(
îîJ K
)
îîK L
,
îîL M
WorkingTime
ïï( 3
=
ïï4 5
dr
ïï6 8
[
ïï8 9
$str
ïï9 G
]
ïïG H
.
ïïH I
ToString
ïïI Q
(
ïïQ R
)
ïïR S
}
ññ$ %
}
óó  !
)
óó! "
;
óó" #
}
òò 
if
ôô 
(
ôô  
dr
ôô  "
.
ôô" #

NextResult
ôô# -
(
ôô- .
)
ôô. /
)
ôô/ 0
{
öö 
	OfferList
õõ  )
=
õõ* +
new
õõ, /
List
õõ0 4
<
õõ4 5
OfferEntityBase
õõ5 D
>
õõD E
(
õõE F
)
õõF G
;
õõG H
while
úú  %
(
úú& '
dr
úú' )
.
úú) *
Read
úú* .
(
úú. /
)
úú/ 0
)
úú0 1
{
ùù  !
	OfferList
ûû$ -
.
ûû- .
Add
ûû. 1
(
ûû1 2
new
ûû2 5
OfferEntityBase
ûû6 E
(
ûûE F
)
ûûF G
{
üü$ %
OfferId
††( /
=
††0 1
Convert
††2 9
.
††9 :
ToUInt32
††: B
(
††B C
dr
††C E
[
††E F
$str
††F O
]
††O P
)
††P Q
,
††Q R
OfferCategoryId
°°( 7
=
°°8 9
Convert
°°: A
.
°°A B
ToUInt32
°°B J
(
°°J K
dr
°°K M
[
°°M N
$str
°°N _
]
°°_ `
)
°°` a
,
°°a b
	OfferType
¢¢( 1
=
¢¢2 3
dr
¢¢4 6
[
¢¢6 7
$str
¢¢7 B
]
¢¢B C
.
¢¢C D
ToString
¢¢D L
(
¢¢L M
)
¢¢M N
,
¢¢N O
	OfferText
££( 1
=
££2 3
dr
££4 6
[
££6 7
$str
££7 B
]
££B C
.
££C D
ToString
££D L
(
££L M
)
££M N
,
££N O

OfferValue
§§( 2
=
§§3 4
Convert
§§5 <
.
§§< =
ToUInt32
§§= E
(
§§E F
dr
§§F H
[
§§H I
$str
§§I U
]
§§U V
)
§§V W
,
§§W X
OffervalidTill
••( 6
=
••7 8
Convert
••9 @
.
••@ A

ToDateTime
••A K
(
••K L
dr
••L N
[
••N O
$str
••O _
]
••_ `
)
••` a
,
••a b
DealerId
¶¶( 0
=
¶¶1 2
Convert
¶¶3 :
.
¶¶: ;
ToUInt32
¶¶; C
(
¶¶C D
dr
¶¶D F
[
¶¶F G
$str
¶¶G Q
]
¶¶Q R
)
¶¶R S
}
ßß$ %
)
ßß% &
;
ßß& '
}
®®  !
}
©© 
if
´´ 
(
´´  
dr
´´  "
.
´´" #

NextResult
´´# -
(
´´- .
)
´´. /
)
´´/ 0
{
¨¨ 
	PriceList
≠≠  )
=
≠≠* +
new
≠≠, /
List
≠≠0 4
<
≠≠4 5
PQ_Price
≠≠5 =
>
≠≠= >
(
≠≠> ?
)
≠≠? @
;
≠≠@ A
while
ÆÆ  %
(
ÆÆ& '
dr
ÆÆ' )
.
ÆÆ) *
Read
ÆÆ* .
(
ÆÆ. /
)
ÆÆ/ 0
)
ÆÆ0 1
{
ØØ  !
	PriceList
∞∞$ -
.
∞∞- .
Add
∞∞. 1
(
∞∞1 2
new
∞∞2 5
PQ_Price
∞∞6 >
(
∞∞> ?
)
∞∞? @
{
±±$ %

CategoryId
≤≤( 2
=
≤≤3 4
Convert
≤≤5 <
.
≤≤< =
ToUInt32
≤≤= E
(
≤≤E F
dr
≤≤F H
[
≤≤H I
$str
≤≤I Q
]
≤≤Q R
)
≤≤R S
,
≤≤S T
CategoryName
≥≥( 4
=
≥≥5 6
dr
≥≥7 9
[
≥≥9 :
$str
≥≥: D
]
≥≥D E
.
≥≥E F
ToString
≥≥F N
(
≥≥N O
)
≥≥O P
,
≥≥P Q
Price
¥¥( -
=
¥¥. /
Convert
¥¥0 7
.
¥¥7 8
ToUInt32
¥¥8 @
(
¥¥@ A
dr
¥¥A C
[
¥¥C D
$str
¥¥D K
]
¥¥K L
)
¥¥L M
,
¥¥M N
DealerId
µµ( 0
=
µµ1 2
Convert
µµ3 :
.
µµ: ;
ToUInt32
µµ; C
(
µµC D
dr
µµD F
[
µµF G
$str
µµG Q
]
µµQ R
)
µµR S
}
∂∂$ %
)
∂∂% &
;
∂∂& '
}
∑∑  !
}
∏∏ 
if
∫∫ 
(
∫∫  
dr
∫∫  "
.
∫∫" #

NextResult
∫∫# -
(
∫∫- .
)
∫∫. /
)
∫∫/ 0
{
ªª "
ColorwiseAvailabilty
ºº  4
=
ºº5 6
new
ºº7 :
List
ºº; ?
<
ºº? @#
BikeColorAvailability
ºº@ U
>
ººU V
(
ººV W
)
ººW X
;
ººX Y
while
ΩΩ  %
(
ΩΩ& '
dr
ΩΩ' )
.
ΩΩ) *
Read
ΩΩ* .
(
ΩΩ. /
)
ΩΩ/ 0
)
ΩΩ0 1
{
ææ  !"
ColorwiseAvailabilty
øø$ 8
.
øø8 9
Add
øø9 <
(
øø< =
new
øø= @#
BikeColorAvailability
øøA V
(
øøV W
)
øøW X
{
¿¿$ %
ColorId
¡¡( /
=
¡¡0 1
Convert
¡¡2 9
.
¡¡9 :
ToUInt32
¡¡: B
(
¡¡B C
dr
¡¡C E
[
¡¡E F
$str
¡¡F O
]
¡¡O P
)
¡¡P Q
,
¡¡Q R
NoOfDays
¬¬( 0
=
¬¬1 2
Convert
¬¬3 :
.
¬¬: ;
ToInt16
¬¬; B
(
¬¬B C
dr
¬¬C E
[
¬¬E F
$str
¬¬F Q
]
¬¬Q R
)
¬¬R S
,
¬¬S T
DealerId
√√( 0
=
√√1 2
Convert
√√3 :
.
√√: ;
ToUInt32
√√; C
(
√√C D
dr
√√D F
[
√√F G
$str
√√G Q
]
√√Q R
)
√√R S
,
√√S T
	ColorName
ƒƒ( 1
=
ƒƒ2 3
Convert
ƒƒ4 ;
.
ƒƒ; <
ToString
ƒƒ< D
(
ƒƒD E
dr
ƒƒE G
[
ƒƒG H
$str
ƒƒH S
]
ƒƒS T
)
ƒƒT U
,
ƒƒU V
HexCode
≈≈( /
=
≈≈0 1
Convert
≈≈2 9
.
≈≈9 :
ToString
≈≈: B
(
≈≈B C
dr
≈≈C E
[
≈≈E F
$str
≈≈F O
]
≈≈O P
)
≈≈P Q
,
≈≈Q R
	VersionId
∆∆( 1
=
∆∆2 3
Convert
∆∆4 ;
.
∆∆; <
ToUInt32
∆∆< D
(
∆∆D E
dr
∆∆E G
[
∆∆G H
$str
∆∆H W
]
∆∆W X
)
∆∆X Y
}
««$ %
)
««% &
;
««& '
}
»»  !
}
…… 
objList
ÀÀ #
.
ÀÀ# $
DealerDetails
ÀÀ$ 1
=
ÀÀ2 3
DealerDetails
ÀÀ4 A
;
ÀÀA B
objList
ÃÃ #
.
ÃÃ# $
	OfferList
ÃÃ$ -
=
ÃÃ. /
	OfferList
ÃÃ0 9
;
ÃÃ9 :
objList
ÕÕ #
.
ÕÕ# $
	PriceList
ÕÕ$ -
=
ÕÕ. /
	PriceList
ÕÕ0 9
;
ÕÕ9 :
objList
ŒŒ #
.
ŒŒ# $%
BikeAvailabilityByColor
ŒŒ$ ;
=
ŒŒ< ="
ColorwiseAvailabilty
ŒŒ> R
;
ŒŒR S
}
œœ 
}
–– 
}
—— 
}
”” 
catch
‘‘ 
(
‘‘ 
	Exception
‘‘ 
ex
‘‘ 
)
‘‘  
{
’’ 

ErrorClass
÷÷ 
objErr
÷÷ !
=
÷÷" #
new
÷÷$ '

ErrorClass
÷÷( 2
(
÷÷2 3
ex
÷÷3 5
,
÷÷5 6
$str
÷÷7 v
)
÷÷v w
;
÷÷w x
objErr
◊◊ 
.
◊◊ 
SendMail
◊◊ 
(
◊◊  
)
◊◊  !
;
◊◊! "
}
ÿÿ 
return
ŸŸ 
objList
ŸŸ 
;
ŸŸ 
}
⁄⁄ 	
}
€€ 
}‹‹ Ï®
9D:\work\bikewaleweb\BikewaleOpr.DALs\DealersRepository.cs
	namespace 	
BikewaleOpr
 
. 
DAL 
{ 
public 

class 
DealersRepository "
:# $
IDealers% -
{ 
public 
IEnumerable 
< 
FacilityEntity )
>) *
GetDealerFacilities+ >
(> ?
uint? C
dealerIdD L
)L M
{   	
IEnumerable!! 
<!! 
FacilityEntity!! &
>!!& '
objFacilities!!( 5
=!!6 7
null!!8 <
;!!< =
try"" 
{## 
if$$ 
($$ 
dealerId$$ 
>$$ 
$num$$  
)$$  !
{%% 
using&& 
(&& 
IDbConnection&& (

connection&&) 3
=&&4 5
DatabaseHelper&&6 D
.&&D E
GetMasterConnection&&E X
(&&X Y
)&&Y Z
)&&Z [
{'' 

connection(( "
.((" #
Open((# '
(((' (
)((( )
;(() *
var** 
param** !
=**" #
new**$ '
DynamicParameters**( 9
(**9 :
)**: ;
;**; <
param++ 
.++ 
Add++ !
(++! "
$str++" 0
,++0 1
dealerId++2 :
)++: ;
;++; <
objFacilities-- %
=--& '

connection--( 2
.--2 3
Query--3 8
<--8 9
FacilityEntity--9 G
>--G H
(--H I
$str--I a
,--a b
param--c h
:--h i
param--j o
,--o p
commandType--q |
:--| }
CommandType	--~ â
.
--â ä
StoredProcedure
--ä ô
)
--ô ö
;
--ö õ
if// 
(// 

connection// &
.//& '
State//' ,
==//- /
ConnectionState//0 ?
.//? @
Open//@ D
)//D E

connection00 &
.00& '
Close00' ,
(00, -
)00- .
;00. /
}11 
}22 
}33 
catch44 
(44 
	Exception44 
ex44 
)44  
{55 

ErrorClass66 
objErr66 !
=66" #
new66$ '

ErrorClass66( 2
(662 3
ex663 5
,665 6
string667 =
.66= >
Format66> D
(66D E
$str	66E á
,
66á à
dealerId
66â ë
)
66ë í
)
66í ì
;
66ì î
}77 
return88 
objFacilities88  
;88  !
}99 	
publicDD 
UInt16DD 
SaveDealerFacilityDD (
(DD( )
FacilityEntityDD) 7
objDataDD8 ?
)DD? @
{EE 	
UInt16FF 
newIDFF 
=FF 
$numFF 
;FF 
tryGG 
{HH 
usingII 
(II 
IDbConnectionII $

connectionII% /
=II0 1
DatabaseHelperII2 @
.II@ A
GetMasterConnectionIIA T
(IIT U
)IIU V
)IIV W
{JJ 

connectionKK 
.KK 
OpenKK #
(KK# $
)KK$ %
;KK% &
varLL 
paramLL 
=LL 
newLL  #
DynamicParametersLL$ 5
(LL5 6
)LL6 7
;LL7 8
paramMM 
.MM 
AddMM 
(MM 
$strMM ,
,MM, -
objDataMM. 5
.MM5 6
FacilityMM6 >
)MM> ?
;MM? @
paramNN 
.NN 
AddNN 
(NN 
$strNN ,
,NN, -
ConvertNN. 5
.NN5 6
ToUInt16NN6 >
(NN> ?
objDataNN? F
.NNF G
IsActiveNNG O
)NNO P
)NNP Q
;NNQ R
paramOO 
.OO 
AddOO 
(OO 
$strOO ,
,OO, -
objDataOO. 5
.OO5 6
IdOO6 8
)OO8 9
;OO9 :
paramPP 
.PP 
AddPP 
(PP 
$strPP -
,PP- .
objDataPP/ 6
.PP6 7
LastUpdatedByIdPP7 F
)PPF G
;PPG H
paramQQ 
.QQ 
AddQQ 
(QQ 
$strQQ 2
,QQ2 3
dbTypeQQ4 :
:QQ: ;
DbTypeQQ< B
.QQB C
UInt16QQC I
,QQI J
	directionQQK T
:QQT U
ParameterDirectionQQV h
.QQh i
OutputQQi o
)QQo p
;QQp q

connectionRR 
.RR 
ExecuteRR &
(RR& '
$strRR' >
,RR> ?
paramRR@ E
:RRE F
paramRRG L
,RRL M
commandTypeRRN Y
:RRY Z
CommandTypeRR[ f
.RRf g
StoredProcedureRRg v
)RRv w
;RRw x
newIDSS 
=SS 
paramSS !
.SS! "
GetSS" %
<SS% &
UInt16SS& ,
>SS, -
(SS- .
$strSS. B
)SSB C
;SSC D
ifUU 
(UU 

connectionUU "
.UU" #
StateUU# (
==UU) +
ConnectionStateUU, ;
.UU; <
OpenUU< @
)UU@ A

connectionVV "
.VV" #
CloseVV# (
(VV( )
)VV) *
;VV* +
}WW 
}XX 
catchYY 
(YY 
	ExceptionYY 
exYY 
)YY  
{ZZ 

ErrorClass[[ 
objErr[[ !
=[[" #
new[[$ '

ErrorClass[[( 2
([[2 3
ex[[3 5
,[[5 6
string[[7 =
.[[= >
Format[[> D
([[D E
$str	[[E ß
,
[[ß ®
objData
[[© ∞
.
[[∞ ±
Id
[[± ≥
,
[[≥ ¥
objData
[[µ º
.
[[º Ω
Facility
[[Ω ≈
,
[[≈ ∆
newID
[[« Ã
,
[[Ã Õ
objData
[[Œ ’
.
[[’ ÷
IsActive
[[÷ ﬁ
)
[[ﬁ ﬂ
)
[[ﬂ ‡
;
[[‡ ·
}\\ 
return^^ 
newID^^ 
;^^ 
}__ 	
publichh 
boolhh  
UpdateDealerFacilityhh (
(hh( )
FacilityEntityhh) 7
objDatahh8 ?
)hh? @
{ii 	
bytejj 
statusjj 
=jj 
$numjj 
;jj 
trykk 
{ll 
usingmm 
(mm 
IDbConnectionmm $

connectionmm% /
=mm0 1
DatabaseHelpermm2 @
.mm@ A
GetMasterConnectionmmA T
(mmT U
)mmU V
)mmV W
{oo 

connectionpp 
.pp 
Openpp #
(pp# $
)pp$ %
;pp% &
varrr 
paramrr 
=rr 
newrr  #
DynamicParametersrr$ 5
(rr5 6
)rr6 7
;rr7 8
paramss 
.ss 
Addss 
(ss 
$strss ,
,ss, -
objDatass. 5
.ss5 6
Facilityss6 >
)ss> ?
;ss? @
paramtt 
.tt 
Addtt 
(tt 
$strtt ,
,tt, -
Converttt. 5
.tt5 6
ToUInt16tt6 >
(tt> ?
objDatatt? F
.ttF G
IsActivettG O
)ttO P
)ttP Q
;ttQ R
paramuu 
.uu 
Adduu 
(uu 
$struu .
,uu. /
objDatauu0 7
.uu7 8

FacilityIduu8 B
)uuB C
;uuC D
paramvv 
.vv 
Addvv 
(vv 
$strvv -
,vv- .
objDatavv/ 6
.vv6 7
LastUpdatedByIdvv7 F
)vvF G
;vvG H
statusxx 
=xx 
(xx 
bytexx "
)xx" #

connectionxx# -
.xx- .
Executexx. 5
(xx5 6
$strxx6 O
,xxO P
paramxxQ V
:xxV W
paramxxX ]
,xx] ^
commandTypexx_ j
:xxj k
CommandTypexxl w
.xxw x
StoredProcedure	xxx á
)
xxá à
;
xxà â
if|| 
(|| 

connection|| "
.||" #
State||# (
==||) +
ConnectionState||, ;
.||; <
Open||< @
)||@ A

connection}} "
.}}" #
Close}}# (
(}}( )
)}}) *
;}}* +
}~~ 
} 
catch
ÄÄ 
(
ÄÄ 
	Exception
ÄÄ 
ex
ÄÄ 
)
ÄÄ  
{
ÅÅ 

ErrorClass
ÇÇ 
objErr
ÇÇ !
=
ÇÇ" #
new
ÇÇ$ '

ErrorClass
ÇÇ( 2
(
ÇÇ2 3
ex
ÇÇ3 5
,
ÇÇ5 6
string
ÇÇ7 =
.
ÇÇ= >
Format
ÇÇ> D
(
ÇÇD E
$strÇÇE ©
,ÇÇ© ™
objDataÇÇ´ ≤
.ÇÇ≤ ≥
IdÇÇ≥ µ
,ÇÇµ ∂
objDataÇÇ∑ æ
.ÇÇæ ø
FacilityÇÇø «
,ÇÇ« »
objDataÇÇ… –
.ÇÇ– —

FacilityIdÇÇ— €
,ÇÇ€ ‹
objDataÇÇ› ‰
.ÇÇ‰ Â
IsActiveÇÇÂ Ì
)ÇÇÌ Ó
)ÇÇÓ Ô
;ÇÇÔ 
}
ÑÑ 
return
ÜÜ 
status
ÜÜ 
>
ÜÜ 
$num
ÜÜ 
;
ÜÜ 
}
áá 	
public
ìì 
EMI
ìì "
GetDealerLoanAmounts
ìì '
(
ìì' (
uint
ìì( ,
dealerId
ìì- 5
)
ìì5 6
{
îî 	
EMI
ïï 
objEmi
ïï 
=
ïï 
null
ïï 
;
ïï 
try
óó 
{
òò 
using
ôô 
(
ôô 
	DbCommand
ôô  
cmd
ôô! $
=
ôô% &
	DbFactory
ôô' 0
.
ôô0 1
GetDBCommand
ôô1 =
(
ôô= >
$str
ôô> `
)
ôô` a
)
ôôa b
{
öö 
cmd
õõ 
.
õõ 
CommandType
õõ #
=
õõ$ %
CommandType
õõ& 1
.
õõ1 2
StoredProcedure
õõ2 A
;
õõA B
cmd
úú 
.
úú 

Parameters
úú "
.
úú" #
Add
úú# &
(
úú& '
	DbFactory
úú' 0
.
úú0 1

GetDbParam
úú1 ;
(
úú; <
$str
úú< J
,
úúJ K
DbType
úúL R
.
úúR S
Int32
úúS X
,
úúX Y
dealerId
úúZ b
)
úúb c
)
úúc d
;
úúd e
using
ûû 
(
ûû 
IDataReader
ûû &
dr
ûû' )
=
ûû* +
MySqlDatabase
ûû, 9
.
ûû9 :
SelectQuery
ûû: E
(
ûûE F
cmd
ûûF I
,
ûûI J
ConnectionType
ûûK Y
.
ûûY Z
ReadOnly
ûûZ b
)
ûûb c
)
ûûc d
{
üü 
if
†† 
(
†† 
dr
†† 
.
†† 
Read
†† #
(
††# $
)
††$ %
)
††% &
{
°° 
objEmi
¢¢ "
=
¢¢# $
new
¢¢% (
EMI
¢¢) ,
(
¢¢, -
)
¢¢- .
{
££ 
LoanToValue
§§  +
=
§§, -
!
§§. /
Convert
§§/ 6
.
§§6 7
IsDBNull
§§7 ?
(
§§? @
dr
§§@ B
[
§§B C
$str
§§C H
]
§§H I
)
§§I J
?
§§K L
Convert
§§M T
.
§§T U
ToUInt16
§§U ]
(
§§] ^
dr
§§^ `
[
§§` a
$str
§§a f
]
§§f g
)
§§g h
:
§§i j
default
§§k r
(
§§r s
UInt16
§§s y
)
§§y z
,
§§z {
RateOfInterest
••  .
=
••/ 0
!
••1 2
Convert
••2 9
.
••9 :
IsDBNull
••: B
(
••B C
dr
••C E
[
••E F
$str
••F V
]
••V W
)
••W X
?
••Y Z
Convert
••[ b
.
••b c
ToSingle
••c k
(
••k l
dr
••l n
[
••n o
$str
••o 
]•• Ä
)••Ä Å
:••Ç É
default••Ñ ã
(••ã å
float••å ë
)••ë í
,••í ì
Tenure
¶¶  &
=
¶¶' (
!
¶¶) *
Convert
¶¶* 1
.
¶¶1 2
IsDBNull
¶¶2 :
(
¶¶: ;
dr
¶¶; =
[
¶¶= >
$str
¶¶> F
]
¶¶F G
)
¶¶G H
?
¶¶I J
Convert
¶¶K R
.
¶¶R S
ToUInt16
¶¶S [
(
¶¶[ \
dr
¶¶\ ^
[
¶¶^ _
$str
¶¶_ g
]
¶¶g h
)
¶¶h i
:
¶¶j k
default
¶¶l s
(
¶¶s t
ushort
¶¶t z
)
¶¶z {
,
¶¶{ |
LoanProvider
ßß  ,
=
ßß- .
!
ßß/ 0
Convert
ßß0 7
.
ßß7 8
IsDBNull
ßß8 @
(
ßß@ A
dr
ßßA C
[
ßßC D
$str
ßßD R
]
ßßR S
)
ßßS T
?
ßßU V
Convert
ßßW ^
.
ßß^ _
ToString
ßß_ g
(
ßßg h
dr
ßßh j
[
ßßj k
$str
ßßk y
]
ßßy z
)
ßßz {
:
ßß| }
defaultßß~ Ö
(ßßÖ Ü
stringßßÜ å
)ßßå ç
,ßßç é
MinDownPayment
®®  .
=
®®/ 0
!
®®1 2
Convert
®®2 9
.
®®9 :
IsDBNull
®®: B
(
®®B C
dr
®®C E
[
®®E F
$str
®®F V
]
®®V W
)
®®W X
?
®®Y Z
Convert
®®[ b
.
®®b c
ToSingle
®®c k
(
®®k l
dr
®®l n
[
®®n o
$str
®®o 
]®® Ä
)®®Ä Å
:®®Ç É
default®®Ñ ã
(®®ã å
float®®å ë
)®®ë í
,®®í ì
MaxDownPayment
©©  .
=
©©/ 0
!
©©1 2
Convert
©©2 9
.
©©9 :
IsDBNull
©©: B
(
©©B C
dr
©©C E
[
©©E F
$str
©©F V
]
©©V W
)
©©W X
?
©©Y Z
Convert
©©[ b
.
©©b c
ToSingle
©©c k
(
©©k l
dr
©©l n
[
©©n o
$str
©©o 
]©© Ä
)©©Ä Å
:©©Ç É
default©©Ñ ã
(©©ã å
float©©å ë
)©©ë í
,©©í ì
	MinTenure
™™  )
=
™™* +
!
™™, -
Convert
™™- 4
.
™™4 5
IsDBNull
™™5 =
(
™™= >
dr
™™> @
[
™™@ A
$str
™™A L
]
™™L M
)
™™M N
?
™™O P
Convert
™™Q X
.
™™X Y
ToUInt16
™™Y a
(
™™a b
dr
™™b d
[
™™d e
$str
™™e p
]
™™p q
)
™™q r
:
™™s t
default
™™u |
(
™™| }
UInt16™™} É
)™™É Ñ
,™™Ñ Ö
	MaxTenure
´´  )
=
´´* +
!
´´, -
Convert
´´- 4
.
´´4 5
IsDBNull
´´5 =
(
´´= >
dr
´´> @
[
´´@ A
$str
´´A L
]
´´L M
)
´´M N
?
´´O P
Convert
´´Q X
.
´´X Y
ToUInt16
´´Y a
(
´´a b
dr
´´b d
[
´´d e
$str
´´e p
]
´´p q
)
´´q r
:
´´s t
default
´´u |
(
´´| }
UInt16´´} É
)´´É Ñ
,´´Ñ Ö
MinRateOfInterest
¨¨  1
=
¨¨2 3
!
¨¨4 5
Convert
¨¨5 <
.
¨¨< =
IsDBNull
¨¨= E
(
¨¨E F
dr
¨¨F H
[
¨¨H I
$str
¨¨I \
]
¨¨\ ]
)
¨¨] ^
?
¨¨_ `
Convert
¨¨a h
.
¨¨h i
ToSingle
¨¨i q
(
¨¨q r
dr
¨¨r t
[
¨¨t u
$str¨¨u à
]¨¨à â
)¨¨â ä
:¨¨ã å
default¨¨ç î
(¨¨î ï
float¨¨ï ö
)¨¨ö õ
,¨¨õ ú
MaxRateOfInterest
≠≠  1
=
≠≠2 3
!
≠≠4 5
Convert
≠≠5 <
.
≠≠< =
IsDBNull
≠≠= E
(
≠≠E F
dr
≠≠F H
[
≠≠H I
$str
≠≠I \
]
≠≠\ ]
)
≠≠] ^
?
≠≠_ `
Convert
≠≠a h
.
≠≠h i
ToSingle
≠≠i q
(
≠≠q r
dr
≠≠r t
[
≠≠t u
$str≠≠u à
]≠≠à â
)≠≠â ä
:≠≠ã å
default≠≠ç î
(≠≠î ï
float≠≠ï ö
)≠≠ö õ
,≠≠õ ú
MinLoanToValue
ÆÆ  .
=
ÆÆ/ 0
!
ÆÆ1 2
Convert
ÆÆ2 9
.
ÆÆ9 :
IsDBNull
ÆÆ: B
(
ÆÆB C
dr
ÆÆC E
[
ÆÆE F
$str
ÆÆF N
]
ÆÆN O
)
ÆÆO P
?
ÆÆQ R
Convert
ÆÆS Z
.
ÆÆZ [
ToUInt32
ÆÆ[ c
(
ÆÆc d
dr
ÆÆd f
[
ÆÆf g
$str
ÆÆg o
]
ÆÆo p
)
ÆÆp q
:
ÆÆr s
default
ÆÆt {
(
ÆÆ{ |
uintÆÆ| Ä
)ÆÆÄ Å
,ÆÆÅ Ç
MaxLoanToValue
ØØ  .
=
ØØ/ 0
!
ØØ1 2
Convert
ØØ2 9
.
ØØ9 :
IsDBNull
ØØ: B
(
ØØB C
dr
ØØC E
[
ØØE F
$str
ØØF N
]
ØØN O
)
ØØO P
?
ØØQ R
Convert
ØØS Z
.
ØØZ [
ToUInt32
ØØ[ c
(
ØØc d
dr
ØØd f
[
ØØf g
$str
ØØg o
]
ØØo p
)
ØØp q
:
ØØr s
default
ØØt {
(
ØØ{ |
uintØØ| Ä
)ØØÄ Å
,ØØÅ Ç
ProcessingFee
∞∞  -
=
∞∞. /
!
∞∞0 1
Convert
∞∞1 8
.
∞∞8 9
IsDBNull
∞∞9 A
(
∞∞A B
dr
∞∞B D
[
∞∞D E
$str
∞∞E T
]
∞∞T U
)
∞∞U V
?
∞∞W X
Convert
∞∞Y `
.
∞∞` a
ToSingle
∞∞a i
(
∞∞i j
dr
∞∞j l
[
∞∞l m
$str
∞∞m |
]
∞∞| }
)
∞∞} ~
:∞∞ Ä
default∞∞Å à
(∞∞à â
float∞∞â é
)∞∞é è
,∞∞è ê
Id
±±  "
=
±±# $
Convert
±±% ,
.
±±, -
ToUInt32
±±- 5
(
±±5 6
dr
±±6 8
[
±±8 9
$str
±±9 =
]
±±= >
)
±±> ?
}
≤≤ 
;
≤≤ 
}
≥≥ 
}
¥¥ 
}
µµ 
}
∂∂ 
catch
∑∑ 
(
∑∑ 
	Exception
∑∑ 
ex
∑∑ 
)
∑∑  
{
∏∏ 

ErrorClass
ππ 
objErr
ππ !
=
ππ" #
new
ππ$ '

ErrorClass
ππ( 2
(
ππ2 3
ex
ππ3 5
,
ππ5 6
$str
ππ7 M
)
ππM N
;
ππN O
objErr
∫∫ 
.
∫∫ 
SendMail
∫∫ 
(
∫∫  
)
∫∫  !
;
∫∫! "
}
ªª 
return
ºº 
objEmi
ºº 
;
ºº 
}
ΩΩ 	
public
∆∆ 
IEnumerable
∆∆ 
<
∆∆ 
DealerMakeEntity
∆∆ +
>
∆∆+ ,
GetDealersByCity
∆∆- =
(
∆∆= >
UInt32
∆∆> D
cityId
∆∆E K
)
∆∆K L
{
«« 	
IEnumerable
»» 
<
»» 
DealerMakeEntity
»» (
>
»»( )
dealers
»»* 1
=
»»2 3
null
»»4 8
;
»»8 9
try
   
{
ÀÀ 
using
ÃÃ 
(
ÃÃ 
IDbConnection
ÃÃ $

connection
ÃÃ% /
=
ÃÃ0 1
DatabaseHelper
ÃÃ2 @
.
ÃÃ@ A!
GetMasterConnection
ÃÃA T
(
ÃÃT U
)
ÃÃU V
)
ÃÃV W
{
ÕÕ 

connection
ŒŒ 
.
ŒŒ 
Open
ŒŒ #
(
ŒŒ# $
)
ŒŒ$ %
;
ŒŒ% &
var
œœ 
param
œœ 
=
œœ 
new
œœ  #
DynamicParameters
œœ$ 5
(
œœ5 6
)
œœ6 7
;
œœ7 8
param
–– 
.
–– 
Add
–– 
(
–– 
$str
–– *
,
––* +
cityId
––, 2
)
––2 3
;
––3 4
dealers
““ 
=
““ 

connection
““ (
.
““( )
Query
““) .
<
““. /
DealerMakeEntity
““/ ?
>
““? @
(
““@ A
$str
““A ]
,
““] ^
param
““_ d
:
““d e
param
““f k
,
““k l
commandType
““m x
:
““x y
CommandType““z Ö
.““Ö Ü
StoredProcedure““Ü ï
)““ï ñ
;““ñ ó
if
‘‘ 
(
‘‘ 

connection
‘‘ "
.
‘‘" #
State
‘‘# (
==
‘‘) +
ConnectionState
‘‘, ;
.
‘‘; <
Open
‘‘< @
)
‘‘@ A

connection
’’ "
.
’’" #
Close
’’# (
(
’’( )
)
’’) *
;
’’* +
}
÷÷ 
}
◊◊ 
catch
ÿÿ 
(
ÿÿ 
	Exception
ÿÿ 
ex
ÿÿ 
)
ÿÿ  
{
ŸŸ 

ErrorClass
⁄⁄ 
objErr
⁄⁄ !
=
⁄⁄" #
new
⁄⁄$ '

ErrorClass
⁄⁄( 2
(
⁄⁄2 3
ex
⁄⁄3 5
,
⁄⁄5 6
string
⁄⁄7 =
.
⁄⁄= >
Format
⁄⁄> D
(
⁄⁄D E
$str
⁄⁄E b
,
⁄⁄b c
cityId
⁄⁄d j
)
⁄⁄j k
)
⁄⁄k l
;
⁄⁄l m
}
€€ 
return
›› 
dealers
›› 
;
›› 
}
ﬁﬁ 	
public
ÁÁ 
	DataTable
ÁÁ 
GetOfferTypes
ÁÁ &
(
ÁÁ& '
)
ÁÁ' (
{
ËË 	
	DataTable
ÍÍ 
dt
ÍÍ 
=
ÍÍ 
null
ÍÍ 
;
ÍÍ  
try
ÎÎ 
{
ÏÏ 
using
ÌÌ 
(
ÌÌ 
	DbCommand
ÌÌ  
cmd
ÌÌ! $
=
ÌÌ% &
	DbFactory
ÌÌ' 0
.
ÌÌ0 1
GetDBCommand
ÌÌ1 =
(
ÌÌ= >
$str
ÌÌ> P
)
ÌÌP Q
)
ÌÌQ R
{
ÓÓ 
cmd
ÔÔ 
.
ÔÔ 
CommandType
ÔÔ #
=
ÔÔ$ %
CommandType
ÔÔ& 1
.
ÔÔ1 2
StoredProcedure
ÔÔ2 A
;
ÔÔA B
dt
 
=
 
MySqlDatabase
 &
.
& ' 
SelectAdapterQuery
' 9
(
9 :
cmd
: =
,
= >
ConnectionType
? M
.
M N
ReadOnly
N V
)
V W
.
W X
Tables
X ^
[
^ _
$num
_ `
]
` a
;
a b
}
ÒÒ 
}
ÚÚ 
catch
ÛÛ 
(
ÛÛ 
	Exception
ÛÛ 
ex
ÛÛ 
)
ÛÛ  
{
ÙÙ 
HttpContext
ıı 
.
ıı 
Current
ıı #
.
ıı# $
Trace
ıı$ )
.
ıı) *
Warn
ıı* .
(
ıı. /
$str
ıı/ D
+
ııE F
ex
ııG I
.
ııI J
Message
ııJ Q
+
ııR S
ex
ııT V
.
ııV W
Source
ııW ]
)
ıı] ^
;
ıı^ _

ErrorClass
ˆˆ 
objErr
ˆˆ !
=
ˆˆ" #
new
ˆˆ$ '

ErrorClass
ˆˆ( 2
(
ˆˆ2 3
ex
ˆˆ3 5
,
ˆˆ5 6
HttpContext
ˆˆ7 B
.
ˆˆB C
Current
ˆˆC J
.
ˆˆJ K
Request
ˆˆK R
.
ˆˆR S
ServerVariables
ˆˆS b
[
ˆˆb c
$str
ˆˆc h
]
ˆˆh i
)
ˆˆi j
;
ˆˆj k
objErr
˜˜ 
.
˜˜ 
SendMail
˜˜ 
(
˜˜  
)
˜˜  !
;
˜˜! "
}
¯¯ 
return
˘˘ 
dt
˘˘ 
;
˘˘ 
}
˙˙ 	
public
ää 
List
ää 
<
ää 
OfferEntity
ää 
>
ää  
GetDealerOffers
ää! 0
(
ää0 1
int
ää1 4
dealerId
ää5 =
)
ää= >
{
ãã 	
List
çç 
<
çç 
OfferEntity
çç 
>
çç 
	objOffers
çç '
=
çç( )
null
çç* .
;
çç. /
try
éé 
{
èè 
using
êê 
(
êê 
	DbCommand
êê  
cmd
êê! $
=
êê% &
	DbFactory
êê' 0
.
êê0 1
GetDBCommand
êê1 =
(
êê= >
$str
êê> [
)
êê[ \
)
êê\ ]
{
ëë 
cmd
íí 
.
íí 
CommandType
íí #
=
íí$ %
CommandType
íí& 1
.
íí1 2
StoredProcedure
íí2 A
;
ííA B
cmd
ìì 
.
ìì 

Parameters
ìì "
.
ìì" #
Add
ìì# &
(
ìì& '
	DbFactory
ìì' 0
.
ìì0 1

GetDbParam
ìì1 ;
(
ìì; <
$str
ìì< J
,
ììJ K
DbType
ììL R
.
ììR S
Int32
ììS X
,
ììX Y
dealerId
ììZ b
)
ììb c
)
ììc d
;
ììd e
cmd
îî 
.
îî 

Parameters
îî "
.
îî" #
Add
îî# &
(
îî& '
	DbFactory
îî' 0
.
îî0 1

GetDbParam
îî1 ;
(
îî; <
$str
îî< I
,
îîI J
DbType
îîK Q
.
îîQ R
Int32
îîR W
,
îîW X
Convert
îîY `
.
îî` a
DBNull
îîa g
)
îîg h
)
îîh i
;
îîi j
using
ññ 
(
ññ 
IDataReader
ññ &
dr
ññ' )
=
ññ* +
MySqlDatabase
ññ, 9
.
ññ9 :
SelectQuery
ññ: E
(
ññE F
cmd
ññF I
,
ññI J
ConnectionType
ññK Y
.
ññY Z
ReadOnly
ññZ b
)
ññb c
)
ññc d
{
óó 
if
òò 
(
òò 
dr
òò 
!=
òò !
null
òò" &
)
òò& '
{
ôô 
	objOffers
öö %
=
öö& '
new
öö( +
List
öö, 0
<
öö0 1
OfferEntity
öö1 <
>
öö< =
(
öö= >
)
öö> ?
;
öö? @
OfferEntity
úú '
objOffer
úú( 0
=
úú1 2
null
úú3 7
;
úú7 8
while
üü !
(
üü" #
dr
üü# %
.
üü% &
Read
üü& *
(
üü* +
)
üü+ ,
)
üü, -
{
†† 
objOffer
°°  (
=
°°) *
new
°°+ .
OfferEntity
°°/ :
(
°°: ;
)
°°; <
;
°°< =
objOffer
¢¢  (
.
¢¢( )
objMake
¢¢) 0
=
¢¢1 2
new
¢¢3 6 
BikeMakeEntityBase
¢¢7 I
(
¢¢I J
)
¢¢J K
{
¢¢L M
MakeName
¢¢N V
=
¢¢W X
Convert
¢¢Y `
.
¢¢` a
ToString
¢¢a i
(
¢¢i j
dr
¢¢j l
[
¢¢l m
$str
¢¢m w
]
¢¢w x
)
¢¢x y
}
¢¢z {
;
¢¢{ |
objOffer
££  (
.
££( )
objModel
££) 1
=
££2 3
new
££4 7!
BikeModelEntityBase
££8 K
(
££K L
)
££L M
{
££N O
	ModelName
££P Y
=
££Z [
Convert
££\ c
.
££c d
ToString
££d l
(
££l m
dr
££m o
[
££o p
$str
££p {
]
££{ |
)
££| }
}
££~ 
;££ Ä
objOffer
§§  (
.
§§( )
objCity
§§) 0
=
§§1 2
new
§§3 6
CityEntityBase
§§7 E
(
§§E F
)
§§F G
{
§§H I
CityName
§§J R
=
§§S T
Convert
§§U \
.
§§\ ]
ToString
§§] e
(
§§e f
dr
§§f h
[
§§h i
$str
§§i s
]
§§s t
)
§§t u
}
§§v w
;
§§w x
objOffer
••  (
.
••( )
OfferId
••) 0
=
••1 2
Convert
••3 :
.
••: ;
ToUInt32
••; C
(
••C D
dr
••D F
[
••F G
$str
••G K
]
••K L
)
••L M
;
••M N
objOffer
¶¶  (
.
¶¶( )
	OfferType
¶¶) 2
=
¶¶3 4
Convert
¶¶5 <
.
¶¶< =
ToString
¶¶= E
(
¶¶E F
dr
¶¶F H
[
¶¶H I
$str
¶¶I T
]
¶¶T U
)
¶¶U V
;
¶¶V W
objOffer
ßß  (
.
ßß( )
OfferTypeId
ßß) 4
=
ßß5 6
Convert
ßß7 >
.
ßß> ?
ToUInt32
ßß? G
(
ßßG H
dr
ßßH J
[
ßßJ K
$str
ßßK X
]
ßßX Y
)
ßßY Z
;
ßßZ [
objOffer
®®  (
.
®®( )
	OfferText
®®) 2
=
®®3 4
Convert
®®5 <
.
®®< =
ToString
®®= E
(
®®E F
dr
®®F H
[
®®H I
$str
®®I T
]
®®T U
)
®®U V
;
®®V W
objOffer
©©  (
.
©©( )

OfferValue
©©) 3
=
©©4 5
Convert
©©6 =
.
©©= >
ToUInt32
©©> F
(
©©F G
dr
©©G I
[
©©I J
$str
©©J V
]
©©V W
)
©©W X
;
©©X Y
if
™™  "
(
™™# $
!
™™$ %
String
™™% +
.
™™+ ,
IsNullOrEmpty
™™, 9
(
™™9 :
Convert
™™: A
.
™™A B
ToString
™™B J
(
™™J K
dr
™™K M
[
™™M N
$str
™™N ^
]
™™^ _
)
™™_ `
)
™™` a
)
™™a b
objOffer
´´$ ,
.
´´, -
OffervalidTill
´´- ;
=
´´< =
DateTime
´´> F
.
´´F G
Parse
´´G L
(
´´L M
Convert
´´M T
.
´´T U
ToString
´´U ]
(
´´] ^
dr
´´^ `
[
´´` a
$str
´´a q
]
´´q r
)
´´r s
)
´´s t
;
´´t u
objOffer
¨¨  (
.
¨¨( )
IsPriceImpact
¨¨) 6
=
¨¨7 8
Convert
¨¨9 @
.
¨¨@ A
	ToBoolean
¨¨A J
(
¨¨J K
Convert
¨¨K R
.
¨¨R S
ToString
¨¨S [
(
¨¨[ \
dr
¨¨\ ^
[
¨¨^ _
$str
¨¨_ n
]
¨¨n o
)
¨¨o p
)
¨¨p q
;
¨¨q r
if
≠≠  "
(
≠≠# $
!
≠≠$ %
String
≠≠% +
.
≠≠+ ,
IsNullOrEmpty
≠≠, 9
(
≠≠9 :
Convert
≠≠: A
.
≠≠A B
ToString
≠≠B J
(
≠≠J K
dr
≠≠K M
[
≠≠M N
$str
≠≠N U
]
≠≠U V
)
≠≠V W
)
≠≠W X
)
≠≠X Y
objOffer
ÆÆ$ ,
.
ÆÆ, -
Terms
ÆÆ- 2
=
ÆÆ3 4
Convert
ÆÆ5 <
.
ÆÆ< =
ToString
ÆÆ= E
(
ÆÆE F
dr
ÆÆF H
[
ÆÆH I
$str
ÆÆI P
]
ÆÆP Q
)
ÆÆQ R
;
ÆÆR S
	objOffers
∞∞  )
.
∞∞) *
Add
∞∞* -
(
∞∞- .
objOffer
∞∞. 6
)
∞∞6 7
;
∞∞7 8
}
±± 
}
≤≤ 
}
≥≥ 
}
µµ 
}
∂∂ 
catch
∑∑ 
(
∑∑ 
	Exception
∑∑ 
ex
∑∑ 
)
∑∑  
{
∏∏ 
HttpContext
ππ 
.
ππ 
Current
ππ #
.
ππ# $
Trace
ππ$ )
.
ππ) *
Warn
ππ* .
(
ππ. /
$str
ππ/ F
+
ππG H
ex
ππI K
.
ππK L
Message
ππL S
+
ππT U
ex
ππV X
.
ππX Y
Source
ππY _
)
ππ_ `
;
ππ` a

ErrorClass
∫∫ 
objErr
∫∫ !
=
∫∫" #
new
∫∫$ '

ErrorClass
∫∫( 2
(
∫∫2 3
ex
∫∫3 5
,
∫∫5 6
HttpContext
∫∫7 B
.
∫∫B C
Current
∫∫C J
.
∫∫J K
Request
∫∫K R
.
∫∫R S
ServerVariables
∫∫S b
[
∫∫b c
$str
∫∫c h
]
∫∫h i
)
∫∫i j
;
∫∫j k
objErr
ªª 
.
ªª 
SendMail
ªª 
(
ªª  
)
ªª  !
;
ªª! "
}
ºº 
return
ΩΩ 
	objOffers
ΩΩ 
;
ΩΩ 
}
ææ 	
public
‘‘ 
bool
‘‘ 
SaveDealerOffer
‘‘ #
(
‘‘# $
int
‘‘$ '
dealerId
‘‘( 0
,
‘‘0 1
uint
‘‘2 6
userId
‘‘7 =
,
‘‘= >
int
‘‘? B
cityId
‘‘C I
,
‘‘I J
string
‘‘K Q
modelId
‘‘R Y
,
‘‘Y Z
int
‘‘[ ^
offercategoryId
‘‘_ n
,
‘‘n o
string
‘‘p v
	offerText‘‘w Ä
,‘‘Ä Å
int‘‘Ç Ö
?‘‘Ö Ü

offerValue‘‘á ë
,‘‘ë í
DateTime‘‘ì õ
offervalidTill‘‘ú ™
,‘‘™ ´
bool‘‘¨ ∞
isPriceImpact‘‘± æ
,‘‘æ ø
string‘‘¿ ∆
terms‘‘« Ã
)‘‘Ã Õ
{
’’ 	
bool
◊◊ 
	isSuccess
◊◊ 
=
◊◊ 
false
◊◊ "
;
◊◊" #
try
⁄⁄ 
{
€€ 
using
‹‹ 
(
‹‹ 
	DbCommand
‹‹  
cmd
‹‹! $
=
‹‹% &
	DbFactory
‹‹' 0
.
‹‹0 1
GetDBCommand
‹‹1 =
(
‹‹= >
$str
‹‹> \
)
‹‹\ ]
)
‹‹] ^
{
›› 
cmd
ﬂﬂ 
.
ﬂﬂ 
CommandType
ﬂﬂ #
=
ﬂﬂ$ %
CommandType
ﬂﬂ& 1
.
ﬂﬂ1 2
StoredProcedure
ﬂﬂ2 A
;
ﬂﬂA B
cmd
‡‡ 
.
‡‡ 

Parameters
‡‡ "
.
‡‡" #
Add
‡‡# &
(
‡‡& '
	DbFactory
‡‡' 0
.
‡‡0 1

GetDbParam
‡‡1 ;
(
‡‡; <
$str
‡‡< J
,
‡‡J K
DbType
‡‡L R
.
‡‡R S
Int32
‡‡S X
,
‡‡X Y
dealerId
‡‡Z b
)
‡‡b c
)
‡‡c d
;
‡‡d e
cmd
·· 
.
·· 

Parameters
·· "
.
··" #
Add
··# &
(
··& '
	DbFactory
··' 0
.
··0 1

GetDbParam
··1 ;
(
··; <
$str
··< H
,
··H I
DbType
··J P
.
··P Q
Int32
··Q V
,
··V W
cityId
··X ^
)
··^ _
)
··_ `
;
··` a
cmd
‚‚ 
.
‚‚ 

Parameters
‚‚ "
.
‚‚" #
Add
‚‚# &
(
‚‚& '
	DbFactory
‚‚' 0
.
‚‚0 1

GetDbParam
‚‚1 ;
(
‚‚; <
$str
‚‚< I
,
‚‚I J
DbType
‚‚K Q
.
‚‚Q R
String
‚‚R X
,
‚‚X Y
-
‚‚Z [
$num
‚‚[ \
,
‚‚\ ]
modelId
‚‚^ e
)
‚‚e f
)
‚‚f g
;
‚‚g h
cmd
„„ 
.
„„ 

Parameters
„„ "
.
„„" #
Add
„„# &
(
„„& '
	DbFactory
„„' 0
.
„„0 1

GetDbParam
„„1 ;
(
„„; <
$str
„„< Q
,
„„Q R
DbType
„„S Y
.
„„Y Z
Int32
„„Z _
,
„„_ `
offercategoryId
„„a p
)
„„p q
)
„„q r
;
„„r s
cmd
‰‰ 
.
‰‰ 

Parameters
‰‰ "
.
‰‰" #
Add
‰‰# &
(
‰‰& '
	DbFactory
‰‰' 0
.
‰‰0 1

GetDbParam
‰‰1 ;
(
‰‰; <
$str
‰‰< K
,
‰‰K L
DbType
‰‰M S
.
‰‰S T
String
‰‰T Z
,
‰‰Z [
-
‰‰\ ]
$num
‰‰] ^
,
‰‰^ _
HttpContext
‰‰` k
.
‰‰k l
Current
‰‰l s
.
‰‰s t
Server
‰‰t z
.
‰‰z {

HtmlDecode‰‰{ Ö
(‰‰Ö Ü
	offerText‰‰Ü è
)‰‰è ê
)‰‰ê ë
)‰‰ë í
;‰‰í ì
cmd
ÂÂ 
.
ÂÂ 

Parameters
ÂÂ "
.
ÂÂ" #
Add
ÂÂ# &
(
ÂÂ& '
	DbFactory
ÂÂ' 0
.
ÂÂ0 1

GetDbParam
ÂÂ1 ;
(
ÂÂ; <
$str
ÂÂ< L
,
ÂÂL M
DbType
ÂÂN T
.
ÂÂT U
Int32
ÂÂU Z
,
ÂÂZ [

offerValue
ÂÂ\ f
)
ÂÂf g
)
ÂÂg h
;
ÂÂh i
cmd
ÊÊ 
.
ÊÊ 

Parameters
ÊÊ "
.
ÊÊ" #
Add
ÊÊ# &
(
ÊÊ& '
	DbFactory
ÊÊ' 0
.
ÊÊ0 1

GetDbParam
ÊÊ1 ;
(
ÊÊ; <
$str
ÊÊ< H
,
ÊÊH I
DbType
ÊÊJ P
.
ÊÊP Q
Int32
ÊÊQ V
,
ÊÊV W
userId
ÊÊX ^
)
ÊÊ^ _
)
ÊÊ_ `
;
ÊÊ` a
cmd
ÁÁ 
.
ÁÁ 

Parameters
ÁÁ "
.
ÁÁ" #
Add
ÁÁ# &
(
ÁÁ& '
	DbFactory
ÁÁ' 0
.
ÁÁ0 1

GetDbParam
ÁÁ1 ;
(
ÁÁ; <
$str
ÁÁ< P
,
ÁÁP Q
DbType
ÁÁR X
.
ÁÁX Y
DateTime
ÁÁY a
,
ÁÁa b
offervalidTill
ÁÁc q
)
ÁÁq r
)
ÁÁr s
;
ÁÁs t
cmd
ËË 
.
ËË 

Parameters
ËË "
.
ËË" #
Add
ËË# &
(
ËË& '
	DbFactory
ËË' 0
.
ËË0 1

GetDbParam
ËË1 ;
(
ËË; <
$str
ËË< O
,
ËËO P
DbType
ËËQ W
.
ËËW X
Boolean
ËËX _
,
ËË_ `
isPriceImpact
ËËa n
)
ËËn o
)
ËËo p
;
ËËp q
cmd
ÈÈ 
.
ÈÈ 

Parameters
ÈÈ "
.
ÈÈ" #
Add
ÈÈ# &
(
ÈÈ& '
	DbFactory
ÈÈ' 0
.
ÈÈ0 1

GetDbParam
ÈÈ1 ;
(
ÈÈ; <
$str
ÈÈ< J
,
ÈÈJ K
DbType
ÈÈL R
.
ÈÈR S
Boolean
ÈÈS Z
,
ÈÈZ [
Convert
ÈÈ\ c
.
ÈÈc d
DBNull
ÈÈd j
)
ÈÈj k
)
ÈÈk l
;
ÈÈl m
cmd
ÍÍ 
.
ÍÍ 

Parameters
ÍÍ "
.
ÍÍ" #
Add
ÍÍ# &
(
ÍÍ& '
	DbFactory
ÍÍ' 0
.
ÍÍ0 1

GetDbParam
ÍÍ1 ;
(
ÍÍ; <
$str
ÍÍ< H
,
ÍÍH I
DbType
ÍÍJ P
.
ÍÍP Q
Byte
ÍÍQ U
,
ÍÍU V 
ParameterDirection
ÍÍW i
.
ÍÍi j
Output
ÍÍj p
)
ÍÍp q
)
ÍÍq r
;
ÍÍr s
cmd
ÎÎ 
.
ÎÎ 

Parameters
ÎÎ "
.
ÎÎ" #
Add
ÎÎ# &
(
ÎÎ& '
	DbFactory
ÎÎ' 0
.
ÎÎ0 1

GetDbParam
ÎÎ1 ;
(
ÎÎ; <
$str
ÎÎ< G
,
ÎÎG H
DbType
ÎÎI O
.
ÎÎO P
String
ÎÎP V
,
ÎÎV W
-
ÎÎX Y
$num
ÎÎY Z
,
ÎÎZ [
terms
ÎÎ\ a
)
ÎÎa b
)
ÎÎb c
;
ÎÎc d
MySqlDatabase
ÌÌ !
.
ÌÌ! "
InsertQuery
ÌÌ" -
(
ÌÌ- .
cmd
ÌÌ. 1
,
ÌÌ1 2
ConnectionType
ÌÌ3 A
.
ÌÌA B
MasterDatabase
ÌÌB P
)
ÌÌP Q
;
ÌÌQ R
	isSuccess
ÓÓ 
=
ÓÓ 
Convert
ÓÓ  '
.
ÓÓ' (
	ToBoolean
ÓÓ( 1
(
ÓÓ1 2
cmd
ÓÓ2 5
.
ÓÓ5 6

Parameters
ÓÓ6 @
[
ÓÓ@ A
$str
ÓÓA M
]
ÓÓM N
.
ÓÓN O
Value
ÓÓO T
)
ÓÓT U
;
ÓÓU V
}
 
}
ÒÒ 
catch
ÚÚ 
(
ÚÚ 
	Exception
ÚÚ 
ex
ÚÚ 
)
ÚÚ  
{
ÛÛ 
HttpContext
ÙÙ 
.
ÙÙ 
Current
ÙÙ #
.
ÙÙ# $
Trace
ÙÙ$ )
.
ÙÙ) *
Warn
ÙÙ* .
(
ÙÙ. /
$str
ÙÙ/ F
+
ÙÙG H
ex
ÙÙI K
.
ÙÙK L
Message
ÙÙL S
+
ÙÙT U
ex
ÙÙV X
.
ÙÙX Y
Source
ÙÙY _
)
ÙÙ_ `
;
ÙÙ` a

ErrorClass
ıı 
objErr
ıı !
=
ıı" #
new
ıı$ '

ErrorClass
ıı( 2
(
ıı2 3
ex
ıı3 5
,
ıı5 6
HttpContext
ıı7 B
.
ııB C
Current
ııC J
.
ııJ K
Request
ııK R
.
ııR S
ServerVariables
ııS b
[
ııb c
$str
ııc h
]
ııh i
)
ııi j
;
ııj k
objErr
ˆˆ 
.
ˆˆ 
SendMail
ˆˆ 
(
ˆˆ  
)
ˆˆ  !
;
ˆˆ! "
}
˜˜ 
return
¯¯ 
	isSuccess
¯¯ 
;
¯¯ 
}
˘˘ 	
public
àà 
bool
àà $
UpdateDealerBikeOffers
àà *
(
àà* + 
DealerOffersEntity
àà+ =
dealerOffers
àà> J
)
ààJ K
{
ââ 	
bool
ää 
	isUpdated
ää 
=
ää 
false
ää "
;
ää" #
try
åå 
{
çç 
using
éé 
(
éé 
	DbCommand
éé  
cmd
éé! $
=
éé% &
	DbFactory
éé' 0
.
éé0 1
GetDBCommand
éé1 =
(
éé= >
$str
éé> ^
)
éé^ _
)
éé_ `
{
èè 
cmd
êê 
.
êê 
CommandType
êê #
=
êê$ %
CommandType
êê& 1
.
êê1 2
StoredProcedure
êê2 A
;
êêA B
cmd
íí 
.
íí 

Parameters
íí "
.
íí" #
Add
íí# &
(
íí& '
	DbFactory
íí' 0
.
íí0 1

GetDbParam
íí1 ;
(
íí; <
$str
íí< I
,
ííI J
DbType
ííK Q
.
ííQ R
Int32
ííR W
,
ííW X
dealerOffers
ííY e
.
ííe f
OfferId
ííf m
)
íím n
)
íín o
;
íío p
cmd
ìì 
.
ìì 

Parameters
ìì "
.
ìì" #
Add
ìì# &
(
ìì& '
	DbFactory
ìì' 0
.
ìì0 1

GetDbParam
ìì1 ;
(
ìì; <
$str
ìì< H
,
ììH I
DbType
ììJ P
.
ììP Q
Int64
ììQ V
,
ììV W
dealerOffers
ììX d
.
ììd e
UserId
ììe k
)
ììk l
)
ììl m
;
ììm n
cmd
îî 
.
îî 

Parameters
îî "
.
îî" #
Add
îî# &
(
îî& '
	DbFactory
îî' 0
.
îî0 1

GetDbParam
îî1 ;
(
îî; <
$str
îî< Q
,
îîQ R
DbType
îîS Y
.
îîY Z
Int32
îîZ _
,
îî_ `
dealerOffers
îîa m
.
îîm n
OfferCategoryId
îîn }
)
îî} ~
)
îî~ 
;îî Ä
cmd
ïï 
.
ïï 

Parameters
ïï "
.
ïï" #
Add
ïï# &
(
ïï& '
	DbFactory
ïï' 0
.
ïï0 1

GetDbParam
ïï1 ;
(
ïï; <
$str
ïï< K
,
ïïK L
DbType
ïïM S
.
ïïS T
String
ïïT Z
,
ïïZ [
dealerOffers
ïï\ h
.
ïïh i
	OfferText
ïïi r
)
ïïr s
)
ïïs t
;
ïït u
cmd
ññ 
.
ññ 

Parameters
ññ "
.
ññ" #
Add
ññ# &
(
ññ& '
	DbFactory
ññ' 0
.
ññ0 1

GetDbParam
ññ1 ;
(
ññ; <
$str
ññ< L
,
ññL M
DbType
ññN T
.
ññT U
Int32
ññU Z
,
ññZ [
dealerOffers
ññ\ h
.
ññh i

OfferValue
ññi s
)
ññs t
)
ññt u
;
ññu v
cmd
óó 
.
óó 

Parameters
óó "
.
óó" #
Add
óó# &
(
óó& '
	DbFactory
óó' 0
.
óó0 1

GetDbParam
óó1 ;
(
óó; <
$str
óó< P
,
óóP Q
DbType
óóR X
.
óóX Y
DateTime
óóY a
,
óóa b
dealerOffers
óóc o
.
óóo p
OfferValidTill
óóp ~
)
óó~ 
)óó Ä
;óóÄ Å
cmd
òò 
.
òò 

Parameters
òò "
.
òò" #
Add
òò# &
(
òò& '
	DbFactory
òò' 0
.
òò0 1

GetDbParam
òò1 ;
(
òò; <
$str
òò< O
,
òòO P
DbType
òòQ W
.
òòW X
Boolean
òòX _
,
òò_ `
dealerOffers
òòa m
.
òòm n
IsPriceImpact
òòn {
)
òò{ |
)
òò| }
;
òò} ~
cmd
ôô 
.
ôô 

Parameters
ôô "
.
ôô" #
Add
ôô# &
(
ôô& '
	DbFactory
ôô' 0
.
ôô0 1

GetDbParam
ôô1 ;
(
ôô; <
$str
ôô< G
,
ôôG H
DbType
ôôI O
.
ôôO P
String
ôôP V
,
ôôV W
dealerOffers
ôôX d
.
ôôd e
Terms
ôôe j
)
ôôj k
)
ôôk l
;
ôôl m
MySqlDatabase
öö !
.
öö! "
UpdateQuery
öö" -
(
öö- .
cmd
öö. 1
,
öö1 2
ConnectionType
öö3 A
.
ööA B
MasterDatabase
ööB P
)
ööP Q
;
ööQ R
	isUpdated
õõ 
=
õõ 
true
õõ  $
;
õõ$ %
}
ùù 
}
ûû 
catch
üü 
(
üü 
	Exception
üü 
ex
üü 
)
üü  
{
†† 
HttpContext
°° 
.
°° 
Current
°° #
.
°°# $
Trace
°°$ )
.
°°) *
Warn
°°* .
(
°°. /
$str
°°/ W
+
°°X Y
ex
°°Z \
.
°°\ ]
Message
°°] d
+
°°e f
ex
°°g i
.
°°i j
Source
°°j p
)
°°p q
;
°°q r

ErrorClass
¢¢ 
objErr
¢¢ !
=
¢¢" #
new
¢¢$ '

ErrorClass
¢¢( 2
(
¢¢2 3
ex
¢¢3 5
,
¢¢5 6
HttpContext
¢¢7 B
.
¢¢B C
Current
¢¢C J
.
¢¢J K
Request
¢¢K R
.
¢¢R S
ServerVariables
¢¢S b
[
¢¢b c
$str
¢¢c h
]
¢¢h i
)
¢¢i j
;
¢¢j k
objErr
££ 
.
££ 
SendMail
££ 
(
££  
)
££  !
;
££! "
}
§§ 
return
•• 
	isUpdated
•• 
;
•• 
}
¶¶ 	
public
ØØ 
bool
ØØ 
DeleteDealerOffer
ØØ %
(
ØØ% &
string
ØØ& ,
offerId
ØØ- 4
)
ØØ4 5
{
∞∞ 	
bool
±± 
isdeleteSuccess
±±  
=
±±! "
true
±±# '
;
±±' (
try
≤≤ 
{
≥≥ 
using
¥¥ 
(
¥¥ 
	DbCommand
¥¥  
cmd
¥¥! $
=
¥¥% &
	DbFactory
¥¥' 0
.
¥¥0 1
GetDBCommand
¥¥1 =
(
¥¥= >
$str
¥¥> U
)
¥¥U V
)
¥¥V W
{
µµ 
cmd
∂∂ 
.
∂∂ 
CommandType
∂∂ #
=
∂∂$ %
CommandType
∂∂& 1
.
∂∂1 2
StoredProcedure
∂∂2 A
;
∂∂A B
cmd
∑∑ 
.
∑∑ 

Parameters
∑∑ "
.
∑∑" #
Add
∑∑# &
(
∑∑& '
	DbFactory
∑∑' 0
.
∑∑0 1

GetDbParam
∑∑1 ;
(
∑∑; <
$str
∑∑< J
,
∑∑J K
DbType
∑∑L R
.
∑∑R S
String
∑∑S Y
,
∑∑Y Z
-
∑∑[ \
$num
∑∑\ ]
,
∑∑] ^
offerId
∑∑_ f
)
∑∑f g
)
∑∑g h
;
∑∑h i
MySqlDatabase
∏∏ !
.
∏∏! "
UpdateQuery
∏∏" -
(
∏∏- .
cmd
∏∏. 1
,
∏∏1 2
ConnectionType
∏∏3 A
.
∏∏A B
MasterDatabase
∏∏B P
)
∏∏P Q
;
∏∏Q R
}
ππ 
}
∫∫ 
catch
ªª 
(
ªª 
	Exception
ªª 
ex
ªª 
)
ªª  
{
ºº 
HttpContext
ΩΩ 
.
ΩΩ 
Current
ΩΩ #
.
ΩΩ# $
Trace
ΩΩ$ )
.
ΩΩ) *
Warn
ΩΩ* .
(
ΩΩ. /
$str
ΩΩ/ H
+
ΩΩI J
ex
ΩΩK M
.
ΩΩM N
Message
ΩΩN U
+
ΩΩV W
ex
ΩΩX Z
.
ΩΩZ [
Source
ΩΩ[ a
)
ΩΩa b
;
ΩΩb c

ErrorClass
ææ 
objErr
ææ !
=
ææ" #
new
ææ$ '

ErrorClass
ææ( 2
(
ææ2 3
ex
ææ3 5
,
ææ5 6
HttpContext
ææ7 B
.
ææB C
Current
ææC J
.
ææJ K
Request
ææK R
.
ææR S
ServerVariables
ææS b
[
ææb c
$str
ææc h
]
ææh i
)
ææi j
;
ææj k
objErr
øø 
.
øø 
SendMail
øø 
(
øø  
)
øø  !
;
øø! "
}
¿¿ 
return
¡¡ 
isdeleteSuccess
¡¡ "
;
¡¡" #
}
¬¬ 	
public
ŒŒ 
bool
ŒŒ "
SaveBikeAvailability
ŒŒ (
(
ŒŒ( )
uint
ŒŒ) -
dealerId
ŒŒ. 6
,
ŒŒ6 7
uint
ŒŒ8 <
bikemodelId
ŒŒ= H
,
ŒŒH I
uint
ŒŒJ N
?
ŒŒN O
bikeversionId
ŒŒP ]
,
ŒŒ] ^
UInt16
ŒŒ_ e
	numOfDays
ŒŒf o
)
ŒŒo p
{
œœ 	
bool
—— 
	isSuccess
—— 
=
—— 
false
—— "
;
——" #
try
”” 
{
‘‘ 
using
’’ 
(
’’ 
	DbCommand
’’  
cmd
’’! $
=
’’% &
	DbFactory
’’' 0
.
’’0 1
GetDBCommand
’’1 =
(
’’= >
$str
’’> W
)
’’W X
)
’’X Y
{
÷÷ 
cmd
ÿÿ 
.
ÿÿ 
CommandType
ÿÿ #
=
ÿÿ$ %
CommandType
ÿÿ& 1
.
ÿÿ1 2
StoredProcedure
ÿÿ2 A
;
ÿÿA B
cmd
ŸŸ 
.
ŸŸ 

Parameters
ŸŸ "
.
ŸŸ" #
Add
ŸŸ# &
(
ŸŸ& '
	DbFactory
ŸŸ' 0
.
ŸŸ0 1

GetDbParam
ŸŸ1 ;
(
ŸŸ; <
$str
ŸŸ< J
,
ŸŸJ K
DbType
ŸŸL R
.
ŸŸR S
Int32
ŸŸS X
,
ŸŸX Y
dealerId
ŸŸZ b
)
ŸŸb c
)
ŸŸc d
;
ŸŸd e
cmd
⁄⁄ 
.
⁄⁄ 

Parameters
⁄⁄ "
.
⁄⁄" #
Add
⁄⁄# &
(
⁄⁄& '
	DbFactory
⁄⁄' 0
.
⁄⁄0 1

GetDbParam
⁄⁄1 ;
(
⁄⁄; <
$str
⁄⁄< O
,
⁄⁄O P
DbType
⁄⁄Q W
.
⁄⁄W X
Int32
⁄⁄X ]
,
⁄⁄] ^
bikeversionId
⁄⁄_ l
>
⁄⁄m n
$num
⁄⁄o p
?
⁄⁄q r
bikeversionId⁄⁄s Ä
:⁄⁄Å Ç
Convert⁄⁄É ä
.⁄⁄ä ã
DBNull⁄⁄ã ë
)⁄⁄ë í
)⁄⁄í ì
;⁄⁄ì î
cmd
€€ 
.
€€ 

Parameters
€€ "
.
€€" #
Add
€€# &
(
€€& '
	DbFactory
€€' 0
.
€€0 1

GetDbParam
€€1 ;
(
€€; <
$str
€€< K
,
€€K L
DbType
€€M S
.
€€S T
Int32
€€T Y
,
€€Y Z
	numOfDays
€€[ d
)
€€d e
)
€€e f
;
€€f g
if
ﬁﬁ 
(
ﬁﬁ 
MySqlDatabase
ﬁﬁ %
.
ﬁﬁ% &
InsertQuery
ﬁﬁ& 1
(
ﬁﬁ1 2
cmd
ﬁﬁ2 5
,
ﬁﬁ5 6
ConnectionType
ﬁﬁ7 E
.
ﬁﬁE F
MasterDatabase
ﬁﬁF T
)
ﬁﬁT U
)
ﬁﬁU V
	isSuccess
ﬂﬂ !
=
ﬂﬂ" #
true
ﬂﬂ$ (
;
ﬂﬂ( )
}
‡‡ 
}
·· 
catch
‚‚ 
(
‚‚ 
	Exception
‚‚ 
ex
‚‚ 
)
‚‚  
{
„„ 
HttpContext
‰‰ 
.
‰‰ 
Current
‰‰ #
.
‰‰# $
Trace
‰‰$ )
.
‰‰) *
Warn
‰‰* .
(
‰‰. /
$str
‰‰/ K
+
‰‰L M
ex
‰‰N P
.
‰‰P Q
Message
‰‰Q X
+
‰‰Y Z
ex
‰‰[ ]
.
‰‰] ^
Source
‰‰^ d
)
‰‰d e
;
‰‰e f

ErrorClass
ÂÂ 
objErr
ÂÂ !
=
ÂÂ" #
new
ÂÂ$ '

ErrorClass
ÂÂ( 2
(
ÂÂ2 3
ex
ÂÂ3 5
,
ÂÂ5 6
HttpContext
ÂÂ7 B
.
ÂÂB C
Current
ÂÂC J
.
ÂÂJ K
Request
ÂÂK R
.
ÂÂR S
ServerVariables
ÂÂS b
[
ÂÂb c
$str
ÂÂc h
]
ÂÂh i
)
ÂÂi j
;
ÂÂj k
objErr
ÊÊ 
.
ÊÊ 
SendMail
ÊÊ 
(
ÊÊ  
)
ÊÊ  !
;
ÊÊ! "
}
ÁÁ 
return
ËË 
	isSuccess
ËË 
;
ËË 
}
ÈÈ 	
public
ÚÚ 
bool
ÚÚ %
SaveVersionAvailability
ÚÚ +
(
ÚÚ+ ,
uint
ÚÚ, 0
dealerId
ÚÚ1 9
,
ÚÚ9 :
string
ÚÚ; A
bikeVersionIds
ÚÚB P
,
ÚÚP Q
string
ÚÚR X
numberOfDays
ÚÚY e
)
ÚÚe f
{
ÛÛ 	
bool
ÙÙ 
isSaved
ÙÙ 
=
ÙÙ 
false
ÙÙ  
;
ÙÙ  !
try
ıı 
{
ˆˆ 
using
˜˜ 
(
˜˜ 
IDbConnection
˜˜ $

connection
˜˜% /
=
˜˜0 1
DatabaseHelper
˜˜2 @
.
˜˜@ A!
GetMasterConnection
˜˜A T
(
˜˜T U
)
˜˜U V
)
˜˜V W
{
¯¯ 

connection
˘˘ 
.
˘˘ 
Open
˘˘ #
(
˘˘# $
)
˘˘$ %
;
˘˘% &
var
˚˚ 
param
˚˚ 
=
˚˚ 
new
˚˚  #
DynamicParameters
˚˚$ 5
(
˚˚5 6
)
˚˚6 7
;
˚˚7 8
param
¸¸ 
.
¸¸ 
Add
¸¸ 
(
¸¸ 
$str
¸¸ ,
,
¸¸, -
dealerId
¸¸. 6
)
¸¸6 7
;
¸¸7 8
param
˝˝ 
.
˝˝ 
Add
˝˝ 
(
˝˝ 
$str
˝˝ 2
,
˝˝2 3
bikeVersionIds
˝˝4 B
)
˝˝B C
;
˝˝C D
param
˛˛ 
.
˛˛ 
Add
˛˛ 
(
˛˛ 
$str
˛˛ -
,
˛˛- .
numberOfDays
˛˛/ ;
)
˛˛; <
;
˛˛< =

connection
ÄÄ 
.
ÄÄ 
Execute
ÄÄ &
(
ÄÄ& '
$str
ÄÄ' I
,
ÄÄI J
param
ÄÄK P
:
ÄÄP Q
param
ÄÄR W
,
ÄÄW X
commandType
ÄÄY d
:
ÄÄd e
CommandType
ÄÄf q
.
ÄÄq r
StoredProcedureÄÄr Å
)ÄÄÅ Ç
;ÄÄÇ É
isSaved
ÅÅ 
=
ÅÅ 
true
ÅÅ "
;
ÅÅ" #
}
ÇÇ 
}
ÉÉ 
catch
ÑÑ 
(
ÑÑ 
	Exception
ÑÑ 
ex
ÑÑ 
)
ÑÑ  
{
ÖÖ 

ErrorClass
ÜÜ 
objErr
ÜÜ !
=
ÜÜ" #
new
ÜÜ$ '

ErrorClass
ÜÜ( 2
(
ÜÜ2 3
ex
ÜÜ3 5
,
ÜÜ5 6
string
ÜÜ7 =
.
ÜÜ= >
Format
ÜÜ> D
(
ÜÜD E
$str
áá ]
,
áá] ^
dealerId
áá_ g
,
áág h
bikeVersionIds
áái w
,
ááw x
numberOfDaysááy Ö
)ááÖ Ü
)ááÜ á
;ááá à
}
àà 
return
ää 
isSaved
ää 
;
ää 
}
ãã 	
public
ìì 
bool
ìì '
DeleteVersionAvailability
ìì -
(
ìì- .
uint
ìì. 2
dealerId
ìì3 ;
,
ìì; <
string
ìì= C
bikeVersionId
ììD Q
)
ììQ R
{
îî 	
bool
ïï 
	isDeleted
ïï 
=
ïï 
false
ïï "
;
ïï" #
try
ññ 
{
óó 
using
òò 
(
òò 
IDbConnection
òò $

connection
òò% /
=
òò0 1
DatabaseHelper
òò2 @
.
òò@ A!
GetMasterConnection
òòA T
(
òòT U
)
òòU V
)
òòV W
{
ôô 

connection
öö 
.
öö 
Open
öö #
(
öö# $
)
öö$ %
;
öö% &
var
úú 
param
úú 
=
úú 
new
úú  #
DynamicParameters
úú$ 5
(
úú5 6
)
úú6 7
;
úú7 8
param
ùù 
.
ùù 
Add
ùù 
(
ùù 
$str
ùù ,
,
ùù, -
dealerId
ùù. 6
)
ùù6 7
;
ùù7 8
param
ûû 
.
ûû 
Add
ûû 
(
ûû 
$str
ûû 2
,
ûû2 3
bikeVersionId
ûû4 A
)
ûûA B
;
ûûB C

connection
†† 
.
†† 
Execute
†† &
(
††& '
$str
††' K
,
††K L
param
††M R
:
††R S
param
††T Y
,
††Y Z
commandType
††[ f
:
††f g
CommandType
††h s
.
††s t
StoredProcedure††t É
)††É Ñ
;††Ñ Ö
	isDeleted
°° 
=
°° 
true
°°  $
;
°°$ %
}
¢¢ 
}
££ 
catch
§§ 
(
§§ 
	Exception
§§ 
ex
§§ 
)
§§  
{
•• 

ErrorClass
¶¶ 
objErr
¶¶ !
=
¶¶" #
new
¶¶$ '

ErrorClass
¶¶( 2
(
¶¶2 3
ex
¶¶3 5
,
¶¶5 6
string
¶¶7 =
.
¶¶= >
Format
¶¶> D
(
¶¶D E
$str
ßß N
,
ßßN O
dealerId
ßßP X
,
ßßX Y
bikeVersionId
ßßZ g
)
ßßg h
)
ßßh i
;
ßßi j
}
®® 
return
™™ 
	isDeleted
™™ 
;
™™ 
}
´´ 	
public
¥¥ 
List
¥¥ 
<
¥¥ 
OfferEntity
¥¥ 
>
¥¥  !
GetBikeAvailability
¥¥! 4
(
¥¥4 5
uint
¥¥5 9
dealerId
¥¥: B
)
¥¥B C
{
µµ 	
List
∑∑ 
<
∑∑ 
OfferEntity
∑∑ 
>
∑∑ 
objAvailabilities
∑∑ /
=
∑∑0 1
null
∑∑2 6
;
∑∑6 7
try
ππ 
{
∫∫ 
using
ªª 
(
ªª 
	DbCommand
ªª  
cmd
ªª! $
=
ªª% &
	DbFactory
ªª' 0
.
ªª0 1
GetDBCommand
ªª1 =
(
ªª= >
$str
ªª> W
)
ªªW X
)
ªªX Y
{
ºº 
cmd
ææ 
.
ææ 
CommandType
ææ #
=
ææ$ %
CommandType
ææ& 1
.
ææ1 2
StoredProcedure
ææ2 A
;
ææA B
cmd
øø 
.
øø 

Parameters
øø "
.
øø" #
Add
øø# &
(
øø& '
	DbFactory
øø' 0
.
øø0 1

GetDbParam
øø1 ;
(
øø; <
$str
øø< J
,
øøJ K
DbType
øøL R
.
øøR S
Int32
øøS X
,
øøX Y
dealerId
øøZ b
)
øøb c
)
øøc d
;
øød e
using
¡¡ 
(
¡¡ 
IDataReader
¡¡ &
dr
¡¡' )
=
¡¡* +
MySqlDatabase
¡¡, 9
.
¡¡9 :
SelectQuery
¡¡: E
(
¡¡E F
cmd
¡¡F I
,
¡¡I J
ConnectionType
¡¡K Y
.
¡¡Y Z
ReadOnly
¡¡Z b
)
¡¡b c
)
¡¡c d
{
¬¬ 
if
√√ 
(
√√ 
dr
√√ 
!=
√√ !
null
√√" &
)
√√& '
{
ƒƒ 
objAvailabilities
≈≈ -
=
≈≈. /
new
≈≈0 3
List
≈≈4 8
<
≈≈8 9
OfferEntity
≈≈9 D
>
≈≈D E
(
≈≈E F
)
≈≈F G
;
≈≈G H
OfferEntity
«« '
objAvailability
««( 7
=
««8 9
null
««: >
;
««> ?
while
   !
(
  " #
dr
  # %
.
  % &
Read
  & *
(
  * +
)
  + ,
)
  , -
{
ÀÀ 
objAvailability
ÃÃ  /
=
ÃÃ0 1
new
ÃÃ2 5
OfferEntity
ÃÃ6 A
(
ÃÃA B
)
ÃÃB C
;
ÃÃC D
objAvailability
ÕÕ  /
.
ÕÕ/ 0
AvailabilityId
ÕÕ0 >
=
ÕÕ? @
Convert
ÕÕA H
.
ÕÕH I
ToInt32
ÕÕI P
(
ÕÕP Q
dr
ÕÕQ S
[
ÕÕS T
$str
ÕÕT X
]
ÕÕX Y
)
ÕÕY Z
;
ÕÕZ [
objAvailability
ŒŒ  /
.
ŒŒ/ 0
objMake
ŒŒ0 7
=
ŒŒ8 9
new
ŒŒ: = 
BikeMakeEntityBase
ŒŒ> P
(
ŒŒP Q
)
ŒŒQ R
{
ŒŒS T
MakeName
ŒŒU ]
=
ŒŒ^ _
dr
ŒŒ` b
[
ŒŒb c
$str
ŒŒc i
]
ŒŒi j
.
ŒŒj k
ToString
ŒŒk s
(
ŒŒs t
)
ŒŒt u
}
ŒŒv w
;
ŒŒw x
objAvailability
œœ  /
.
œœ/ 0
objModel
œœ0 8
=
œœ9 :
new
œœ; >!
BikeModelEntityBase
œœ? R
(
œœR S
)
œœS T
{
œœU V
	ModelName
œœW `
=
œœa b
dr
œœc e
[
œœe f
$str
œœf m
]
œœm n
.
œœn o
ToString
œœo w
(
œœw x
)
œœx y
}
œœz {
;
œœ{ |
objAvailability
––  /
.
––/ 0

objVersion
––0 :
=
––; <
new
––= @#
BikeVersionEntityBase
––A V
(
––V W
)
––W X
{
––Y Z
VersionName
––[ f
=
––g h
dr
––i k
[
––k l
$str
––l u
]
––u v
.
––v w
ToString
––w 
(–– Ä
)––Ä Å
}––Ç É
;––É Ñ
objAvailability
——  /
.
——/ 0
AvailableLimit
——0 >
=
——? @
Convert
——A H
.
——H I
ToUInt16
——I Q
(
——Q R
dr
——R T
[
——T U
$str
——U e
]
——e f
)
——f g
;
——g h
objAvailabilities
””  1
.
””1 2
Add
””2 5
(
””5 6
objAvailability
””6 E
)
””E F
;
””F G
}
‘‘ 
}
’’ 
}
÷÷ 
}
ÿÿ 
}
ŸŸ 
catch
⁄⁄ 
(
⁄⁄ 
	Exception
⁄⁄ 
ex
⁄⁄ 
)
⁄⁄  
{
€€ 
HttpContext
‹‹ 
.
‹‹ 
Current
‹‹ #
.
‹‹# $
Trace
‹‹$ )
.
‹‹) *
Warn
‹‹* .
(
‹‹. /
$str
‹‹/ J
+
‹‹K L
ex
‹‹M O
.
‹‹O P
Message
‹‹P W
+
‹‹X Y
ex
‹‹Z \
.
‹‹\ ]
Source
‹‹] c
)
‹‹c d
;
‹‹d e

ErrorClass
›› 
objErr
›› !
=
››" #
new
››$ '

ErrorClass
››( 2
(
››2 3
ex
››3 5
,
››5 6
HttpContext
››7 B
.
››B C
Current
››C J
.
››J K
Request
››K R
.
››R S
ServerVariables
››S b
[
››b c
$str
››c h
]
››h i
)
››i j
;
››j k
objErr
ﬁﬁ 
.
ﬁﬁ 
SendMail
ﬁﬁ 
(
ﬁﬁ  
)
ﬁﬁ  !
;
ﬁﬁ! "
}
ﬂﬂ 
return
·· 
objAvailabilities
·· $
;
··$ %
}
‚‚ 	
public
ÏÏ 
bool
ÏÏ "
EditAvailabilityDays
ÏÏ (
(
ÏÏ( )
int
ÏÏ) ,
availabilityId
ÏÏ- ;
,
ÏÏ; <
int
ÏÏ= @
days
ÏÏA E
)
ÏÏE F
{
ÌÌ 	
try
ÔÔ 
{
 
using
ÒÒ 
(
ÒÒ 
	DbCommand
ÒÒ  
cmd
ÒÒ! $
=
ÒÒ% &
	DbFactory
ÒÒ' 0
.
ÒÒ0 1
GetDBCommand
ÒÒ1 =
(
ÒÒ= >
$str
ÒÒ> _
)
ÒÒ_ `
)
ÒÒ` a
{
ÚÚ 
cmd
ÙÙ 
.
ÙÙ 
CommandType
ÙÙ #
=
ÙÙ$ %
CommandType
ÙÙ& 1
.
ÙÙ1 2
StoredProcedure
ÙÙ2 A
;
ÙÙA B
cmd
ıı 
.
ıı 

Parameters
ıı "
.
ıı" #
Add
ıı# &
(
ıı& '
	DbFactory
ıı' 0
.
ıı0 1

GetDbParam
ıı1 ;
(
ıı; <
$str
ıı< P
,
ııP Q
DbType
ııR X
.
ııX Y
Int32
ııY ^
,
ıı^ _
availabilityId
ıı` n
)
ıın o
)
ııo p
;
ııp q
cmd
ˆˆ 
.
ˆˆ 

Parameters
ˆˆ "
.
ˆˆ" #
Add
ˆˆ# &
(
ˆˆ& '
	DbFactory
ˆˆ' 0
.
ˆˆ0 1

GetDbParam
ˆˆ1 ;
(
ˆˆ; <
$str
ˆˆ< F
,
ˆˆF G
DbType
ˆˆH N
.
ˆˆN O
Int32
ˆˆO T
,
ˆˆT U
days
ˆˆV Z
)
ˆˆZ [
)
ˆˆ[ \
;
ˆˆ\ ]
return
¯¯ 
(
¯¯ 
MySqlDatabase
¯¯ )
.
¯¯) *
UpdateQuery
¯¯* 5
(
¯¯5 6
cmd
¯¯6 9
,
¯¯9 :
ConnectionType
¯¯; I
.
¯¯I J
MasterDatabase
¯¯J X
)
¯¯X Y
)
¯¯Y Z
;
¯¯Z [
}
˘˘ 
}
˙˙ 
catch
¸¸ 
(
¸¸ 
	Exception
¸¸ 
ex
¸¸ 
)
¸¸  
{
˝˝ 
HttpContext
˛˛ 
.
˛˛ 
Current
˛˛ #
.
˛˛# $
Trace
˛˛$ )
.
˛˛) *
Warn
˛˛* .
(
˛˛. /
$str
˛˛/ K
+
˛˛L M
ex
˛˛N P
.
˛˛P Q
Message
˛˛Q X
+
˛˛Y Z
ex
˛˛[ ]
.
˛˛] ^
Source
˛˛^ d
)
˛˛d e
;
˛˛e f

ErrorClass
ˇˇ 
objErr
ˇˇ !
=
ˇˇ" #
new
ˇˇ$ '

ErrorClass
ˇˇ( 2
(
ˇˇ2 3
ex
ˇˇ3 5
,
ˇˇ5 6
HttpContext
ˇˇ7 B
.
ˇˇB C
Current
ˇˇC J
.
ˇˇJ K
Request
ˇˇK R
.
ˇˇR S
ServerVariables
ˇˇS b
[
ˇˇb c
$str
ˇˇc h
]
ˇˇh i
)
ˇˇi j
;
ˇˇj k
objErr
ÄÄ 
.
ÄÄ 
SendMail
ÄÄ 
(
ÄÄ  
)
ÄÄ  !
;
ÄÄ! "
}
ÅÅ 
return
ÇÇ 
false
ÇÇ 
;
ÇÇ 
}
ÉÉ 	
public
åå 
uint
åå !
GetAvailabilityDays
åå '
(
åå' (
uint
åå( ,
dealerId
åå- 5
,
åå5 6
uint
åå7 ;
	versionId
åå< E
)
ååE F
{
çç 	
uint
èè 
	numOfDays
èè 
=
èè 
$num
èè 
;
èè 
try
ëë 
{
íí 
using
ìì 
(
ìì 
	DbCommand
ìì  
cmd
ìì! $
=
ìì% &
	DbFactory
ìì' 0
.
ìì0 1
GetDBCommand
ìì1 =
(
ìì= >
$str
ìì> V
)
ììV W
)
ììW X
{
îî 
cmd
ññ 
.
ññ 
CommandType
ññ #
=
ññ$ %
CommandType
ññ& 1
.
ññ1 2
StoredProcedure
ññ2 A
;
ññA B
cmd
óó 
.
óó 

Parameters
óó "
.
óó" #
Add
óó# &
(
óó& '
	DbFactory
óó' 0
.
óó0 1

GetDbParam
óó1 ;
(
óó; <
$str
óó< J
,
óóJ K
DbType
óóL R
.
óóR S
Int32
óóS X
,
óóX Y
dealerId
óóZ b
)
óób c
)
óóc d
;
óód e
cmd
òò 
.
òò 

Parameters
òò "
.
òò" #
Add
òò# &
(
òò& '
	DbFactory
òò' 0
.
òò0 1

GetDbParam
òò1 ;
(
òò; <
$str
òò< K
,
òòK L
DbType
òòM S
.
òòS T
Int32
òòT Y
,
òòY Z
	versionId
òò[ d
)
òòd e
)
òòe f
;
òòf g
using
öö 
(
öö 
IDataReader
öö &
dr
öö' )
=
öö* +
MySqlDatabase
öö, 9
.
öö9 :
SelectQuery
öö: E
(
ööE F
cmd
ööF I
,
ööI J
ConnectionType
ööK Y
.
ööY Z
ReadOnly
ööZ b
)
ööb c
)
ööc d
{
õõ 
if
úú 
(
úú 
dr
úú 
!=
úú !
null
úú" &
)
úú& '
{
ùù 
if
ûû 
(
ûû  
dr
ûû  "
.
ûû" #
Read
ûû# '
(
ûû' (
)
ûû( )
)
ûû) *
	numOfDays
üü  )
=
üü* +
Convert
üü, 3
.
üü3 4
ToUInt32
üü4 <
(
üü< =
dr
üü= ?
[
üü? @
$str
üü@ K
]
üüK L
)
üüL M
;
üüM N
}
†† 
}
°° 
}
¢¢ 
}
££ 
catch
§§ 
(
§§ 
	Exception
§§ 
ex
§§ 
)
§§  
{
•• 
HttpContext
¶¶ 
.
¶¶ 
Current
¶¶ #
.
¶¶# $
Trace
¶¶$ )
.
¶¶) *
Warn
¶¶* .
(
¶¶. /
$str
¶¶/ J
+
¶¶K L
ex
¶¶M O
.
¶¶O P
Message
¶¶P W
+
¶¶X Y
ex
¶¶Z \
.
¶¶\ ]
Source
¶¶] c
)
¶¶c d
;
¶¶d e

ErrorClass
ßß 
objErr
ßß !
=
ßß" #
new
ßß$ '

ErrorClass
ßß( 2
(
ßß2 3
ex
ßß3 5
,
ßß5 6
HttpContext
ßß7 B
.
ßßB C
Current
ßßC J
.
ßßJ K
Request
ßßK R
.
ßßR S
ServerVariables
ßßS b
[
ßßb c
$str
ßßc h
]
ßßh i
)
ßßi j
;
ßßj k
objErr
®® 
.
®® 
SendMail
®® 
(
®®  
)
®®  !
;
®®! "
}
©© 
return
´´ 
	numOfDays
´´ 
;
´´ 
}
¨¨ 	
public
µµ 
List
µµ 
<
µµ $
DealerDisclaimerEntity
µµ *
>
µµ* +!
GetDealerDisclaimer
µµ, ?
(
µµ? @
uint
µµ@ D
dealerId
µµE M
)
µµM N
{
∂∂ 	
List
∑∑ 
<
∑∑ $
DealerDisclaimerEntity
∑∑ '
>
∑∑' (
objDisclaimer
∑∑) 6
=
∑∑7 8
null
∑∑9 =
;
∑∑= >
try
ππ 
{
∫∫ 
using
ªª 
(
ªª 
	DbCommand
ªª  
cmd
ªª! $
=
ªª% &
	DbFactory
ªª' 0
.
ªª0 1
GetDBCommand
ªª1 =
(
ªª= >
$str
ªª> V
)
ªªV W
)
ªªW X
{
ºº 
cmd
ΩΩ 
.
ΩΩ 
CommandType
ΩΩ #
=
ΩΩ$ %
CommandType
ΩΩ& 1
.
ΩΩ1 2
StoredProcedure
ΩΩ2 A
;
ΩΩA B
cmd
ææ 
.
ææ 

Parameters
ææ "
.
ææ" #
Add
ææ# &
(
ææ& '
	DbFactory
ææ' 0
.
ææ0 1

GetDbParam
ææ1 ;
(
ææ; <
$str
ææ< J
,
ææJ K
DbType
ææL R
.
ææR S
Int32
ææS X
,
ææX Y
dealerId
ææZ b
)
ææb c
)
ææc d
;
ææd e
using
¿¿ 
(
¿¿ 
IDataReader
¿¿ &
dr
¿¿' )
=
¿¿* +
MySqlDatabase
¿¿, 9
.
¿¿9 :
SelectQuery
¿¿: E
(
¿¿E F
cmd
¿¿F I
,
¿¿I J
ConnectionType
¿¿K Y
.
¿¿Y Z
ReadOnly
¿¿Z b
)
¿¿b c
)
¿¿c d
{
¡¡ 
if
¬¬ 
(
¬¬ 
dr
¬¬ 
!=
¬¬ !
null
¬¬" &
)
¬¬& '
{
√√ 
objDisclaimer
ƒƒ )
=
ƒƒ* +
new
ƒƒ, /
List
ƒƒ0 4
<
ƒƒ4 5$
DealerDisclaimerEntity
ƒƒ5 K
>
ƒƒK L
(
ƒƒL M
)
ƒƒM N
;
ƒƒN O$
DealerDisclaimerEntity
∆∆ 2
_objDisclaimer
∆∆3 A
=
∆∆B C
null
∆∆D H
;
∆∆H I
while
…… !
(
……" #
dr
……# %
.
……% &
Read
……& *
(
……* +
)
……+ ,
)
……, -
{
   
_objDisclaimer
ÀÀ  .
=
ÀÀ/ 0
new
ÀÀ1 4$
DealerDisclaimerEntity
ÀÀ5 K
(
ÀÀK L
)
ÀÀL M
;
ÀÀM N
_objDisclaimer
ÃÃ  .
.
ÃÃ. /
DisclaimerId
ÃÃ/ ;
=
ÃÃ< =
Convert
ÃÃ> E
.
ÃÃE F
ToUInt32
ÃÃF N
(
ÃÃN O
dr
ÃÃO Q
[
ÃÃQ R
$str
ÃÃR V
]
ÃÃV W
)
ÃÃW X
;
ÃÃX Y
_objDisclaimer
ÕÕ  .
.
ÕÕ. /
objMake
ÕÕ/ 6
=
ÕÕ7 8
new
ÕÕ9 < 
BikeMakeEntityBase
ÕÕ= O
(
ÕÕO P
)
ÕÕP Q
{
ÕÕR S
MakeName
ÕÕT \
=
ÕÕ] ^
dr
ÕÕ_ a
[
ÕÕa b
$str
ÕÕb h
]
ÕÕh i
.
ÕÕi j
ToString
ÕÕj r
(
ÕÕr s
)
ÕÕs t
}
ÕÕu v
;
ÕÕv w
_objDisclaimer
ŒŒ  .
.
ŒŒ. /
objModel
ŒŒ/ 7
=
ŒŒ8 9
new
ŒŒ: =!
BikeModelEntityBase
ŒŒ> Q
(
ŒŒQ R
)
ŒŒR S
{
ŒŒT U
	ModelName
ŒŒV _
=
ŒŒ` a
dr
ŒŒb d
[
ŒŒd e
$str
ŒŒe l
]
ŒŒl m
.
ŒŒm n
ToString
ŒŒn v
(
ŒŒv w
)
ŒŒw x
}
ŒŒy z
;
ŒŒz {
_objDisclaimer
œœ  .
.
œœ. /

objVersion
œœ/ 9
=
œœ: ;
new
œœ< ?#
BikeVersionEntityBase
œœ@ U
(
œœU V
)
œœV W
{
œœX Y
VersionName
œœZ e
=
œœf g
dr
œœh j
[
œœj k
$str
œœk t
]
œœt u
.
œœu v
ToString
œœv ~
(
œœ~ 
)œœ Ä
}œœÅ Ç
;œœÇ É
_objDisclaimer
––  .
.
––. /
DisclaimerText
––/ =
=
––> ?
dr
––@ B
[
––B C
$str
––C O
]
––O P
.
––P Q
ToString
––Q Y
(
––Y Z
)
––Z [
;
––[ \
objDisclaimer
““  -
.
““- .
Add
““. 1
(
““1 2
_objDisclaimer
““2 @
)
““@ A
;
““A B
}
”” 
}
‘‘ 
}
’’ 
}
◊◊ 
}
ÿÿ 
catch
ŸŸ 
(
ŸŸ 
	Exception
ŸŸ 
ex
ŸŸ 
)
ŸŸ  
{
⁄⁄ 
HttpContext
€€ 
.
€€ 
Current
€€ #
.
€€# $
Trace
€€$ )
.
€€) *
Warn
€€* .
(
€€. /
$str
€€/ T
+
€€U V
ex
€€W Y
.
€€Y Z
Message
€€Z a
+
€€b c
ex
€€d f
.
€€f g
Source
€€g m
)
€€m n
;
€€n o

ErrorClass
‹‹ 
objErr
‹‹ !
=
‹‹" #
new
‹‹$ '

ErrorClass
‹‹( 2
(
‹‹2 3
ex
‹‹3 5
,
‹‹5 6
HttpContext
‹‹7 B
.
‹‹B C
Current
‹‹C J
.
‹‹J K
Request
‹‹K R
.
‹‹R S
ServerVariables
‹‹S b
[
‹‹b c
$str
‹‹c h
]
‹‹h i
)
‹‹i j
;
‹‹j k
objErr
›› 
.
›› 
SendMail
›› 
(
››  
)
››  !
;
››! "
}
ﬁﬁ 
return
ﬂﬂ 
objDisclaimer
ﬂﬂ  
;
ﬂﬂ  !
}
‡‡ 	
public
ÎÎ 
void
ÎÎ "
SaveDealerDisclaimer
ÎÎ (
(
ÎÎ( )
uint
ÎÎ) -
dealerId
ÎÎ. 6
,
ÎÎ6 7
uint
ÎÎ8 <
makeId
ÎÎ= C
,
ÎÎC D
uint
ÎÎE I
?
ÎÎI J
modelId
ÎÎK R
,
ÎÎR S
uint
ÎÎT X
?
ÎÎX Y
	versionId
ÎÎZ c
,
ÎÎc d
string
ÎÎe k

disclaimer
ÎÎl v
)
ÎÎv w
{
ÏÏ 	
try
ÌÌ 
{
ÓÓ 
using
ÔÔ 
(
ÔÔ 
	DbCommand
ÔÔ  
cmd
ÔÔ! $
=
ÔÔ% &
	DbFactory
ÔÔ' 0
.
ÔÔ0 1
GetDBCommand
ÔÔ1 =
(
ÔÔ= >
$str
ÔÔ> W
)
ÔÔW X
)
ÔÔX Y
{
 
cmd
ÒÒ 
.
ÒÒ 
CommandType
ÒÒ #
=
ÒÒ$ %
CommandType
ÒÒ& 1
.
ÒÒ1 2
StoredProcedure
ÒÒ2 A
;
ÒÒA B
cmd
ÚÚ 
.
ÚÚ 

Parameters
ÚÚ "
.
ÚÚ" #
Add
ÚÚ# &
(
ÚÚ& '
	DbFactory
ÚÚ' 0
.
ÚÚ0 1

GetDbParam
ÚÚ1 ;
(
ÚÚ; <
$str
ÚÚ< J
,
ÚÚJ K
DbType
ÚÚL R
.
ÚÚR S
Int32
ÚÚS X
,
ÚÚX Y
dealerId
ÚÚZ b
)
ÚÚb c
)
ÚÚc d
;
ÚÚd e
cmd
ÛÛ 
.
ÛÛ 

Parameters
ÛÛ "
.
ÛÛ" #
Add
ÛÛ# &
(
ÛÛ& '
	DbFactory
ÛÛ' 0
.
ÛÛ0 1

GetDbParam
ÛÛ1 ;
(
ÛÛ; <
$str
ÛÛ< L
,
ÛÛL M
DbType
ÛÛN T
.
ÛÛT U
Int32
ÛÛU Z
,
ÛÛZ [
makeId
ÛÛ\ b
)
ÛÛb c
)
ÛÛc d
;
ÛÛd e
cmd
ÙÙ 
.
ÙÙ 

Parameters
ÙÙ "
.
ÙÙ" #
Add
ÙÙ# &
(
ÙÙ& '
	DbFactory
ÙÙ' 0
.
ÙÙ0 1

GetDbParam
ÙÙ1 ;
(
ÙÙ; <
$str
ÙÙ< M
,
ÙÙM N
DbType
ÙÙO U
.
ÙÙU V
Int32
ÙÙV [
,
ÙÙ[ \
modelId
ÙÙ] d
)
ÙÙd e
)
ÙÙe f
;
ÙÙf g
cmd
ıı 
.
ıı 

Parameters
ıı "
.
ıı" #
Add
ıı# &
(
ıı& '
	DbFactory
ıı' 0
.
ıı0 1

GetDbParam
ıı1 ;
(
ıı; <
$str
ıı< O
,
ııO P
DbType
ııQ W
.
ııW X
Int32
ııX ]
,
ıı] ^
	versionId
ıı_ h
)
ııh i
)
ııi j
;
ııj k
cmd
ˆˆ 
.
ˆˆ 

Parameters
ˆˆ "
.
ˆˆ" #
Add
ˆˆ# &
(
ˆˆ& '
	DbFactory
ˆˆ' 0
.
ˆˆ0 1

GetDbParam
ˆˆ1 ;
(
ˆˆ; <
$str
ˆˆ< L
,
ˆˆL M
DbType
ˆˆN T
.
ˆˆT U
String
ˆˆU [
,
ˆˆ[ \

disclaimer
ˆˆ] g
)
ˆˆg h
)
ˆˆh i
;
ˆˆi j
MySqlDatabase
˜˜ !
.
˜˜! "
InsertQuery
˜˜" -
(
˜˜- .
cmd
˜˜. 1
,
˜˜1 2
ConnectionType
˜˜3 A
.
˜˜A B
MasterDatabase
˜˜B P
)
˜˜P Q
;
˜˜Q R
}
¯¯ 
}
˘˘ 
catch
˙˙ 
(
˙˙ 
	Exception
˙˙ 
ex
˙˙ 
)
˙˙  
{
˚˚ 
HttpContext
¸¸ 
.
¸¸ 
Current
¸¸ #
.
¸¸# $
Trace
¸¸$ )
.
¸¸) *
Warn
¸¸* .
(
¸¸. /
$str
¸¸/ U
+
¸¸V W
ex
¸¸X Z
.
¸¸Z [
Message
¸¸[ b
+
¸¸c d
ex
¸¸e g
.
¸¸g h
Source
¸¸h n
)
¸¸n o
;
¸¸o p

ErrorClass
˝˝ 
objErr
˝˝ !
=
˝˝" #
new
˝˝$ '

ErrorClass
˝˝( 2
(
˝˝2 3
ex
˝˝3 5
,
˝˝5 6
HttpContext
˝˝7 B
.
˝˝B C
Current
˝˝C J
.
˝˝J K
Request
˝˝K R
.
˝˝R S
ServerVariables
˝˝S b
[
˝˝b c
$str
˝˝c h
]
˝˝h i
)
˝˝i j
;
˝˝j k
objErr
˛˛ 
.
˛˛ 
SendMail
˛˛ 
(
˛˛  
)
˛˛  !
;
˛˛! "
}
ˇˇ 
}
ÄÄ 	
public
ââ 
bool
ââ $
DeleteDealerDisclaimer
ââ *
(
ââ* +
uint
ââ+ /
disclaimerId
ââ0 <
)
ââ< =
{
ää 	
try
ãã 
{
åå 
using
çç 
(
çç 
	DbCommand
çç  
cmd
çç! $
=
çç% &
	DbFactory
çç' 0
.
çç0 1
GetDBCommand
çç1 =
(
çç= >
$str
çç> Y
)
ççY Z
)
ççZ [
{
éé 
cmd
èè 
.
èè 
CommandType
èè #
=
èè$ %
CommandType
èè& 1
.
èè1 2
StoredProcedure
èè2 A
;
èèA B
cmd
êê 
.
êê 

Parameters
êê "
.
êê" #
Add
êê# &
(
êê& '
	DbFactory
êê' 0
.
êê0 1

GetDbParam
êê1 ;
(
êê; <
$str
êê< N
,
êêN O
DbType
êêP V
.
êêV W
Int32
êêW \
,
êê\ ]
disclaimerId
êê^ j
)
êêj k
)
êêk l
;
êêl m
return
ëë 
MySqlDatabase
ëë (
.
ëë( )
UpdateQuery
ëë) 4
(
ëë4 5
cmd
ëë5 8
,
ëë8 9
ConnectionType
ëë: H
.
ëëH I
MasterDatabase
ëëI W
)
ëëW X
;
ëëX Y
}
íí 
}
ìì 
catch
îî 
(
îî 
	Exception
îî 
ex
îî 
)
îî  
{
ïï 
HttpContext
ññ 
.
ññ 
Current
ññ #
.
ññ# $
Trace
ññ$ )
.
ññ) *
Warn
ññ* .
(
ññ. /
$str
ññ/ M
+
ññN O
ex
ññP R
.
ññR S
Message
ññS Z
+
ññ[ \
ex
ññ] _
.
ññ_ `
Source
ññ` f
)
ññf g
;
ññg h

ErrorClass
óó 
objErr
óó !
=
óó" #
new
óó$ '

ErrorClass
óó( 2
(
óó2 3
ex
óó3 5
,
óó5 6
HttpContext
óó7 B
.
óóB C
Current
óóC J
.
óóJ K
Request
óóK R
.
óóR S
ServerVariables
óóS b
[
óób c
$str
óóc h
]
óóh i
)
óói j
;
óój k
objErr
òò 
.
òò 
SendMail
òò 
(
òò  
)
òò  !
;
òò! "
}
ôô 
return
öö 
false
öö 
;
öö 
}
õõ 	
public
§§ 
bool
§§ 
EditDisclaimer
§§ "
(
§§" #
uint
§§# '
disclaimerId
§§( 4
,
§§4 5
string
§§6 <
newDisclaimerText
§§= N
)
§§N O
{
•• 	
try
¶¶ 
{
ßß 
using
®® 
(
®® 
	DbCommand
®®  
cmd
®®! $
=
®®% &
	DbFactory
®®' 0
.
®®0 1
GetDBCommand
®®1 =
(
®®= >
$str
®®> W
)
®®W X
)
®®X Y
{
©© 
cmd
™™ 
.
™™ 
CommandType
™™ #
=
™™$ %
CommandType
™™& 1
.
™™1 2
StoredProcedure
™™2 A
;
™™A B
cmd
´´ 
.
´´ 

Parameters
´´ "
.
´´" #
Add
´´# &
(
´´& '
	DbFactory
´´' 0
.
´´0 1

GetDbParam
´´1 ;
(
´´; <
$str
´´< N
,
´´N O
DbType
´´P V
.
´´V W
Int32
´´W \
,
´´\ ]
disclaimerId
´´^ j
)
´´j k
)
´´k l
;
´´l m
cmd
¨¨ 
.
¨¨ 

Parameters
¨¨ "
.
¨¨" #
Add
¨¨# &
(
¨¨& '
	DbFactory
¨¨' 0
.
¨¨0 1

GetDbParam
¨¨1 ;
(
¨¨; <
$str
¨¨< O
,
¨¨O P
DbType
¨¨Q W
.
¨¨W X
String
¨¨X ^
,
¨¨^ _
newDisclaimerText
¨¨` q
)
¨¨q r
)
¨¨r s
;
¨¨s t
return
ÆÆ 
MySqlDatabase
ÆÆ (
.
ÆÆ( )
UpdateQuery
ÆÆ) 4
(
ÆÆ4 5
cmd
ÆÆ5 8
,
ÆÆ8 9
ConnectionType
ÆÆ: H
.
ÆÆH I
MasterDatabase
ÆÆI W
)
ÆÆW X
;
ÆÆX Y
}
ØØ 
}
∞∞ 
catch
±± 
(
±± 
	Exception
±± 
ex
±± 
)
±±  
{
≤≤ 
HttpContext
≥≥ 
.
≥≥ 
Current
≥≥ #
.
≥≥# $
Trace
≥≥$ )
.
≥≥) *
Warn
≥≥* .
(
≥≥. /
$str
≥≥/ K
+
≥≥L M
ex
≥≥N P
.
≥≥P Q
Message
≥≥Q X
+
≥≥Y Z
ex
≥≥[ ]
.
≥≥] ^
Source
≥≥^ d
)
≥≥d e
;
≥≥e f

ErrorClass
¥¥ 
objErr
¥¥ !
=
¥¥" #
new
¥¥$ '

ErrorClass
¥¥( 2
(
¥¥2 3
ex
¥¥3 5
,
¥¥5 6
HttpContext
¥¥7 B
.
¥¥B C
Current
¥¥C J
.
¥¥J K
Request
¥¥K R
.
¥¥R S
ServerVariables
¥¥S b
[
¥¥b c
$str
¥¥c h
]
¥¥h i
)
¥¥i j
;
¥¥j k
objErr
µµ 
.
µµ 
SendMail
µµ 
(
µµ  
)
µµ  !
;
µµ! "
}
∂∂ 
return
∏∏ 
false
∏∏ 
;
∏∏ 
}
ππ 	
public
∆∆ 
bool
∆∆ 
SaveBookingAmount
∆∆ %
(
∆∆% &!
BookingAmountEntity
∆∆& 9
objBookingAmt
∆∆: G
,
∆∆G H
UInt32
∆∆I O
	updatedBy
∆∆P Y
)
∆∆Y Z
{
«« 	
bool
»» 
	isUpdated
»» 
=
»» 
false
»» "
;
»»" #
try
…… 
{
   
using
ÃÃ 
(
ÃÃ 
IDbConnection
ÃÃ $

connection
ÃÃ% /
=
ÃÃ0 1
DatabaseHelper
ÃÃ2 @
.
ÃÃ@ A!
GetMasterConnection
ÃÃA T
(
ÃÃT U
)
ÃÃU V
)
ÃÃV W
{
ÕÕ 
DynamicParameters
ŒŒ %
param
ŒŒ& +
=
ŒŒ, -
new
ŒŒ. 1
DynamicParameters
ŒŒ2 C
(
ŒŒC D
)
ŒŒD E
;
ŒŒE F
param
œœ 
.
œœ 
Add
œœ 
(
œœ 
$str
œœ -
,
œœ- .
objBookingAmt
œœ/ <
.
œœ< =
BookingAmountBase
œœ= N
.
œœN O
Id
œœO Q
)
œœQ R
;
œœR S
param
–– 
.
–– 
Add
–– 
(
–– 
$str
–– ,
,
––, -
objBookingAmt
––. ;
.
––; <
DealerId
––< D
)
––D E
;
––E F
param
—— 
.
—— 
Add
—— 
(
—— 
$str
—— /
,
——/ 0
objBookingAmt
——1 >
.
——> ?
	BikeModel
——? H
.
——H I
ModelId
——I P
)
——P Q
;
——Q R
param
““ 
.
““ 
Add
““ 
(
““ 
$str
““ 1
,
““1 2
objBookingAmt
““3 @
.
““@ A
BikeVersion
““A L
.
““L M
	VersionId
““M V
)
““V W
;
““W X
param
”” 
.
”” 
Add
”” 
(
”” 
$str
”” *
,
””* +
objBookingAmt
””, 9
.
””9 :
BookingAmountBase
””: K
.
””K L
Amount
””L R
)
””R S
;
””S T
param
‘‘ 
.
‘‘ 
Add
‘‘ 
(
‘‘ 
$str
‘‘ -
,
‘‘- .
	updatedBy
‘‘/ 8
)
‘‘8 9
;
‘‘9 :

connection
÷÷ 
.
÷÷ 
Open
÷÷ #
(
÷÷# $
)
÷÷$ %
;
÷÷% &

connection
◊◊ 
.
◊◊ 
Execute
◊◊ &
(
◊◊& '
$str
◊◊' F
,
◊◊F G
param
◊◊H M
:
◊◊M N
param
◊◊O T
,
◊◊T U
commandType
◊◊V a
:
◊◊a b
CommandType
◊◊c n
.
◊◊n o
StoredProcedure
◊◊o ~
)
◊◊~ 
;◊◊ Ä
	isUpdated
ÿÿ 
=
ÿÿ 
true
ÿÿ  $
;
ÿÿ$ %
if
ŸŸ 
(
ŸŸ 

connection
ŸŸ "
!=
ŸŸ# %
null
ŸŸ& *
&&
ŸŸ+ -

connection
ŸŸ. 8
.
ŸŸ8 9
State
ŸŸ9 >
==
ŸŸ? A
ConnectionState
ŸŸB Q
.
ŸŸQ R
Open
ŸŸR V
)
ŸŸV W
{
⁄⁄ 

connection
€€ "
.
€€" #
Close
€€# (
(
€€( )
)
€€) *
;
€€* +
}
‹‹ 
}
›› 
}
ﬁﬁ 
catch
ﬂﬂ 
(
ﬂﬂ 
	Exception
ﬂﬂ 
ex
ﬂﬂ 
)
ﬂﬂ  
{
‡‡ 
HttpContext
·· 
.
·· 
Current
·· #
.
··# $
Trace
··$ )
.
··) *
Warn
··* .
(
··. /
$str
··/ H
+
··I J
ex
··K M
.
··M N
Message
··N U
+
··V W
ex
··X Z
.
··Z [
Source
··[ a
)
··a b
;
··b c

ErrorClass
‚‚ 
objErr
‚‚ !
=
‚‚" #
new
‚‚$ '

ErrorClass
‚‚( 2
(
‚‚2 3
ex
‚‚3 5
,
‚‚5 6
HttpContext
‚‚7 B
.
‚‚B C
Current
‚‚C J
.
‚‚J K
Request
‚‚K R
.
‚‚R S
ServerVariables
‚‚S b
[
‚‚b c
$str
‚‚c h
]
‚‚h i
)
‚‚i j
;
‚‚j k
objErr
„„ 
.
„„ 
SendMail
„„ 
(
„„  
)
„„  !
;
„„! "
}
‰‰ 
return
ÊÊ 
	isUpdated
ÊÊ 
;
ÊÊ 
}
ÁÁ 	
public
 
bool
 !
UpdateBookingAmount
 '
(
' (%
BookingAmountEntityBase
( ?
objBookingAmt
@ M
)
M N
{
ÒÒ 	
bool
ÛÛ 
	isSuccess
ÛÛ 
=
ÛÛ 
false
ÛÛ "
;
ÛÛ" #
try
ıı 
{
ˆˆ 
using
˜˜ 
(
˜˜ 
	DbCommand
˜˜  
cmd
˜˜! $
=
˜˜% &
	DbFactory
˜˜' 0
.
˜˜0 1
GetDBCommand
˜˜1 =
(
˜˜= >
$str
˜˜> Z
)
˜˜Z [
)
˜˜[ \
{
¯¯ 
cmd
˙˙ 
.
˙˙ 
CommandType
˙˙ #
=
˙˙$ %
CommandType
˙˙& 1
.
˙˙1 2
StoredProcedure
˙˙2 A
;
˙˙A B
cmd
˚˚ 
.
˚˚ 

Parameters
˚˚ "
.
˚˚" #
Add
˚˚# &
(
˚˚& '
	DbFactory
˚˚' 0
.
˚˚0 1

GetDbParam
˚˚1 ;
(
˚˚; <
$str
˚˚< K
,
˚˚K L
DbType
˚˚M S
.
˚˚S T
Int32
˚˚T Y
,
˚˚Y Z
objBookingAmt
˚˚[ h
.
˚˚h i
Id
˚˚i k
)
˚˚k l
)
˚˚l m
;
˚˚m n
cmd
¸¸ 
.
¸¸ 

Parameters
¸¸ "
.
¸¸" #
Add
¸¸# &
(
¸¸& '
	DbFactory
¸¸' 0
.
¸¸0 1

GetDbParam
¸¸1 ;
(
¸¸; <
$str
¸¸< O
,
¸¸O P
DbType
¸¸Q W
.
¸¸W X
Int32
¸¸X ]
,
¸¸] ^
objBookingAmt
¸¸_ l
.
¸¸l m
Amount
¸¸m s
)
¸¸s t
)
¸¸t u
;
¸¸u v
if
ˇˇ 
(
ˇˇ 
MySqlDatabase
ˇˇ %
.
ˇˇ% &
UpdateQuery
ˇˇ& 1
(
ˇˇ1 2
cmd
ˇˇ2 5
,
ˇˇ5 6
ConnectionType
ˇˇ7 E
.
ˇˇE F
MasterDatabase
ˇˇF T
)
ˇˇT U
)
ˇˇU V
	isSuccess
ÄÄ !
=
ÄÄ" #
true
ÄÄ$ (
;
ÄÄ( )
}
ÅÅ 
}
ÇÇ 
catch
ÉÉ 
(
ÉÉ 
	Exception
ÉÉ 
ex
ÉÉ 
)
ÉÉ  
{
ÑÑ 
HttpContext
ÖÖ 
.
ÖÖ 
Current
ÖÖ #
.
ÖÖ# $
Trace
ÖÖ$ )
.
ÖÖ) *
Warn
ÖÖ* .
(
ÖÖ. /
$str
ÖÖ/ J
+
ÖÖK L
ex
ÖÖM O
.
ÖÖO P
Message
ÖÖP W
+
ÖÖX Y
ex
ÖÖZ \
.
ÖÖ\ ]
Source
ÖÖ] c
)
ÖÖc d
;
ÖÖd e

ErrorClass
ÜÜ 
objErr
ÜÜ !
=
ÜÜ" #
new
ÜÜ$ '

ErrorClass
ÜÜ( 2
(
ÜÜ2 3
ex
ÜÜ3 5
,
ÜÜ5 6
HttpContext
ÜÜ7 B
.
ÜÜB C
Current
ÜÜC J
.
ÜÜJ K
Request
ÜÜK R
.
ÜÜR S
ServerVariables
ÜÜS b
[
ÜÜb c
$str
ÜÜc h
]
ÜÜh i
)
ÜÜi j
;
ÜÜj k
objErr
áá 
.
áá 
SendMail
áá 
(
áá  
)
áá  !
;
áá! "
}
àà 
return
ää 
	isSuccess
ää 
;
ää 
}
ãã 	
public
ïï 
IEnumerable
ïï 
<
ïï !
BookingAmountEntity
ïï .
>
ïï. /"
GetBikeBookingAmount
ïï0 D
(
ïïD E
uint
ïïE I
dealerId
ïïJ R
)
ïïR S
{
ññ 	
IEnumerable
óó 
<
óó !
BookingAmountEntity
óó +
>
óó+ ,
objBookingAmt
óó- :
=
óó; <
null
óó= A
;
óóA B
try
ôô 
{
öö 
using
õõ 
(
õõ 
IDbConnection
õõ $

connection
õõ% /
=
õõ0 1
DatabaseHelper
õõ2 @
.
õõ@ A!
GetMasterConnection
õõA T
(
õõT U
)
õõU V
)
õõV W
{
úú 
var
ùù 
param
ùù 
=
ùù 
new
ùù  #
DynamicParameters
ùù$ 5
(
ùù5 6
)
ùù6 7
;
ùù7 8
param
ûû 
.
ûû 
Add
ûû 
(
ûû 
$str
ûû ,
,
ûû, -
dealerId
ûû. 6
)
ûû6 7
;
ûû7 8

connection
üü 
.
üü 
Open
üü #
(
üü# $
)
üü$ %
;
üü% &
objBookingAmt
†† !
=
††" #

connection
††$ .
.
††. /
Query
††/ 4
<
††4 5%
BookingAmountEntityBase
††5 L
,
††L M 
BikeMakeEntityBase
††N `
,
††` a!
BikeModelEntityBase
††b u
,
††u v#
BikeVersionEntityBase
°°( =
,
°°= >!
BookingAmountEntity
°°? R
,
°°R S!
BookingAmountEntity
°°T g
>
°°g h
(
¢¢$ %
$str
££( J
,
££J K
(
§§( )
bookingAmountBase
§§) :
,
§§: ;
bikeMake
§§< D
,
§§D E
	bikeModel
§§F O
,
§§O P
bikeVersion
§§Q \
,
§§\ ]
bookingAmount
§§^ k
)
§§k l
=>
§§m o
{
••( )
bookingAmount
¶¶, 9
.
¶¶9 :
BookingAmountBase
¶¶: K
=
¶¶L M
bookingAmountBase
¶¶N _
;
¶¶_ `
bookingAmount
ßß, 9
.
ßß9 :
BikeMake
ßß: B
=
ßßC D
bikeMake
ßßE M
;
ßßM N
bookingAmount
®®, 9
.
®®9 :
	BikeModel
®®: C
=
®®D E
	bikeModel
®®F O
;
®®O P
bookingAmount
©©, 9
.
©©9 :
BikeVersion
©©: E
=
©©F G
bikeVersion
©©H S
;
©©S T
bookingAmount
™™, 9
.
™™9 :
DealerId
™™: B
=
™™C D
dealerId
™™E M
;
™™M N
return
´´, 2
bookingAmount
´´3 @
;
´´@ A
}
¨¨( )
,
¨¨) *
splitOn
¨¨+ 2
:
¨¨2 3
$str
¨¨4 _
,
¨¨_ `
param
¨¨a f
:
¨¨f g
param
¨¨h m
,
¨¨m n
commandType
¨¨o z
:
¨¨z {
CommandType¨¨| á
.¨¨á à
StoredProcedure¨¨à ó
)
≠≠$ %
;
≠≠% &
}
ÆÆ 
}
ØØ 
catch
∞∞ 
(
∞∞ 
	Exception
∞∞ 
ex
∞∞ 
)
∞∞  
{
±± 
HttpContext
≤≤ 
.
≤≤ 
Current
≤≤ #
.
≤≤# $
Trace
≤≤$ )
.
≤≤) *
Warn
≤≤* .
(
≤≤. /
$str
≤≤/ K
+
≤≤L M
ex
≤≤N P
.
≤≤P Q
Message
≤≤Q X
+
≤≤Y Z
ex
≤≤[ ]
.
≤≤] ^
Source
≤≤^ d
)
≤≤d e
;
≤≤e f

ErrorClass
≥≥ 
objErr
≥≥ !
=
≥≥" #
new
≥≥$ '

ErrorClass
≥≥( 2
(
≥≥2 3
ex
≥≥3 5
,
≥≥5 6
HttpContext
≥≥7 B
.
≥≥B C
Current
≥≥C J
.
≥≥J K
Request
≥≥K R
.
≥≥R S
ServerVariables
≥≥S b
[
≥≥b c
$str
≥≥c h
]
≥≥h i
)
≥≥i j
;
≥≥j k
objErr
¥¥ 
.
¥¥ 
SendMail
¥¥ 
(
¥¥  
)
¥¥  !
;
¥¥! "
}
µµ 
return
∑∑ 
objBookingAmt
∑∑  
;
∑∑  !
}
∏∏ 	
public
ƒƒ 
bool
ƒƒ !
DeleteBookingAmount
ƒƒ '
(
ƒƒ' (
uint
ƒƒ( ,
	bookingId
ƒƒ- 6
)
ƒƒ6 7
{
≈≈ 	
try
«« 
{
»» 
using
…… 
(
…… 
	DbCommand
……  
cmd
……! $
=
……% &
	DbFactory
……' 0
.
……0 1
GetDBCommand
……1 =
(
……= >
$str
……> Z
)
……Z [
)
……[ \
{
   
cmd
ÃÃ 
.
ÃÃ 
CommandType
ÃÃ #
=
ÃÃ$ %
CommandType
ÃÃ& 1
.
ÃÃ1 2
StoredProcedure
ÃÃ2 A
;
ÃÃA B
cmd
ÕÕ 
.
ÕÕ 

Parameters
ÕÕ "
.
ÕÕ" #
Add
ÕÕ# &
(
ÕÕ& '
	DbFactory
ÕÕ' 0
.
ÕÕ0 1

GetDbParam
ÕÕ1 ;
(
ÕÕ; <
$str
ÕÕ< K
,
ÕÕK L
DbType
ÕÕM S
.
ÕÕS T
Int32
ÕÕT Y
,
ÕÕY Z
	bookingId
ÕÕ[ d
)
ÕÕd e
)
ÕÕe f
;
ÕÕf g
return
œœ 
MySqlDatabase
œœ (
.
œœ( )
UpdateQuery
œœ) 4
(
œœ4 5
cmd
œœ5 8
,
œœ8 9
ConnectionType
œœ: H
.
œœH I
MasterDatabase
œœI W
)
œœW X
;
œœX Y
}
–– 
}
—— 
catch
““ 
(
““ 
	Exception
““ 
ex
““ 
)
““  
{
”” 
HttpContext
‘‘ 
.
‘‘ 
Current
‘‘ #
.
‘‘# $
Trace
‘‘$ )
.
‘‘) *
Warn
‘‘* .
(
‘‘. /
$str
‘‘/ J
+
‘‘K L
ex
‘‘M O
.
‘‘O P
Message
‘‘P W
+
‘‘X Y
ex
‘‘Z \
.
‘‘\ ]
Source
‘‘] c
)
‘‘c d
;
‘‘d e

ErrorClass
’’ 
objErr
’’ !
=
’’" #
new
’’$ '

ErrorClass
’’( 2
(
’’2 3
ex
’’3 5
,
’’5 6
HttpContext
’’7 B
.
’’B C
Current
’’C J
.
’’J K
Request
’’K R
.
’’R S
ServerVariables
’’S b
[
’’b c
$str
’’c h
]
’’h i
)
’’i j
;
’’j k
objErr
÷÷ 
.
÷÷ 
SendMail
÷÷ 
(
÷÷  
)
÷÷  !
;
÷÷! "
}
◊◊ 
return
ÿÿ 
false
ÿÿ 
;
ÿÿ 
}
ŸŸ 	
public
‰‰ 
bool
‰‰  
CopyOffersToCities
‰‰ &
(
‰‰& '
uint
‰‰' +
dealerId
‰‰, 4
,
‰‰4 5
string
‰‰6 <
lstOfferIds
‰‰= H
,
‰‰H I
string
‰‰J P
	lstCityId
‰‰Q Z
)
‰‰Z [
{
ÂÂ 	
try
ÊÊ 
{
ÁÁ 
using
ËË 
(
ËË 
	DbCommand
ËË  
cmd
ËË! $
=
ËË% &
	DbFactory
ËË' 0
.
ËË0 1
GetDBCommand
ËË1 =
(
ËË= >
$str
ËË> S
)
ËËS T
)
ËËT U
{
ÈÈ 
cmd
ÍÍ 
.
ÍÍ 
CommandType
ÍÍ #
=
ÍÍ$ %
CommandType
ÍÍ& 1
.
ÍÍ1 2
StoredProcedure
ÍÍ2 A
;
ÍÍA B
cmd
ÎÎ 
.
ÎÎ 

Parameters
ÎÎ "
.
ÎÎ" #
Add
ÎÎ# &
(
ÎÎ& '
	DbFactory
ÎÎ' 0
.
ÎÎ0 1

GetDbParam
ÎÎ1 ;
(
ÎÎ; <
$str
ÎÎ< J
,
ÎÎJ K
DbType
ÎÎL R
.
ÎÎR S
Int32
ÎÎS X
,
ÎÎX Y
dealerId
ÎÎZ b
)
ÎÎb c
)
ÎÎc d
;
ÎÎd e
cmd
ÏÏ 
.
ÏÏ 

Parameters
ÏÏ "
.
ÏÏ" #
Add
ÏÏ# &
(
ÏÏ& '
	DbFactory
ÏÏ' 0
.
ÏÏ0 1

GetDbParam
ÏÏ1 ;
(
ÏÏ; <
$str
ÏÏ< I
,
ÏÏI J
DbType
ÏÏK Q
.
ÏÏQ R
String
ÏÏR X
,
ÏÏX Y
$num
ÏÏZ ]
,
ÏÏ] ^
	lstCityId
ÏÏ_ h
)
ÏÏh i
)
ÏÏi j
;
ÏÏj k
cmd
ÌÌ 
.
ÌÌ 

Parameters
ÌÌ "
.
ÌÌ" #
Add
ÌÌ# &
(
ÌÌ& '
	DbFactory
ÌÌ' 0
.
ÌÌ0 1

GetDbParam
ÌÌ1 ;
(
ÌÌ; <
$str
ÌÌ< J
,
ÌÌJ K
DbType
ÌÌL R
.
ÌÌR S
String
ÌÌS Y
,
ÌÌY Z
$num
ÌÌ[ ^
,
ÌÌ^ _
lstOfferIds
ÌÌ` k
)
ÌÌk l
)
ÌÌl m
;
ÌÌm n
return
ÔÔ 
(
ÔÔ 
MySqlDatabase
ÔÔ )
.
ÔÔ) *
InsertQuery
ÔÔ* 5
(
ÔÔ5 6
cmd
ÔÔ6 9
,
ÔÔ9 :
ConnectionType
ÔÔ; I
.
ÔÔI J
MasterDatabase
ÔÔJ X
)
ÔÔX Y
)
ÔÔY Z
;
ÔÔZ [
}
 
}
ÒÒ 
catch
ÚÚ 
(
ÚÚ 
	Exception
ÚÚ 
ex
ÚÚ 
)
ÚÚ  
{
ÛÛ 
HttpContext
ÙÙ 
.
ÙÙ 
Current
ÙÙ #
.
ÙÙ# $
Trace
ÙÙ$ )
.
ÙÙ) *
Warn
ÙÙ* .
(
ÙÙ. /
$str
ÙÙ/ I
+
ÙÙJ K
ex
ÙÙL N
.
ÙÙN O
Message
ÙÙO V
+
ÙÙW X
ex
ÙÙY [
.
ÙÙ[ \
Source
ÙÙ\ b
)
ÙÙb c
;
ÙÙc d

ErrorClass
ıı 
objErr
ıı !
=
ıı" #
new
ıı$ '

ErrorClass
ıı( 2
(
ıı2 3
ex
ıı3 5
,
ıı5 6
HttpContext
ıı7 B
.
ııB C
Current
ııC J
.
ııJ K
Request
ııK R
.
ııR S
ServerVariables
ııS b
[
ııb c
$str
ııc h
]
ııh i
)
ııi j
;
ııj k
objErr
ˆˆ 
.
ˆˆ 
SendMail
ˆˆ 
(
ˆˆ  
)
ˆˆ  !
;
ˆˆ! "
}
˜˜ 
return
˘˘ 
false
˘˘ 
;
˘˘ 
}
˙˙ 	
public
ÑÑ 
IEnumerable
ÑÑ 
<
ÑÑ !
DealerBenefitEntity
ÑÑ .
>
ÑÑ. /
GetDealerBenefits
ÑÑ0 A
(
ÑÑA B
uint
ÑÑB F
dealerId
ÑÑG O
)
ÑÑO P
{
ÖÖ 	
IList
áá 
<
áá !
DealerBenefitEntity
áá %
>
áá% &
	objOffers
áá' 0
=
áá1 2
null
áá3 7
;
áá7 8!
DealerBenefitEntity
àà 
objOffer
àà  (
=
àà) *
null
àà+ /
;
àà/ 0
try
ââ 
{
ää 
using
ãã 
(
ãã 
	DbCommand
ãã  
cmd
ãã! $
=
ãã% &
	DbFactory
ãã' 0
.
ãã0 1
GetDBCommand
ãã1 =
(
ãã= >
$str
ãã> T
)
ããT U
)
ããU V
{
åå 
cmd
çç 
.
çç 
CommandType
çç #
=
çç$ %
CommandType
çç& 1
.
çç1 2
StoredProcedure
çç2 A
;
ççA B
cmd
éé 
.
éé 

Parameters
éé "
.
éé" #
Add
éé# &
(
éé& '
	DbFactory
éé' 0
.
éé0 1

GetDbParam
éé1 ;
(
éé; <
$str
éé< J
,
ééJ K
DbType
ééL R
.
ééR S
Int32
ééS X
,
ééX Y
dealerId
ééZ b
)
ééb c
)
ééc d
;
ééd e
using
èè 
(
èè 
IDataReader
èè &
dr
èè' )
=
èè* +
MySqlDatabase
èè, 9
.
èè9 :
SelectQuery
èè: E
(
èèE F
cmd
èèF I
,
èèI J
ConnectionType
èèK Y
.
èèY Z
ReadOnly
èèZ b
)
èèb c
)
èèc d
{
êê 
if
ëë 
(
ëë 
dr
ëë 
!=
ëë !
null
ëë" &
)
ëë& '
{
íí 
	objOffers
ìì %
=
ìì& '
new
ìì( +
List
ìì, 0
<
ìì0 1!
DealerBenefitEntity
ìì1 D
>
ììD E
(
ììE F
)
ììF G
;
ììG H
while
îî !
(
îî" #
dr
îî# %
.
îî% &
Read
îî& *
(
îî* +
)
îî+ ,
)
îî, -
{
ïï 
objOffer
ññ  (
=
ññ) *
new
ññ+ .!
DealerBenefitEntity
ññ/ B
(
ññB C
)
ññC D
;
ññD E
objOffer
óó  (
.
óó( )
	BenefitId
óó) 2
=
óó3 4
Convert
óó5 <
.
óó< =
ToInt32
óó= D
(
óóD E
dr
óóE G
[
óóG H
$str
óóH S
]
óóS T
)
óóT U
;
óóU V
objOffer
òò  (
.
òò( )
CatId
òò) .
=
òò/ 0
Convert
òò1 8
.
òò8 9
ToInt32
òò9 @
(
òò@ A
dr
òòA C
[
òòC D
$str
òòD K
]
òòK L
)
òòL M
;
òòM N
objOffer
ôô  (
.
ôô( )
CategoryText
ôô) 5
=
ôô6 7
Convert
ôô8 ?
.
ôô? @
ToString
ôô@ H
(
ôôH I
dr
ôôI K
[
ôôK L
$str
ôôL Z
]
ôôZ [
)
ôô[ \
;
ôô\ ]
objOffer
öö  (
.
öö( )
DealerId
öö) 1
=
öö2 3
Convert
öö4 ;
.
öö; <
ToInt32
öö< C
(
ööC D
dr
ööD F
[
ööF G
$str
ööG Q
]
ööQ R
)
ööR S
;
ööS T
objOffer
õõ  (
.
õõ( )
	EntryDate
õõ) 2
=
õõ3 4
Convert
õõ5 <
.
õõ< =

ToDateTime
õõ= G
(
õõG H
dr
õõH J
[
õõJ K
$str
õõK V
]
õõV W
)
õõW X
;
õõX Y
objOffer
úú  (
.
úú( )
BenefitText
úú) 4
=
úú5 6
Convert
úú7 >
.
úú> ?
ToString
úú? G
(
úúG H
dr
úúH J
[
úúJ K
$str
úúK X
]
úúX Y
)
úúY Z
;
úúZ [
objOffer
ùù  (
.
ùù( )
City
ùù) -
=
ùù. /
Convert
ùù0 7
.
ùù7 8
ToString
ùù8 @
(
ùù@ A
dr
ùùA C
[
ùùC D
$str
ùùD N
]
ùùN O
)
ùùO P
;
ùùP Q
	objOffers
ûû  )
.
ûû) *
Add
ûû* -
(
ûû- .
objOffer
ûû. 6
)
ûû6 7
;
ûû7 8
}
üü 
}
†† 
}
°° 
}
££ 
}
§§ 
catch
•• 
(
•• 
	Exception
•• 
ex
•• 
)
••  
{
¶¶ 
HttpContext
ßß 
.
ßß 
Current
ßß #
.
ßß# $
Trace
ßß$ )
.
ßß) *
Warn
ßß* .
(
ßß. /
$str
ßß/ F
+
ßßG H
ex
ßßI K
.
ßßK L
Message
ßßL S
+
ßßT U
ex
ßßV X
.
ßßX Y
Source
ßßY _
)
ßß_ `
;
ßß` a

ErrorClass
®® 
objErr
®® !
=
®®" #
new
®®$ '

ErrorClass
®®( 2
(
®®2 3
ex
®®3 5
,
®®5 6
HttpContext
®®7 B
.
®®B C
Current
®®C J
.
®®J K
Request
®®K R
.
®®R S
ServerVariables
®®S b
[
®®b c
$str
®®c h
]
®®h i
)
®®i j
;
®®j k
objErr
©© 
.
©© 
SendMail
©© 
(
©©  
)
©©  !
;
©©! "
}
™™ 
return
¨¨ 
	objOffers
¨¨ 
;
¨¨ 
}
≠≠ 	
public
¥¥ 
bool
¥¥ "
DeleteDealerBenefits
¥¥ (
(
¥¥( )
string
¥¥) /

benefitIds
¥¥0 :
)
¥¥: ;
{
µµ 	
try
∑∑ 
{
∏∏ 
using
ππ 
(
ππ 
	DbCommand
ππ  
cmd
ππ! $
=
ππ% &
	DbFactory
ππ' 0
.
ππ0 1
GetDBCommand
ππ1 =
(
ππ= >
$str
ππ> V
)
ππV W
)
ππW X
{
∫∫ 
cmd
ªª 
.
ªª 
CommandType
ªª #
=
ªª$ %
CommandType
ªª& 1
.
ªª1 2
StoredProcedure
ªª2 A
;
ªªA B
cmd
ºº 
.
ºº 

Parameters
ºº "
.
ºº" #
Add
ºº# &
(
ºº& '
	DbFactory
ºº' 0
.
ºº0 1

GetDbParam
ºº1 ;
(
ºº; <
$str
ºº< L
,
ººL M
DbType
ººN T
.
ººT U
String
ººU [
,
ºº[ \
$num
ºº] `
,
ºº` a

benefitIds
ººb l
)
ººl m
)
ººm n
;
ººn o
MySqlDatabase
ΩΩ !
.
ΩΩ! "
ExecuteNonQuery
ΩΩ" 1
(
ΩΩ1 2
cmd
ΩΩ2 5
,
ΩΩ5 6
ConnectionType
ΩΩ7 E
.
ΩΩE F
MasterDatabase
ΩΩF T
)
ΩΩT U
;
ΩΩU V
return
ææ 
true
ææ 
;
ææ  
}
øø 
}
¿¿ 
catch
¡¡ 
(
¡¡ 
	Exception
¡¡ 
ex
¡¡ 
)
¡¡  
{
¬¬ 

ErrorClass
√√ 
objErr
√√ !
=
√√" #
new
√√$ '

ErrorClass
√√( 2
(
√√2 3
ex
√√3 5
,
√√5 6
$str
√√7 M
)
√√M N
;
√√N O
objErr
ƒƒ 
.
ƒƒ 
SendMail
ƒƒ 
(
ƒƒ  
)
ƒƒ  !
;
ƒƒ! "
}
≈≈ 
return
«« 
false
«« 
;
«« 
}
»» 	
public
‘‘ 
bool
‘‘ 
SaveDealerBenefit
‘‘ %
(
‘‘% &
uint
‘‘& *
dealerId
‘‘+ 3
,
‘‘3 4
uint
‘‘5 9
cityId
‘‘: @
,
‘‘@ A
uint
‘‘B F
catId
‘‘G L
,
‘‘L M
string
‘‘N T
benefitText
‘‘U `
,
‘‘` a
uint
‘‘b f
userId
‘‘g m
,
‘‘m n
uint
‘‘o s
	benefitId
‘‘t }
)
‘‘} ~
{
’’ 	
try
◊◊ 
{
ÿÿ 
using
ŸŸ 
(
ŸŸ 
	DbCommand
ŸŸ  
cmd
ŸŸ! $
=
ŸŸ% &
	DbFactory
ŸŸ' 0
.
ŸŸ0 1
GetDBCommand
ŸŸ1 =
(
ŸŸ= >
$str
ŸŸ> U
)
ŸŸU V
)
ŸŸV W
{
⁄⁄ 
cmd
‹‹ 
.
‹‹ 
CommandType
‹‹ #
=
‹‹$ %
CommandType
‹‹& 1
.
‹‹1 2
StoredProcedure
‹‹2 A
;
‹‹A B
cmd
›› 
.
›› 

Parameters
›› "
.
››" #
Add
››# &
(
››& '
	DbFactory
››' 0
.
››0 1

GetDbParam
››1 ;
(
››; <
$str
››< J
,
››J K
DbType
››L R
.
››R S
Int32
››S X
,
››X Y
dealerId
››Z b
)
››b c
)
››c d
;
››d e
cmd
ﬁﬁ 
.
ﬁﬁ 

Parameters
ﬁﬁ "
.
ﬁﬁ" #
Add
ﬁﬁ# &
(
ﬁﬁ& '
	DbFactory
ﬁﬁ' 0
.
ﬁﬁ0 1

GetDbParam
ﬁﬁ1 ;
(
ﬁﬁ; <
$str
ﬁﬁ< H
,
ﬁﬁH I
DbType
ﬁﬁJ P
.
ﬁﬁP Q
Int32
ﬁﬁQ V
,
ﬁﬁV W
cityId
ﬁﬁX ^
)
ﬁﬁ^ _
)
ﬁﬁ_ `
;
ﬁﬁ` a
cmd
ﬂﬂ 
.
ﬂﬂ 

Parameters
ﬂﬂ "
.
ﬂﬂ" #
Add
ﬂﬂ# &
(
ﬂﬂ& '
	DbFactory
ﬂﬂ' 0
.
ﬂﬂ0 1

GetDbParam
ﬂﬂ1 ;
(
ﬂﬂ; <
$str
ﬂﬂ< H
,
ﬂﬂH I
DbType
ﬂﬂJ P
.
ﬂﬂP Q
Int32
ﬂﬂQ V
,
ﬂﬂV W
userId
ﬂﬂX ^
)
ﬂﬂ^ _
)
ﬂﬂ_ `
;
ﬂﬂ` a
cmd
‡‡ 
.
‡‡ 

Parameters
‡‡ "
.
‡‡" #
Add
‡‡# &
(
‡‡& '
	DbFactory
‡‡' 0
.
‡‡0 1

GetDbParam
‡‡1 ;
(
‡‡; <
$str
‡‡< M
,
‡‡M N
DbType
‡‡O U
.
‡‡U V
String
‡‡V \
,
‡‡\ ]
$num
‡‡^ a
,
‡‡a b
benefitText
‡‡c n
)
‡‡n o
)
‡‡o p
;
‡‡p q
cmd
·· 
.
·· 

Parameters
·· "
.
··" #
Add
··# &
(
··& '
	DbFactory
··' 0
.
··0 1

GetDbParam
··1 ;
(
··; <
$str
··< G
,
··G H
DbType
··I O
.
··O P
Int16
··P U
,
··U V
catId
··W \
)
··\ ]
)
··] ^
;
··^ _
cmd
‚‚ 
.
‚‚ 

Parameters
‚‚ "
.
‚‚" #
Add
‚‚# &
(
‚‚& '
	DbFactory
‚‚' 0
.
‚‚0 1

GetDbParam
‚‚1 ;
(
‚‚; <
$str
‚‚< K
,
‚‚K L
DbType
‚‚M S
.
‚‚S T
Int32
‚‚T Y
,
‚‚Y Z
(
‚‚[ \
	benefitId
‚‚\ e
>
‚‚f g
$num
‚‚h i
)
‚‚i j
?
‚‚k l
	benefitId
‚‚m v
:
‚‚w x
Convert‚‚y Ä
.‚‚Ä Å
DBNull‚‚Å á
)‚‚á à
)‚‚à â
;‚‚â ä
cmd
„„ 
.
„„ 

Parameters
„„ "
.
„„" #
Add
„„# &
(
„„& '
	DbFactory
„„' 0
.
„„0 1

GetDbParam
„„1 ;
(
„„; <
$str
„„< J
,
„„J K
DbType
„„L R
.
„„R S
Boolean
„„S Z
,
„„Z [
Convert
„„\ c
.
„„c d
DBNull
„„d j
)
„„j k
)
„„k l
;
„„l m
cmd
‰‰ 
.
‰‰ 

Parameters
‰‰ "
.
‰‰" #
Add
‰‰# &
(
‰‰& '
	DbFactory
‰‰' 0
.
‰‰0 1

GetDbParam
‰‰1 ;
(
‰‰; <
$str
‰‰< H
,
‰‰H I
DbType
‰‰J P
.
‰‰P Q
Byte
‰‰Q U
,
‰‰U V 
ParameterDirection
‰‰W i
.
‰‰i j
Output
‰‰j p
)
‰‰p q
)
‰‰q r
;
‰‰r s
MySqlDatabase
ÂÂ !
.
ÂÂ! "
InsertQuery
ÂÂ" -
(
ÂÂ- .
cmd
ÂÂ. 1
,
ÂÂ1 2
ConnectionType
ÂÂ3 A
.
ÂÂA B
MasterDatabase
ÂÂB P
)
ÂÂP Q
;
ÂÂQ R
return
ÊÊ 
(
ÊÊ 
Convert
ÊÊ #
.
ÊÊ# $
	ToBoolean
ÊÊ$ -
(
ÊÊ- .
cmd
ÊÊ. 1
.
ÊÊ1 2

Parameters
ÊÊ2 <
[
ÊÊ< =
$str
ÊÊ= I
]
ÊÊI J
.
ÊÊJ K
Value
ÊÊK P
)
ÊÊP Q
)
ÊÊQ R
;
ÊÊR S
}
ÁÁ 
}
ËË 
catch
ÈÈ 
(
ÈÈ 
	Exception
ÈÈ 
ex
ÈÈ 
)
ÈÈ  
{
ÍÍ 

ErrorClass
ÎÎ 
objErr
ÎÎ !
=
ÎÎ" #
new
ÎÎ$ '

ErrorClass
ÎÎ( 2
(
ÎÎ2 3
ex
ÎÎ3 5
,
ÎÎ5 6
$str
ÎÎ7 J
)
ÎÎJ K
;
ÎÎK L
objErr
ÏÏ 
.
ÏÏ 
SendMail
ÏÏ 
(
ÏÏ  
)
ÏÏ  !
;
ÏÏ! "
}
ÌÌ 
return
ÔÔ 
false
ÔÔ 
;
ÔÔ 
}
 	
public
â	â	 
bool
â	â	 
SaveDealerEMI
â	â	 !
(
â	â	! "
uint
â	â	" &
dealerId
â	â	' /
,
â	â	/ 0
float
ã	ã	 
?
ã	ã	 
MinDownPayment
ã	ã	 !
,
ã	ã	! "
float
ã	ã	# (
?
ã	ã	( )
MaxDownPayment
ã	ã	* 8
,
ã	ã	8 9
ushort
å	å	 
?
å	å	 
	MinTenure
å	å	 
,
å	å	 
ushort
å	å	 %
?
å	å	% &
	MaxTenure
å	å	' 0
,
å	å	0 1
float
ç	ç	 
?
ç	ç	 
MinRateOfInterest
ç	ç	 $
,
ç	ç	$ %
float
ç	ç	& +
?
ç	ç	+ ,
MaxRateOfInterest
ç	ç	- >
,
ç	ç	> ?
float
é	é	 
?
é	é	 
MinLtv
é	é	 
,
é	é	 
float
é	é	  
?
é	é	  !
MaxLtv
é	é	" (
,
é	é	( )
string
è	è	 
loanProvider
è	è	 
,
è	è	  
float
ê	ê	 
?
ê	ê	 
ProcessingFee
ê	ê	  
,
ê	ê	  !
uint
ë	ë	 
?
ë	ë	 
id
ë	ë	 
,
ë	ë	 
UInt32
í	í	 
UserID
í	í	 
)
í	í	 
{
ì	ì	 	
try
ï	ï	 
{
ñ	ñ	 
using
ò	ò	 
(
ò	ò	 
	DbCommand
ò	ò	  
cmd
ò	ò	! $
=
ò	ò	% &
	DbFactory
ò	ò	' 0
.
ò	ò	0 1
GetDBCommand
ò	ò	1 =
(
ò	ò	= >
$str
ò	ò	> a
)
ò	ò	a b
)
ò	ò	b c
{
ô	ô	 
cmd
ö	ö	 
.
ö	ö	 
CommandType
ö	ö	 #
=
ö	ö	$ %
CommandType
ö	ö	& 1
.
ö	ö	1 2
StoredProcedure
ö	ö	2 A
;
ö	ö	A B
cmd
ú	ú	 
.
ú	ú	 

Parameters
ú	ú	 "
.
ú	ú	" #
Add
ú	ú	# &
(
ú	ú	& '
	DbFactory
ú	ú	' 0
.
ú	ú	0 1

GetDbParam
ú	ú	1 ;
(
ú	ú	; <
$str
ú	ú	< J
,
ú	ú	J K
DbType
ú	ú	L R
.
ú	ú	R S
Int32
ú	ú	S X
,
ú	ú	X Y
dealerId
ú	ú	Z b
)
ú	ú	b c
)
ú	ú	c d
;
ú	ú	d e
cmd
ù	ù	 
.
ù	ù	 

Parameters
ù	ù	 "
.
ù	ù	" #
Add
ù	ù	# &
(
ù	ù	& '
	DbFactory
ù	ù	' 0
.
ù	ù	0 1

GetDbParam
ù	ù	1 ;
(
ù	ù	; <
$str
ù	ù	< N
,
ù	ù	N O
DbType
ù	ù	P V
.
ù	ù	V W
String
ù	ù	W ]
,
ù	ù	] ^
$num
ù	ù	_ b
,
ù	ù	b c
String
ù	ù	d j
.
ù	ù	j k
IsNullOrEmpty
ù	ù	k x
(
ù	ù	x y
loanProviderù	ù	y Ö
)ù	ù	Ö Ü
?ù	ù	á à
Convertù	ù	â ê
.ù	ù	ê ë
DBNullù	ù	ë ó
:ù	ù	ò ô
loanProviderù	ù	ö ¶
)ù	ù	¶ ß
)ù	ù	ß ®
;ù	ù	® ©
cmd
û	û	 
.
û	û	 

Parameters
û	û	 "
.
û	û	" #
Add
û	û	# &
(
û	û	& '
	DbFactory
û	û	' 0
.
û	û	0 1

GetDbParam
û	û	1 ;
(
û	û	; <
$str
û	û	< H
,
û	û	H I
DbType
û	û	J P
.
û	û	P Q
Int32
û	û	Q V
,
û	û	V W
UserID
û	û	X ^
)
û	û	^ _
)
û	û	_ `
;
û	û	` a
cmd
ü	ü	 
.
ü	ü	 

Parameters
ü	ü	 "
.
ü	ü	" #
Add
ü	ü	# &
(
ü	ü	& '
	DbFactory
ü	ü	' 0
.
ü	ü	0 1

GetDbParam
ü	ü	1 ;
(
ü	ü	; <
$str
ü	ü	< P
,
ü	ü	P Q
DbType
ü	ü	R X
.
ü	ü	X Y
Double
ü	ü	Y _
,
ü	ü	_ `
(
ü	ü	a b
MinDownPayment
ü	ü	b p
.
ü	ü	p q
HasValue
ü	ü	q y
)
ü	ü	y z
?
ü	ü	{ |
MinDownPaymentü	ü	} ã
.ü	ü	ã å
Valueü	ü	å ë
:ü	ü	í ì
Convertü	ü	î õ
.ü	ü	õ ú
DBNullü	ü	ú ¢
)ü	ü	¢ £
)ü	ü	£ §
;ü	ü	§ •
cmd
†	†	 
.
†	†	 

Parameters
†	†	 "
.
†	†	" #
Add
†	†	# &
(
†	†	& '
	DbFactory
†	†	' 0
.
†	†	0 1

GetDbParam
†	†	1 ;
(
†	†	; <
$str
†	†	< P
,
†	†	P Q
DbType
†	†	R X
.
†	†	X Y
Double
†	†	Y _
,
†	†	_ `
(
†	†	a b
MaxDownPayment
†	†	b p
.
†	†	p q
HasValue
†	†	q y
)
†	†	y z
?
†	†	{ |
MaxDownPayment†	†	} ã
.†	†	ã å
Value†	†	å ë
:†	†	í ì
Convert†	†	î õ
.†	†	õ ú
DBNull†	†	ú ¢
)†	†	¢ £
)†	†	£ §
;†	†	§ •
cmd
°	°	 
.
°	°	 

Parameters
°	°	 "
.
°	°	" #
Add
°	°	# &
(
°	°	& '
	DbFactory
°	°	' 0
.
°	°	0 1

GetDbParam
°	°	1 ;
(
°	°	; <
$str
°	°	< K
,
°	°	K L
DbType
°	°	M S
.
°	°	S T
Int32
°	°	T Y
,
°	°	Y Z
(
°	°	[ \
	MinTenure
°	°	\ e
.
°	°	e f
HasValue
°	°	f n
)
°	°	n o
?
°	°	p q
	MinTenure
°	°	r {
.
°	°	{ |
Value°	°	| Å
:°	°	Ç É
Convert°	°	Ñ ã
.°	°	ã å
DBNull°	°	å í
)°	°	í ì
)°	°	ì î
;°	°	î ï
cmd
¢	¢	 
.
¢	¢	 

Parameters
¢	¢	 "
.
¢	¢	" #
Add
¢	¢	# &
(
¢	¢	& '
	DbFactory
¢	¢	' 0
.
¢	¢	0 1

GetDbParam
¢	¢	1 ;
(
¢	¢	; <
$str
¢	¢	< K
,
¢	¢	K L
DbType
¢	¢	M S
.
¢	¢	S T
Int32
¢	¢	T Y
,
¢	¢	Y Z
(
¢	¢	[ \
	MaxTenure
¢	¢	\ e
.
¢	¢	e f
HasValue
¢	¢	f n
)
¢	¢	n o
?
¢	¢	p q
	MaxTenure
¢	¢	r {
.
¢	¢	{ |
Value¢	¢	| Å
:¢	¢	Ç É
Convert¢	¢	Ñ ã
.¢	¢	ã å
DBNull¢	¢	å í
)¢	¢	í ì
)¢	¢	ì î
;¢	¢	î ï
cmd
£	£	 
.
£	£	 

Parameters
£	£	 "
.
£	£	" #
Add
£	£	# &
(
£	£	& '
	DbFactory
£	£	' 0
.
£	£	0 1

GetDbParam
£	£	1 ;
(
£	£	; <
$str
£	£	< S
,
£	£	S T
DbType
£	£	U [
.
£	£	[ \
Double
£	£	\ b
,
£	£	b c
(
£	£	d e
MinRateOfInterest
£	£	e v
.
£	£	v w
HasValue
£	£	w 
)£	£	 Ä
?£	£	Å Ç!
MinRateOfInterest£	£	É î
.£	£	î ï
Value£	£	ï ö
:£	£	õ ú
Convert£	£	ù §
.£	£	§ •
DBNull£	£	• ´
)£	£	´ ¨
)£	£	¨ ≠
;£	£	≠ Æ
cmd
§	§	 
.
§	§	 

Parameters
§	§	 "
.
§	§	" #
Add
§	§	# &
(
§	§	& '
	DbFactory
§	§	' 0
.
§	§	0 1

GetDbParam
§	§	1 ;
(
§	§	; <
$str
§	§	< S
,
§	§	S T
DbType
§	§	U [
.
§	§	[ \
Double
§	§	\ b
,
§	§	b c
(
§	§	d e
MaxRateOfInterest
§	§	e v
.
§	§	v w
HasValue
§	§	w 
)§	§	 Ä
?§	§	Å Ç!
MaxRateOfInterest§	§	É î
.§	§	î ï
Value§	§	ï ö
:§	§	õ ú
Convert§	§	ù §
.§	§	§ •
DBNull§	§	• ´
)§	§	´ ¨
)§	§	¨ ≠
;§	§	≠ Æ
cmd
•	•	 
.
•	•	 

Parameters
•	•	 "
.
•	•	" #
Add
•	•	# &
(
•	•	& '
	DbFactory
•	•	' 0
.
•	•	0 1

GetDbParam
•	•	1 ;
(
•	•	; <
$str
•	•	< H
,
•	•	H I
DbType
•	•	J P
.
•	•	P Q
Double
•	•	Q W
,
•	•	W X
(
•	•	Y Z
MinRateOfInterest
•	•	Z k
.
•	•	k l
HasValue
•	•	l t
)
•	•	t u
?
•	•	v w
MinLtv
•	•	x ~
.
•	•	~ 
Value•	•	 Ñ
:•	•	Ö Ü
Convert•	•	á é
.•	•	é è
DBNull•	•	è ï
)•	•	ï ñ
)•	•	ñ ó
;•	•	ó ò
cmd
¶	¶	 
.
¶	¶	 

Parameters
¶	¶	 "
.
¶	¶	" #
Add
¶	¶	# &
(
¶	¶	& '
	DbFactory
¶	¶	' 0
.
¶	¶	0 1

GetDbParam
¶	¶	1 ;
(
¶	¶	; <
$str
¶	¶	< H
,
¶	¶	H I
DbType
¶	¶	J P
.
¶	¶	P Q
Double
¶	¶	Q W
,
¶	¶	W X
(
¶	¶	Y Z
MaxLtv
¶	¶	Z `
.
¶	¶	` a
HasValue
¶	¶	a i
)
¶	¶	i j
?
¶	¶	k l
MaxLtv
¶	¶	m s
.
¶	¶	s t
Value
¶	¶	t y
:
¶	¶	z {
Convert¶	¶	| É
.¶	¶	É Ñ
DBNull¶	¶	Ñ ä
)¶	¶	ä ã
)¶	¶	ã å
;¶	¶	å ç
cmd
ß	ß	 
.
ß	ß	 

Parameters
ß	ß	 "
.
ß	ß	" #
Add
ß	ß	# &
(
ß	ß	& '
	DbFactory
ß	ß	' 0
.
ß	ß	0 1

GetDbParam
ß	ß	1 ;
(
ß	ß	; <
$str
ß	ß	< O
,
ß	ß	O P
DbType
ß	ß	Q W
.
ß	ß	W X
Double
ß	ß	X ^
,
ß	ß	^ _
(
ß	ß	` a
ProcessingFee
ß	ß	a n
.
ß	ß	n o
HasValue
ß	ß	o w
)
ß	ß	w x
?
ß	ß	y z
ProcessingFeeß	ß	{ à
.ß	ß	à â
Valueß	ß	â é
:ß	ß	è ê
Convertß	ß	ë ò
.ß	ß	ò ô
DBNullß	ß	ô ü
)ß	ß	ü †
)ß	ß	† °
;ß	ß	° ¢
cmd
®	®	 
.
®	®	 

Parameters
®	®	 "
.
®	®	" #
Add
®	®	# &
(
®	®	& '
	DbFactory
®	®	' 0
.
®	®	0 1

GetDbParam
®	®	1 ;
(
®	®	; <
$str
®	®	< D
,
®	®	D E
DbType
®	®	F L
.
®	®	L M
Double
®	®	M S
,
®	®	S T
(
®	®	U V
id
®	®	V X
.
®	®	X Y
HasValue
®	®	Y a
&&
®	®	b d
id
®	®	e g
>
®	®	h i
$num
®	®	j k
)
®	®	k l
?
®	®	m n
id
®	®	o q
.
®	®	q r
Value
®	®	r w
:
®	®	x y
Convert®	®	z Å
.®	®	Å Ç
DBNull®	®	Ç à
)®	®	à â
)®	®	â ä
;®	®	ä ã
return
™	™	 
MySqlDatabase
™	™	 (
.
™	™	( )
InsertQuery
™	™	) 4
(
™	™	4 5
cmd
™	™	5 8
,
™	™	8 9
ConnectionType
™	™	: H
.
™	™	H I
MasterDatabase
™	™	I W
)
™	™	W X
;
™	™	X Y
}
´	´	 
}
¨	¨	 
catch
≠	≠	 
(
≠	≠	 
	Exception
≠	≠	 
ex
≠	≠	 
)
≠	≠	  
{
Æ	Æ	 

ErrorClass
Ø	Ø	 
objErr
Ø	Ø	 !
=
Ø	Ø	" #
new
Ø	Ø	$ '

ErrorClass
Ø	Ø	( 2
(
Ø	Ø	2 3
ex
Ø	Ø	3 5
,
Ø	Ø	5 6
$str
Ø	Ø	7 F
)
Ø	Ø	F G
;
Ø	Ø	G H
objErr
∞	∞	 
.
∞	∞	 
SendMail
∞	∞	 
(
∞	∞	  
)
∞	∞	  !
;
∞	∞	! "
}
±	±	 
return
≤	≤	 
false
≤	≤	 
;
≤	≤	 
}
≥	≥	 	
public
∑	∑	 
bool
∑	∑	 
DeleteDealerEMI
∑	∑	 #
(
∑	∑	# $
uint
∑	∑	$ (
id
∑	∑	) +
)
∑	∑	+ ,
{
∏	∏	 	
try
π	π	 
{
∫	∫	 
using
ª	ª	 
(
ª	ª	 
	DbCommand
ª	ª	  
cmd
ª	ª	! $
=
ª	ª	% &
	DbFactory
ª	ª	' 0
.
ª	ª	0 1
GetDBCommand
ª	ª	1 =
(
ª	ª	= >
$str
ª	ª	> Z
)
ª	ª	Z [
)
ª	ª	[ \
{
º	º	 
cmd
Ω	Ω	 
.
Ω	Ω	 
CommandType
Ω	Ω	 #
=
Ω	Ω	$ %
CommandType
Ω	Ω	& 1
.
Ω	Ω	1 2
StoredProcedure
Ω	Ω	2 A
;
Ω	Ω	A B
cmd
æ	æ	 
.
æ	æ	 

Parameters
æ	æ	 "
.
æ	æ	" #
Add
æ	æ	# &
(
æ	æ	& '
	DbFactory
æ	æ	' 0
.
æ	æ	0 1

GetDbParam
æ	æ	1 ;
(
æ	æ	; <
$str
æ	æ	< D
,
æ	æ	D E
DbType
æ	æ	F L
.
æ	æ	L M
Int32
æ	æ	M R
,
æ	æ	R S
id
æ	æ	T V
)
æ	æ	V W
)
æ	æ	W X
;
æ	æ	X Y
cmd
ø	ø	 
.
ø	ø	 

Parameters
ø	ø	 "
.
ø	ø	" #
Add
ø	ø	# &
(
ø	ø	& '
	DbFactory
ø	ø	' 0
.
ø	ø	0 1

GetDbParam
ø	ø	1 ;
(
ø	ø	; <
$str
ø	ø	< D
,
ø	ø	D E
DbType
ø	ø	F L
.
ø	ø	L M
Int32
ø	ø	M R
,
ø	ø	R S 
ParameterDirection
ø	ø	T f
.
ø	ø	f g
Output
ø	ø	g m
)
ø	ø	m n
)
ø	ø	n o
;
ø	ø	o p
MySqlDatabase
¡	¡	 !
.
¡	¡	! "
InsertQuery
¡	¡	" -
(
¡	¡	- .
cmd
¡	¡	. 1
,
¡	¡	1 2
ConnectionType
¡	¡	3 A
.
¡	¡	A B
MasterDatabase
¡	¡	B P
)
¡	¡	P Q
;
¡	¡	Q R
return
¬	¬	 
Convert
¬	¬	 "
.
¬	¬	" #
	ToBoolean
¬	¬	# ,
(
¬	¬	, -
cmd
¬	¬	- 0
.
¬	¬	0 1

Parameters
¬	¬	1 ;
[
¬	¬	; <
$str
¬	¬	< D
]
¬	¬	D E
.
¬	¬	E F
Value
¬	¬	F K
)
¬	¬	K L
;
¬	¬	L M
}
√	√	 
}
ƒ	ƒ	 
catch
≈	≈	 
(
≈	≈	 
	Exception
≈	≈	 
ex
≈	≈	 
)
≈	≈	  
{
∆	∆	 

ErrorClass
«	«	 
objErr
«	«	 !
=
«	«	" #
new
«	«	$ '

ErrorClass
«	«	( 2
(
«	«	2 3
ex
«	«	3 5
,
«	«	5 6
$str
«	«	7 F
)
«	«	F G
;
«	«	G H
objErr
»	»	 
.
»	»	 
SendMail
»	»	 
(
»	»	  
)
»	»	  !
;
»	»	! "
}
…	…	 
return
 	 	 
false
 	 	 
;
 	 	 
}
À	À	 	
public
”	”	 
IEnumerable
”	”	 
<
”	”	 
BikewaleOpr
”	”	 &
.
”	”	& '
Entities
”	”	' /
.
”	”	/ 0
BikeData
”	”	0 8
.
”	”	8 9 
BikeMakeEntityBase
”	”	9 K
>
”	”	K L"
GetDealerMakesByCity
”	”	M a
(
”	”	a b
int
”	”	b e
cityId
”	”	f l
)
”	”	l m
{
‘	‘	 	
ICollection
’	’	 
<
’	’	 
BikewaleOpr
’	’	 #
.
’	’	# $
Entities
’	’	$ ,
.
’	’	, -
BikeData
’	’	- 5
.
’	’	5 6 
BikeMakeEntityBase
’	’	6 H
>
’	’	H I
objMakeList
’	’	J U
=
’	’	V W
null
’	’	X \
;
’	’	\ ]
try
÷	÷	 
{
◊	◊	 
using
ÿ	ÿ	 
(
ÿ	ÿ	 
	DbCommand
ÿ	ÿ	  
cmd
ÿ	ÿ	! $
=
ÿ	ÿ	% &
	DbFactory
ÿ	ÿ	' 0
.
ÿ	ÿ	0 1
GetDBCommand
ÿ	ÿ	1 =
(
ÿ	ÿ	= >
$str
ÿ	ÿ	> N
)
ÿ	ÿ	N O
)
ÿ	ÿ	O P
{
Ÿ	Ÿ	 
cmd
⁄	⁄	 
.
⁄	⁄	 
CommandType
⁄	⁄	 #
=
⁄	⁄	$ %
CommandType
⁄	⁄	& 1
.
⁄	⁄	1 2
StoredProcedure
⁄	⁄	2 A
;
⁄	⁄	A B
cmd
€	€	 
.
€	€	 

Parameters
€	€	 "
.
€	€	" #
Add
€	€	# &
(
€	€	& '
	DbFactory
€	€	' 0
.
€	€	0 1

GetDbParam
€	€	1 ;
(
€	€	; <
$str
€	€	< H
,
€	€	H I
DbType
€	€	J P
.
€	€	P Q
Int32
€	€	Q V
,
€	€	V W
cityId
€	€	X ^
)
€	€	^ _
)
€	€	_ `
;
€	€	` a
using
›	›	 
(
›	›	 
IDataReader
›	›	 &
dr
›	›	' )
=
›	›	* +
MySqlDatabase
›	›	, 9
.
›	›	9 :
SelectQuery
›	›	: E
(
›	›	E F
cmd
›	›	F I
,
›	›	I J
ConnectionType
›	›	K Y
.
›	›	Y Z
ReadOnly
›	›	Z b
)
›	›	b c
)
›	›	c d
{
ﬁ	ﬁ	 
if
ﬂ	ﬂ	 
(
ﬂ	ﬂ	 
dr
ﬂ	ﬂ	 
!=
ﬂ	ﬂ	 !
null
ﬂ	ﬂ	" &
)
ﬂ	ﬂ	& '
{
‡	‡	 
objMakeList
·	·	 '
=
·	·	( )
new
·	·	* -

Collection
·	·	. 8
<
·	·	8 9
BikewaleOpr
·	·	9 D
.
·	·	D E
Entities
·	·	E M
.
·	·	M N
BikeData
·	·	N V
.
·	·	V W 
BikeMakeEntityBase
·	·	W i
>
·	·	i j
(
·	·	j k
)
·	·	k l
;
·	·	l m
BikewaleOpr
„	„	 '
.
„	„	' (
Entities
„	„	( 0
.
„	„	0 1
BikeData
„	„	1 9
.
„	„	9 : 
BikeMakeEntityBase
„	„	: L
objMake
„	„	M T
=
„	„	U V
null
„	„	W [
;
„	„	[ \
while
‰	‰	 !
(
‰	‰	" #
dr
‰	‰	# %
.
‰	‰	% &
Read
‰	‰	& *
(
‰	‰	* +
)
‰	‰	+ ,
)
‰	‰	, -
{
Â	Â	 
objMake
Ê	Ê	  '
=
Ê	Ê	( )
new
Ê	Ê	* -
BikewaleOpr
Ê	Ê	. 9
.
Ê	Ê	9 :
Entities
Ê	Ê	: B
.
Ê	Ê	B C
BikeData
Ê	Ê	C K
.
Ê	Ê	K L 
BikeMakeEntityBase
Ê	Ê	L ^
(
Ê	Ê	^ _
)
Ê	Ê	_ `
;
Ê	Ê	` a
objMake
Á	Á	  '
.
Á	Á	' (
MakeId
Á	Á	( .
=
Á	Á	/ 0 
SqlReaderConvertor
Á	Á	1 C
.
Á	Á	C D
ToInt32
Á	Á	D K
(
Á	Á	K L
dr
Á	Á	L N
[
Á	Á	N O
$str
Á	Á	O W
]
Á	Á	W X
)
Á	Á	X Y
;
Á	Á	Y Z
objMake
Ë	Ë	  '
.
Ë	Ë	' (
MakeName
Ë	Ë	( 0
=
Ë	Ë	1 2
Convert
Ë	Ë	3 :
.
Ë	Ë	: ;
ToString
Ë	Ë	; C
(
Ë	Ë	C D
dr
Ë	Ë	D F
[
Ë	Ë	F G
$str
Ë	Ë	G Q
]
Ë	Ë	Q R
)
Ë	Ë	R S
;
Ë	Ë	S T
objMakeList
È	È	  +
.
È	È	+ ,
Add
È	È	, /
(
È	È	/ 0
objMake
È	È	0 7
)
È	È	7 8
;
È	È	8 9
}
Í	Í	 
}
Î	Î	 
}
Ï	Ï	 
}
Ì	Ì	 
}
Ó	Ó	 
catch
Ô	Ô	 
(
Ô	Ô	 
	Exception
Ô	Ô	 
ex
Ô	Ô	 
)
Ô	Ô	  
{
		 

ErrorClass
Ò	Ò	 
objErr
Ò	Ò	 !
=
Ò	Ò	" #
new
Ò	Ò	$ '

ErrorClass
Ò	Ò	( 2
(
Ò	Ò	2 3
ex
Ò	Ò	3 5
,
Ò	Ò	5 6
String
Ò	Ò	7 =
.
Ò	Ò	= >
Format
Ò	Ò	> D
(
Ò	Ò	D E
$strÒ	Ò	E à
,Ò	Ò	à â
cityIdÒ	Ò	ä ê
)Ò	Ò	ê ë
)Ò	Ò	ë í
;Ò	Ò	í ì
}
Ú	Ú	 
return
Û	Û	 
objMakeList
Û	Û	 
;
Û	Û	 
}
Ù	Ù	 	
public
˙	˙	 
IEnumerable
˙	˙	 
<
˙	˙	 
DealerEntityBase
˙	˙	 +
>
˙	˙	+ ,
GetDealersByMake
˙	˙	- =
(
˙	˙	= >
uint
˙	˙	> B
makeId
˙	˙	C I
,
˙	˙	I J
uint
˙	˙	K O
cityId
˙	˙	P V
)
˙	˙	V W
{
˚	˚	 	
ICollection
¸	¸	 
<
¸	¸	 
DealerEntityBase
¸	¸	 (
>
¸	¸	( )
objDealerList
¸	¸	* 7
=
¸	¸	8 9
null
¸	¸	: >
;
¸	¸	> ?
try
˝	˝	 
{
˛	˛	 
using
ˇ	ˇ	 
(
ˇ	ˇ	 
	DbCommand
ˇ	ˇ	  
cmd
ˇ	ˇ	! $
=
ˇ	ˇ	% &
	DbFactory
ˇ	ˇ	' 0
.
ˇ	ˇ	0 1
GetDBCommand
ˇ	ˇ	1 =
(
ˇ	ˇ	= >
$str
ˇ	ˇ	> T
)
ˇ	ˇ	T U
)
ˇ	ˇ	U V
{
Ä
Ä
 
cmd
Å
Å
 
.
Å
Å
 
CommandType
Å
Å
 #
=
Å
Å
$ %
CommandType
Å
Å
& 1
.
Å
Å
1 2
StoredProcedure
Å
Å
2 A
;
Å
Å
A B
cmd
Ç
Ç
 
.
Ç
Ç
 

Parameters
Ç
Ç
 "
.
Ç
Ç
" #
Add
Ç
Ç
# &
(
Ç
Ç
& '
	DbFactory
Ç
Ç
' 0
.
Ç
Ç
0 1

GetDbParam
Ç
Ç
1 ;
(
Ç
Ç
; <
$str
Ç
Ç
< H
,
Ç
Ç
H I
DbType
Ç
Ç
J P
.
Ç
Ç
P Q
Int32
Ç
Ç
Q V
,
Ç
Ç
V W
makeId
Ç
Ç
X ^
)
Ç
Ç
^ _
)
Ç
Ç
_ `
;
Ç
Ç
` a
cmd
É
É
 
.
É
É
 

Parameters
É
É
 "
.
É
É
" #
Add
É
É
# &
(
É
É
& '
	DbFactory
É
É
' 0
.
É
É
0 1

GetDbParam
É
É
1 ;
(
É
É
; <
$str
É
É
< H
,
É
É
H I
DbType
É
É
J P
.
É
É
P Q
Int32
É
É
Q V
,
É
É
V W
cityId
É
É
X ^
)
É
É
^ _
)
É
É
_ `
;
É
É
` a
using
Ö
Ö
 
(
Ö
Ö
 
IDataReader
Ö
Ö
 &
dr
Ö
Ö
' )
=
Ö
Ö
* +
MySqlDatabase
Ö
Ö
, 9
.
Ö
Ö
9 :
SelectQuery
Ö
Ö
: E
(
Ö
Ö
E F
cmd
Ö
Ö
F I
,
Ö
Ö
I J
ConnectionType
Ö
Ö
K Y
.
Ö
Ö
Y Z
ReadOnly
Ö
Ö
Z b
)
Ö
Ö
b c
)
Ö
Ö
c d
{
Ü
Ü
 
if
á
á
 
(
á
á
 
dr
á
á
 
!=
á
á
 !
null
á
á
" &
)
á
á
& '
{
à
à
 
objDealerList
â
â
 )
=
â
â
* +
new
â
â
, /

Collection
â
â
0 :
<
â
â
: ;
DealerEntityBase
â
â
; K
>
â
â
K L
(
â
â
L M
)
â
â
M N
;
â
â
N O
DealerEntityBase
ã
ã
 ,
	objDealer
ã
ã
- 6
=
ã
ã
7 8
null
ã
ã
9 =
;
ã
ã
= >
while
å
å
 !
(
å
å
" #
dr
å
å
# %
.
å
å
% &
Read
å
å
& *
(
å
å
* +
)
å
å
+ ,
)
å
å
, -
{
ç
ç
 
	objDealer
é
é
  )
=
é
é
* +
new
é
é
, /
DealerEntityBase
é
é
0 @
(
é
é
@ A
)
é
é
A B
;
é
é
B C
	objDealer
è
è
  )
.
è
è
) *
Id
è
è
* ,
=
è
è
- . 
SqlReaderConvertor
è
è
/ A
.
è
è
A B
ToUInt32
è
è
B J
(
è
è
J K
dr
è
è
K M
[
è
è
M N
$str
è
è
N X
]
è
è
X Y
)
è
è
Y Z
;
è
è
Z [
	objDealer
ê
ê
  )
.
ê
ê
) *
Name
ê
ê
* .
=
ê
ê
/ 0
Convert
ê
ê
1 8
.
ê
ê
8 9
ToString
ê
ê
9 A
(
ê
ê
A B
dr
ê
ê
B D
[
ê
ê
D E
$str
ê
ê
E Q
]
ê
ê
Q R
)
ê
ê
R S
;
ê
ê
S T
objDealerList
ë
ë
  -
.
ë
ë
- .
Add
ë
ë
. 1
(
ë
ë
1 2
	objDealer
ë
ë
2 ;
)
ë
ë
; <
;
ë
ë
< =
}
í
í
 
}
ì
ì
 
}
î
î
 
}
ñ
ñ
 
}
ó
ó
 
catch
ò
ò
 
(
ò
ò
 
	Exception
ò
ò
 
ex
ò
ò
 
)
ò
ò
  
{
ô
ô
 

ErrorClass
ö
ö
 
objErr
ö
ö
 !
=
ö
ö
" #
new
ö
ö
$ '

ErrorClass
ö
ö
( 2
(
ö
ö
2 3
ex
ö
ö
3 5
,
ö
ö
5 6
String
ö
ö
7 =
.
ö
ö
= >
Format
ö
ö
> D
(
ö
ö
D E
$strö
ö
E è
,ö
ö
è ê
makeIdö
ö
ë ó
,ö
ö
ó ò
cityIdö
ö
ô ü
)ö
ö
ü †
)ö
ö
† °
;ö
ö
° ¢
}
õ
õ
 
return
ú
ú
 
objDealerList
ú
ú
  
;
ú
ú
  !
}
ù
ù
 	
}
û
û
 
}ü
ü
 Ñ;
=D:\work\bikewaleweb\BikewaleOpr.DALs\Image\ImageRepository.cs
	namespace		 	
BikewaleOpr		
 
.		 
DALs		 
.		 
Images		 !
{

 
public 

class 
ImageRepository  
:! "
IImageRepository# 3
{ 
public 
ulong 
Add 
( 
Image 
image $
)$ %
{ 	
ulong 
id 
= 
$num 
; 
try 
{ 
using 
( 
	DbCommand  
cmd! $
=% &
	DbFactory' 0
.0 1
GetDBCommand1 =
(= >
)> ?
)? @
{ 
cmd 
. 
CommandText #
=$ %
$str& 6
;6 7
cmd 
. 
CommandType #
=$ %
CommandType& 1
.1 2
StoredProcedure2 A
;A B
cmd 
. 

Parameters "
." #
Add# &
(& '
	DbFactory' 0
.0 1

GetDbParam1 ;
(; <
$str< L
,L M
DbTypeN T
.T U
Int32U Z
,Z [
image\ a
.a b

CategoryIdb l
)l m
)m n
;n o
cmd 
. 

Parameters "
." #
Add# &
(& '
	DbFactory' 0
.0 1

GetDbParam1 ;
(; <
$str< H
,H I
DbTypeJ P
.P Q
Int32Q V
,V W
imageX ]
.] ^
ItemId^ d
.d e
HasValuee m
?n o
imagep u
.u v
ItemIdv |
.| }
Value	} Ç
:
É Ñ
Convert
Ö å
.
å ç
DBNull
ç ì
)
ì î
)
î ï
;
ï ñ
cmd 
. 

Parameters "
." #
Add# &
(& '
	DbFactory' 0
.0 1

GetDbParam1 ;
(; <
$str< I
,I J
DbTypeK Q
.Q R
StringR X
,X Y
imageZ _
._ `
HostUrl` g
)g h
)h i
;i j
cmd 
. 

Parameters "
." #
Add# &
(& '
	DbFactory' 0
.0 1

GetDbParam1 ;
(; <
$str< N
,N O
DbTypeP V
.V W
StringW ]
,] ^
image_ d
.d e
OriginalPathe q
)q r
)r s
;s t
cmd 
. 

Parameters "
." #
Add# &
(& '
	DbFactory' 0
.0 1

GetDbParam1 ;
(; <
$str< M
,M N
DbTypeO U
.U V
Int16V [
,[ \
(] ^
image^ c
.c d
IsReplicatedd p
.p q
HasValueq y
?z {
(| }
image	} Ç
.
Ç É
IsReplicated
É è
.
è ê
Value
ê ï
?
ñ ó
$num
ò ô
:
ö õ
$num
ú ù
)
ù û
:
ü †
$num
° ¢
)
¢ £
)
£ §
)
§ •
;
• ¶
cmd 
. 

Parameters "
." #
Add# &
(& '
	DbFactory' 0
.0 1

GetDbParam1 ;
(; <
$str< M
,M N
DbTypeO U
.U V
DecimalV ]
,] ^
image_ d
.d e
AspectRatioe p
)p q
)q r
;r s
cmd 
. 

Parameters "
." #
Add# &
(& '
	DbFactory' 0
.0 1

GetDbParam1 ;
(; <
$str< M
,M N
DbTypeO U
.U V
Int16V [
,[ \
(] ^
image^ c
.c d
IsWaterMarkd o
.o p
HasValuep x
?y z
({ |
image	| Å
.
Å Ç
IsWaterMark
Ç ç
.
ç é
Value
é ì
?
î ï
$num
ñ ó
:
ò ô
$num
ö õ
)
õ ú
:
ù û
$num
ü †
)
† °
)
° ¢
)
¢ £
;
£ §
cmd 
. 

Parameters "
." #
Add# &
(& '
	DbFactory' 0
.0 1

GetDbParam1 ;
(; <
$str< H
,H I
DbTypeJ P
.P Q
Int16Q V
,V W
(X Y
imageY ^
.^ _
IsMain_ e
.e f
HasValuef n
?o p
(q r
imager w
.w x
IsMainx ~
.~ 
Value	 Ñ
?
Ö Ü
$num
á à
:
â ä
$num
ã å
)
å ç
:
é è
$num
ê ë
)
ë í
)
í ì
)
ì î
;
î ï
cmd 
. 

Parameters "
." #
Add# &
(& '
	DbFactory' 0
.0 1

GetDbParam1 ;
(; <
$str< J
,J K
DbTypeL R
.R S
Int16S X
,X Y
(Z [
image[ `
.` a
IsMastera i
.i j
HasValuej r
?s t
(u v
imagev {
.{ |
IsMaster	| Ñ
.
Ñ Ö
Value
Ö ä
?
ã å
$num
ç é
:
è ê
$num
ë í
)
í ì
:
î ï
$num
ñ ó
)
ó ò
)
ò ô
)
ô ö
;
ö õ
cmd   
.   

Parameters   "
.  " #
Add  # &
(  & '
	DbFactory  ' 0
.  0 1

GetDbParam  1 ;
(  ; <
$str  < D
,  D E
DbType  F L
.  L M
Int64  M R
,  R S
ParameterDirection  T f
.  f g
Output  g m
)  m n
)  n o
;  o p
MySqlDatabase!! !
.!!! "
ExecuteNonQuery!!" 1
(!!1 2
cmd!!2 5
,!!5 6
ConnectionType!!7 E
.!!E F
MasterDatabase!!F T
)!!T U
;!!U V
id"" 
="" 
Bikewale"" !
.""! "
Utility""" )
."") *
SqlReaderConvertor""* <
.""< =
ToUInt64""= E
(""E F
cmd""F I
.""I J

Parameters""J T
[""T U
$str""U ]
]""] ^
.""^ _
Value""_ d
)""d e
;""e f
image## 
.## 
Id## 
=## 
id## !
;##! "
}$$ 
}%% 
catch&& 
(&& 
	Exception&& 
ex&& 
)&&  
{'' 

ErrorClass(( 
objErr(( !
=((" #
new(($ '

ErrorClass((( 2
(((2 3
ex((3 5
,((5 6
$str((7 N
)((N O
;((O P
})) 
return** 
id** 
;** 
}++ 	
},, 
}-- ‰?
CD:\work\bikewaleweb\BikewaleOpr.DALs\Location\LocationRepository.cs
	namespace 	
BikewaleOpr
 
. 
DALs 
. 
Location #
{ 
public 

class 
LocationRepository #
:$ %
	ILocation& /
{ 
public 
IEnumerable 
< 
StateEntityBase *
>* +
	GetStates, 5
(5 6
)6 7
{ 	
IEnumerable 
< 
StateEntityBase '
>' (
objStateList) 5
=6 7
null8 <
;< =
try   
{!! 
using"" 
("" 
IDbConnection"" $

connection""% /
=""0 1
DatabaseHelper""2 @
.""@ A
GetMasterConnection""A T
(""T U
)""U V
)""V W
{## 

connection$$ 
.$$ 
Open$$ #
($$# $
)$$$ %
;$$% &
objStateList&&  
=&&! "

connection&&# -
.&&- .
Query&&. 3
<&&3 4
StateEntityBase&&4 C
>&&C D
(&&D E
$str&&E Y
,&&Y Z
commandType&&[ f
:&&f g
CommandType&&h s
.&&s t
StoredProcedure	&&t É
)
&&É Ñ
;
&&Ñ Ö
if(( 
((( 

connection(( "
.((" #
State((# (
==(() +
ConnectionState((, ;
.((; <
Open((< @
)((@ A

connection)) "
.))" #
Close))# (
())( )
)))) *
;))* +
}** 
}++ 
catch,, 
(,, 
	Exception,, 
ex,, 
),,  
{-- 

ErrorClass.. 
objErr.. !
=.." #
new..$ '

ErrorClass..( 2
(..2 3
ex..3 5
,..5 6
$str..7 \
)..\ ]
;..] ^
objErr// 
.// 
SendMail// 
(//  
)//  !
;//! "
}00 
return22 
objStateList22 
;22  
}33 	
public:: 
IEnumerable:: 
<:: 
CityNameEntity:: )
>::) *
GetDealerCities::+ :
(::: ;
)::; <
{;; 	
IEnumerable<< 
<<< 
CityNameEntity<< &
><<& '
cities<<( .
=<</ 0
null<<1 5
;<<5 6
try>> 
{?? 
using@@ 
(@@ 
IDbConnection@@ $

connection@@% /
=@@0 1
DatabaseHelper@@2 @
.@@@ A
GetMasterConnection@@A T
(@@T U
)@@U V
)@@V W
{AA 

connectionBB 
.BB 
OpenBB #
(BB# $
)BB$ %
;BB% &
citiesDD 
=DD 

connectionDD '
.DD' (
QueryDD( -
<DD- .
CityNameEntityDD. <
>DD< =
(DD= >
$strDD> _
,DD_ `
commandTypeDDa l
:DDl m
CommandTypeDDn y
.DDy z
StoredProcedure	DDz â
)
DDâ ä
;
DDä ã
ifFF 
(FF 

connectionFF "
.FF" #
StateFF# (
==FF) +
ConnectionStateFF, ;
.FF; <
OpenFF< @
)FF@ A

connectionGG "
.GG" #
CloseGG# (
(GG( )
)GG) *
;GG* +
}HH 
}II 
catchJJ 
(JJ 
	ExceptionJJ 
exJJ 
)JJ  
{KK 

ErrorClassLL 
objErrLL !
=LL" #
newLL$ '

ErrorClassLL( 2
(LL2 3
exLL3 5
,LL5 6
$strLL7 I
)LLI J
;LLJ K
}MM 
returnOO 
citiesOO 
;OO 
}PP 	
publicWW 
IEnumerableWW 
<WW 
CityNameEntityWW )
>WW) *
GetCitiesByStateWW+ ;
(WW; <
uintWW< @
stateIdWWA H
)WWH I
{XX 	
IEnumerableYY 
<YY 
CityNameEntityYY &
>YY& '
stateCitiesYY( 3
=YY4 5
nullYY6 :
;YY: ;
try[[ 
{\\ 
using]] 
(]] 
IDbConnection]] $

connection]]% /
=]]0 1
DatabaseHelper]]2 @
.]]@ A
GetMasterConnection]]A T
(]]T U
)]]U V
)]]V W
{^^ 

connection__ 
.__ 
Open__ #
(__# $
)__$ %
;__% &
var`` 
param`` 
=`` 
new``  #
DynamicParameters``$ 5
(``5 6
)``6 7
;``7 8
paramaa 
.aa 
Addaa 
(aa 
$straa +
,aa+ ,
stateIdaa- 4
)aa4 5
;aa5 6
stateCitiescc 
=cc  !

connectioncc" ,
.cc, -
Querycc- 2
<cc2 3
CityNameEntitycc3 A
>ccA B
(ccB C
$strccC U
,ccU V
paramccW \
:cc\ ]
paramcc^ c
,ccc d
commandTypecce p
:ccp q
CommandTypeccr }
.cc} ~
StoredProcedure	cc~ ç
)
ccç é
;
ccé è
ifee 
(ee 

connectionee "
.ee" #
Stateee# (
==ee) +
ConnectionStateee, ;
.ee; <
Openee< @
)ee@ A

connectionff "
.ff" #
Closeff# (
(ff( )
)ff) *
;ff* +
}gg 
}hh 
catchii 
(ii 
	Exceptionii 
exii 
)ii  
{jj 

ErrorClasskk 
objErrkk !
=kk" #
newkk$ '

ErrorClasskk( 2
(kk2 3
exkk3 5
,kk5 6
stringkk7 =
.kk= >
Formatkk> D
(kkD E
$strkkE c
,kkc d
stateIdkke l
)kkl m
)kkm n
;kkn o
}ll 
returnnn 
stateCitiesnn 
;nn 
}oo 	
publicvv 
IEnumerablevv 
<vv 
CityNameEntityvv )
>vv) *
GetAllCitiesvv+ 7
(vv7 8
)vv8 9
{ww 	
IEnumerablexx 
<xx 
CityNameEntityxx &
>xx& '
citiesxx( .
=xx/ 0
nullxx1 5
;xx5 6
tryzz 
{{{ 
using|| 
(|| 
IDbConnection|| $

connection||% /
=||0 1
DatabaseHelper||2 @
.||@ A
GetMasterConnection||A T
(||T U
)||U V
)||V W
{}} 

connection~~ 
.~~ 
Open~~ #
(~~# $
)~~$ %
;~~% &
cities
ÄÄ 
=
ÄÄ 

connection
ÄÄ '
.
ÄÄ' (
Query
ÄÄ( -
<
ÄÄ- .
CityNameEntity
ÄÄ. <
>
ÄÄ< =
(
ÄÄ= >
$str
ÄÄ> L
,
ÄÄL M
commandType
ÄÄN Y
:
ÄÄY Z
CommandType
ÄÄ[ f
.
ÄÄf g
StoredProcedure
ÄÄg v
)
ÄÄv w
;
ÄÄw x
if
ÇÇ 
(
ÇÇ 

connection
ÇÇ "
.
ÇÇ" #
State
ÇÇ# (
==
ÇÇ) +
ConnectionState
ÇÇ, ;
.
ÇÇ; <
Open
ÇÇ< @
)
ÇÇ@ A

connection
ÉÉ "
.
ÉÉ" #
Close
ÉÉ# (
(
ÉÉ( )
)
ÉÉ) *
;
ÉÉ* +
}
ÑÑ 
}
ÖÖ 
catch
ÜÜ 
(
ÜÜ 
	Exception
ÜÜ 
ex
ÜÜ 
)
ÜÜ  
{
áá 

ErrorClass
àà 
objErr
àà !
=
àà" #
new
àà$ '

ErrorClass
àà( 2
(
àà2 3
ex
àà3 5
,
àà5 6
string
àà7 =
.
àà= >
Format
àà> D
(
ààD E
$str
ààE S
)
ààS T
)
ààT U
;
ààU V
}
ââ 
return
ãã 
cities
ãã 
;
ãã 
}
åå 	
}
éé 
}èè ù‰
PD:\work\bikewaleweb\BikewaleOpr.DALs\ManufactureCampaign\ManufacturerCampaign.cs
	namespace 	
BikewaleOpr
 
. 
DALs 
. 
ManufactureCampaign .
{ 
public 

class  
ManufacturerCampaign %
:& '+
IManufacturerCampaignRepository( G
{ 
public 
IEnumerable 
< +
ManufacturerCampaignDetailsList :
>: ;#
GetManufactureCampaigns< S
(S T
uintT X
dealerIdY a
,a b
uintb f
allActiveCampaigng x
)x y
{ 	
IEnumerable 
< +
ManufacturerCampaignDetailsList 7
>7 8"
dtManufactureCampaigns9 O
=P Q
nullR V
;V W
try 
{ 
using   
(   
IDbConnection   $

connection  % /
=  0 1
DatabaseHelper  2 @
.  @ A
GetMasterConnection  A T
(  T U
)  U V
)  V W
{!! 

connection"" 
."" 
Open"" #
(""# $
)""$ %
;""% &
var$$ 
param$$ 
=$$ 
new$$  #
DynamicParameters$$$ 5
($$5 6
)$$6 7
;$$7 8
param&& 
.&& 
Add&& 
(&& 
$str&& ,
,&&, -
dealerId&&. 6
)&&6 7
;&&7 8
param'' 
.'' 
Add'' 
('' 
$str'' 5
,''5 6
allActiveCampaign''7 H
)''H I
;''I J"
dtManufactureCampaigns(( *
=((+ ,

connection((- 7
.((7 8
Query((8 =
<((= >+
ManufacturerCampaignDetailsList((> ]
>((] ^
(((^ _
$str((_ 
,	(( Ä
param
((Å Ü
:
((Ü á
param
((à ç
,
((ç é
commandType
((è ö
:
((ö õ
CommandType
((ú ß
.
((ß ®
StoredProcedure
((® ∑
)
((∑ ∏
;
((∏ π
if** 
(** 

connection** "
.**" #
State**# (
==**) +
ConnectionState**, ;
.**; <
Open**< @
)**@ A

connection++ "
.++" #
Close++# (
(++( )
)++) *
;++* +
},, 
}-- 
catch.. 
(.. 
	Exception.. 
ex.. 
)..  
{// 

ErrorClass00 
objErr00 !
=00" #
new00$ '

ErrorClass00( 2
(002 3
ex003 5
,005 6
string007 =
.00= >
Format00> D
(00D E
$str	00E ®
,
00® ©
dealerId
00™ ≤
,
00≤ ≥
allActiveCampaign
00¥ ≈
)
00≈ ∆
)
00∆ «
;
00« »
}11 
return22 "
dtManufactureCampaigns22 )
;22) *
}33 	
public:: 
IEnumerable:: 
<:: %
ManufactureDealerCampaign:: 4
>::4 5&
SearchManufactureCampaigns::6 P
(::P Q
uint::Q U
dealerId::V ^
)::^ _
{;; 	
IList== 
<== %
ManufactureDealerCampaign== +
>==+ ,"
dtManufactureCampaigns==- C
===D E
null==F J
;==J K
try?? 
{@@ 
ifAA 
(AA 
dealerIdAA 
>AA 
$numAA  
)AA  !
{BB 
usingCC 
(CC 
	DbCommandCC $
cmdCC% (
=CC) *
	DbFactoryCC+ 4
.CC4 5
GetDBCommandCC5 A
(CCA B
$strCCB ^
)CC^ _
)CC_ `
{DD 
cmdFF 
.FF 
CommandTypeFF '
=FF( )
CommandTypeFF* 5
.FF5 6
StoredProcedureFF6 E
;FFE F
cmdGG 
.GG 

ParametersGG &
.GG& '
AddGG' *
(GG* +
	DbFactoryGG+ 4
.GG4 5

GetDbParamGG5 ?
(GG? @
$strGG@ N
,GGN O
DbTypeGGP V
.GGV W
Int32GGW \
,GG\ ]
dealerIdGG^ f
)GGf g
)GGg h
;GGh i
usingJJ 
(JJ 
IDataReaderJJ *
drJJ+ -
=JJ. /
MySqlDatabaseJJ0 =
.JJ= >
SelectQueryJJ> I
(JJI J
cmdJJJ M
,JJM N
ConnectionTypeJJO ]
.JJ] ^
MasterDatabaseJJ^ l
)JJl m
)JJm n
{KK 
ifLL 
(LL  
drLL  "
!=LL# %
nullLL& *
)LL* +
{MM "
dtManufactureCampaignsNN  6
=NN7 8
newNN9 <
ListNN= A
<NNA B%
ManufactureDealerCampaignNNB [
>NN[ \
(NN\ ]
)NN] ^
;NN^ _
whileOO  %
(OO& '
drOO' )
.OO) *
ReadOO* .
(OO. /
)OO/ 0
)OO0 1
{PP  !"
dtManufactureCampaignsQQ$ :
.QQ: ;
AddQQ; >
(QQ> ?
newQQ? B%
ManufactureDealerCampaignQQC \
{RR$ %
idSS( *
=SS+ ,
SqlReaderConvertorSS- ?
.SS? @
ToInt32SS@ G
(SSG H
drSSH J
[SSJ K
$strSSK O
]SSO P
)SSP Q
,SSQ R
dealeridTT( 0
=TT1 2
SqlReaderConvertorTT3 E
.TTE F
ToInt32TTF M
(TTM N
drTTN P
[TTP Q
$strTTQ [
]TT[ \
)TT\ ]
,TT] ^
descriptionUU( 3
=UU4 5
ConvertUU6 =
.UU= >
ToStringUU> F
(UUF G
drUUG I
[UUI J
$strUUJ W
]UUW X
)UUX Y
,UUY Z
isactiveVV( 0
=VV1 2
SqlReaderConvertorVV3 E
.VVE F
ToInt32VVF M
(VVM N
drVVN P
[VVP Q
$strVVQ [
]VV[ \
)VV\ ]
,VV] ^
maskingnumberWW( 5
=WW6 7
ConvertWW8 ?
.WW? @
ToStringWW@ H
(WWH I
drWWI K
[WWK L
$strWWL [
]WW[ \
)WW\ ]
}YY$ %
)YY% &
;YY& '
}ZZ  !
dr[[  "
.[[" #
Close[[# (
([[( )
)[[) *
;[[* +
}\\ 
}]] 
}^^ 
}__ 
}`` 
catchaa 
(aa 
	Exceptionaa 
exaa 
)aa  
{bb 

ErrorClasscc 
objErrcc !
=cc" #
newcc$ '

ErrorClasscc( 2
(cc2 3
excc3 5
,cc5 6
$strcc7 h
)cch i
;cci j
}dd 
returnee "
dtManufactureCampaignsee )
;ee) *
}ff 	
publicmm 
boolmm  
UpdateCampaignStatusmm (
(mm( )
uintmm) -
idmm. 0
,mm0 1
boolmm2 6
isactivemm7 ?
)mm? @
{nn 	
booloo 
	isSuccessoo 
=oo 
falseoo "
;oo" #
tryqq 
{rr 
usingss 
(ss 
	DbCommandss  
cmdss! $
=ss% &
	DbFactoryss' 0
.ss0 1
GetDBCommandss1 =
(ss= >
$strss> U
)ssU V
)ssV W
{tt 
cmduu 
.uu 
CommandTypeuu #
=uu$ %
CommandTypeuu& 1
.uu1 2
StoredProcedureuu2 A
;uuA B
cmdvv 
.vv 

Parametersvv "
.vv" #
Addvv# &
(vv& '
	DbFactoryvv' 0
.vv0 1

GetDbParamvv1 ;
(vv; <
$strvv< D
,vvD E
DbTypevvF L
.vvL M
UInt32vvM S
,vvS T
idvvU W
)vvW X
)vvX Y
;vvY Z
cmdww 
.ww 

Parametersww "
.ww" #
Addww# &
(ww& '
	DbFactoryww' 0
.ww0 1

GetDbParamww1 ;
(ww; <
$strww< J
,wwJ K
DbTypewwL R
.wwR S
BooleanwwS Z
,wwZ [
isactiveww\ d
)wwd e
)wwe f
;wwf g
	isSuccessxx 
=xx 
Convertxx  '
.xx' (
	ToBooleanxx( 1
(xx1 2
MySqlDatabasexx2 ?
.xx? @
ExecuteNonQueryxx@ O
(xxO P
cmdxxP S
,xxS T
ConnectionTypexxU c
.xxc d
MasterDatabasexxd r
)xxr s
)xxs t
;xxt u
}yy 
}zz 
catch{{ 
({{ 
	Exception{{ 
ex{{ 
){{  
{|| 

ErrorClass}} 
objErr}} !
=}}" #
new}}$ '

ErrorClass}}( 2
(}}2 3
ex}}3 5
,}}5 6
$str}}7 c
)}}c d
;}}d e
}~~ 
return 
	isSuccess 
; 
}
ÄÄ 	
public
áá 
bool
áá "
UpdateCampaignStatus
áá (
(
áá( )
uint
áá) -

campaignId
áá. 8
,
áá8 9
uint
áá: >
status
áá? E
)
ááE F
{
àà 	
int
ââ 
	isSuccess
ââ 
=
ââ 
$num
ââ 
;
ââ 
try
ää 
{
ãã 
using
åå 
(
åå 
IDbConnection
åå $

connection
åå% /
=
åå0 1
DatabaseHelper
åå2 @
.
åå@ A!
GetMasterConnection
ååA T
(
ååT U
)
ååU V
)
ååV W
{
çç 

connection
éé 
.
éé 
Open
éé #
(
éé# $
)
éé$ %
;
éé% &
var
êê 
param
êê 
=
êê 
new
êê  #
DynamicParameters
êê$ 5
(
êê5 6
)
êê6 7
;
êê7 8
param
íí 
.
íí 
Add
íí 
(
íí 
$str
íí .
,
íí. /

campaignId
íí0 :
)
íí: ;
;
íí; <
param
ìì 
.
ìì 
Add
ìì 
(
ìì 
$str
ìì *
,
ìì* +
status
ìì, 2
)
ìì2 3
;
ìì3 4
	isSuccess
ïï 
=
ïï 

connection
ïï )
.
ïï) *
Execute
ïï* 1
(
ïï1 2
$str
ïï2 T
,
ïïT U
param
ïïV [
:
ïï[ \
param
ïï] b
,
ïïb c
commandType
ïïd o
:
ïïo p
CommandType
ïïq |
.
ïï| }
StoredProcedureïï} å
)ïïå ç
;ïïç é
if
óó 
(
óó 

connection
óó "
.
óó" #
State
óó# (
==
óó) +
ConnectionState
óó, ;
.
óó; <
Open
óó< @
)
óó@ A

connection
òò "
.
òò" #
Close
òò# (
(
òò( )
)
òò) *
;
òò* +
}
ôô 
}
õõ 
catch
úú 
(
úú 
	Exception
úú 
ex
úú 
)
úú  
{
ùù 

ErrorClass
ûû 
objErr
ûû !
=
ûû" #
new
ûû$ '

ErrorClass
ûû( 2
(
ûû2 3
ex
ûû3 5
,
ûû5 6
string
ûû7 =
.
ûû= >
Format
ûû> D
(
ûûD E
$strûûE ù
,ûûù û

campaignIdûûü ©
,ûû© ™
statusûû´ ±
)ûû± ≤
)ûû≤ ≥
;ûû≥ ¥
}
üü 
return
†† 
	isSuccess
†† 
>
†† 
$num
††  
;
††  !
}
°° 	
public
®® 
IEnumerable
®® 
<
®®  
ManufacturerEntity
®® -
>
®®- ."
GetManufacturersList
®®/ C
(
®®C D
)
®®D E
{
©© 	
IList
™™ 
<
™™  
ManufacturerEntity
™™ $
>
™™$ %
manufacturers
™™& 3
=
™™4 5
null
™™6 :
;
™™: ;
try
¨¨ 
{
≠≠ 
using
ÆÆ 
(
ÆÆ 
	DbCommand
ÆÆ  
cmd
ÆÆ! $
=
ÆÆ% &
	DbFactory
ÆÆ' 0
.
ÆÆ0 1
GetDBCommand
ÆÆ1 =
(
ÆÆ= >
$str
ÆÆ> W
)
ÆÆW X
)
ÆÆX Y
{
ØØ 
cmd
∞∞ 
.
∞∞ 
CommandType
∞∞ #
=
∞∞$ %
CommandType
∞∞& 1
.
∞∞1 2
StoredProcedure
∞∞2 A
;
∞∞A B
using
≤≤ 
(
≤≤ 
IDataReader
≤≤ &
reader
≤≤' -
=
≤≤. /
MySqlDatabase
≤≤0 =
.
≤≤= >
SelectQuery
≤≤> I
(
≤≤I J
cmd
≤≤J M
,
≤≤M N
ConnectionType
≤≤O ]
.
≤≤] ^
ReadOnly
≤≤^ f
)
≤≤f g
)
≤≤g h
{
≥≥ 
if
¥¥ 
(
¥¥ 
reader
¥¥ "
!=
¥¥# %
null
¥¥& *
)
¥¥* +
{
µµ 
manufacturers
∂∂ )
=
∂∂* +
new
∂∂, /
List
∂∂0 4
<
∂∂4 5 
ManufacturerEntity
∂∂5 G
>
∂∂G H
(
∂∂H I
)
∂∂I J
;
∂∂J K
while
∑∑ !
(
∑∑" #
reader
∑∑# )
.
∑∑) *
Read
∑∑* .
(
∑∑. /
)
∑∑/ 0
)
∑∑0 1
{
∏∏ 
manufacturers
ππ  -
.
ππ- .
Add
ππ. 1
(
ππ1 2
new
∫∫$ ' 
ManufacturerEntity
∫∫( :
(
∫∫: ;
)
∫∫; <
{
ªª$ %
Id
ºº( *
=
ºº+ , 
SqlReaderConvertor
ºº- ?
.
ºº? @
ToInt32
ºº@ G
(
ººG H
reader
ººH N
[
ººN O
$str
ººO S
]
ººS T
)
ººT U
,
ººU V
Name
ΩΩ( ,
=
ΩΩ- .
Convert
ΩΩ/ 6
.
ΩΩ6 7
ToString
ΩΩ7 ?
(
ΩΩ? @
reader
ΩΩ@ F
[
ΩΩF G
$str
ΩΩG M
]
ΩΩM N
)
ΩΩN O
,
ΩΩO P
Organization
ææ( 4
=
ææ5 6
Convert
ææ7 >
.
ææ> ?
ToString
ææ? G
(
ææG H
reader
ææH N
[
ææN O
$str
ææO ]
]
ææ] ^
)
ææ^ _
}
øø$ %
)
¿¿$ %
;
¿¿% &
}
¡¡ 
}
¬¬ 
}
√√ 
}
ƒƒ 
}
≈≈ 
catch
∆∆ 
(
∆∆ 
	Exception
∆∆ 
ex
∆∆ 
)
∆∆  
{
«« 

ErrorClass
»» 
objErr
»» !
=
»»" #
new
»»$ '

ErrorClass
»»( 2
(
»»2 3
ex
»»3 5
,
»»5 6
$str
»»7 k
)
»»k l
;
»»l m
}
…… 
return
ÀÀ 
manufacturers
ÀÀ  
;
ÀÀ  !
}
ÃÃ 	
public
““ 
IEnumerable
““ 
<
““ 
MfgCityEntity
““ (
>
““( )#
GetManufacturerCities
““* ?
(
““? @
)
““@ A
{
”” 	
List
‘‘ 
<
‘‘ 
MfgCityEntity
‘‘ 
>
‘‘ 
AllMfgcities
‘‘  ,
=
‘‘- .
null
‘‘/ 3
;
‘‘3 4
try
’’ 
{
÷÷ 
using
◊◊ 
(
◊◊ 
	DbCommand
◊◊  
cmd
◊◊! $
=
◊◊% &
	DbFactory
◊◊' 0
.
◊◊0 1
GetDBCommand
◊◊1 =
(
◊◊= >
$str
◊◊> U
)
◊◊U V
)
◊◊V W
{
ÿÿ 
cmd
⁄⁄ 
.
⁄⁄ 
CommandType
⁄⁄ #
=
⁄⁄$ %
CommandType
⁄⁄& 1
.
⁄⁄1 2
StoredProcedure
⁄⁄2 A
;
⁄⁄A B
using
€€ 
(
€€ 
IDataReader
€€ &
dr
€€' )
=
€€* +
MySqlDatabase
€€, 9
.
€€9 :
SelectQuery
€€: E
(
€€E F
cmd
€€F I
,
€€I J
ConnectionType
€€K Y
.
€€Y Z
ReadOnly
€€Z b
)
€€b c
)
€€c d
{
‹‹ 
if
›› 
(
›› 
dr
›› 
!=
›› !
null
››" &
)
››& '
{
ﬁﬁ 
AllMfgcities
ﬂﬂ (
=
ﬂﬂ) *
new
ﬂﬂ+ .
List
ﬂﬂ/ 3
<
ﬂﬂ3 4
MfgCityEntity
ﬂﬂ4 A
>
ﬂﬂA B
(
ﬂﬂB C
)
ﬂﬂC D
;
ﬂﬂD E
while
·· !
(
··" #
dr
··# %
.
··% &
Read
··& *
(
··* +
)
··+ ,
)
··, -
{
‚‚ 
AllMfgcities
„„  ,
.
„„, -
Add
„„- 0
(
„„0 1
new
„„1 4
MfgCityEntity
„„5 B
(
„„B C
)
„„C D
{
‰‰  !
CityId
ÂÂ$ *
=
ÂÂ+ , 
SqlReaderConvertor
ÂÂ- ?
.
ÂÂ? @
ToInt32
ÂÂ@ G
(
ÂÂG H
dr
ÂÂH J
[
ÂÂJ K
$str
ÂÂK O
]
ÂÂO P
)
ÂÂP Q
,
ÂÂQ R
CityName
ÊÊ$ ,
=
ÊÊ- .
dr
ÊÊ/ 1
[
ÊÊ1 2
$str
ÊÊ2 8
]
ÊÊ8 9
.
ÊÊ9 :
ToString
ÊÊ: B
(
ÊÊB C
)
ÊÊC D
,
ÊÊD E
	StateName
ÁÁ$ -
=
ÁÁ. /
dr
ÁÁ0 2
[
ÁÁ2 3
$str
ÁÁ3 >
]
ÁÁ> ?
.
ÁÁ? @
ToString
ÁÁ@ H
(
ÁÁH I
)
ÁÁI J
}
ËË  !
)
ËË! "
;
ËË" #
}
ÈÈ 
dr
ÍÍ 
.
ÍÍ 
Close
ÍÍ $
(
ÍÍ$ %
)
ÍÍ% &
;
ÍÍ& '
}
ÎÎ 
}
ÏÏ 
}
ÌÌ 
}
ÔÔ 
catch
 
(
 
	Exception
 
ex
 
)
  
{
ÒÒ 

ErrorClass
ÚÚ 
objErr
ÚÚ !
=
ÚÚ" #
new
ÚÚ$ '

ErrorClass
ÚÚ( 2
(
ÚÚ2 3
ex
ÚÚ3 5
,
ÚÚ5 6
$str
ÚÚ7 g
)
ÚÚg h
;
ÚÚh i
}
ÛÛ 
return
ÙÙ 
AllMfgcities
ÙÙ 
;
ÙÙ  
}
ˆˆ 	
public
˛˛ 
IEnumerable
˛˛ 
<
˛˛ $
MfgCampaignRulesEntity
˛˛ 1
>
˛˛1 2,
FetchManufacturerCampaignRules
˛˛3 Q
(
˛˛Q R
int
˛˛R U

campaignId
˛˛V `
)
˛˛` a
{
ˇˇ 	
List
ÄÄ 
<
ÄÄ $
MfgCampaignRulesEntity
ÄÄ '
>
ÄÄ' ()
dtManufacturerCampaignRules
ÄÄ) D
=
ÄÄE F
null
ÄÄG K
;
ÄÄK L
try
ÇÇ 
{
ÉÉ 
if
ÑÑ 
(
ÑÑ 

campaignId
ÑÑ 
>
ÑÑ  
$num
ÑÑ! "
)
ÑÑ" #
{
ÖÖ 
using
ÜÜ 
(
ÜÜ 
	DbCommand
ÜÜ $
cmd
ÜÜ% (
=
ÜÜ) *
	DbFactory
ÜÜ+ 4
.
ÜÜ4 5
GetDBCommand
ÜÜ5 A
(
ÜÜA B
$str
ÜÜB b
)
ÜÜb c
)
ÜÜc d
{
áá 
cmd
ââ 
.
ââ 
CommandType
ââ '
=
ââ( )
CommandType
ââ* 5
.
ââ5 6
StoredProcedure
ââ6 E
;
ââE F
cmd
ää 
.
ää 

Parameters
ää &
.
ää& '
Add
ää' *
(
ää* +
	DbFactory
ää+ 4
.
ää4 5

GetDbParam
ää5 ?
(
ää? @
$str
ää@ P
,
ääP Q
DbType
ääR X
.
ääX Y
Int32
ääY ^
,
ää^ _

campaignId
ää` j
)
ääj k
)
ääk l
;
ääl m
using
åå 
(
åå 
IDataReader
åå *
dr
åå+ -
=
åå. /
MySqlDatabase
åå0 =
.
åå= >
SelectQuery
åå> I
(
ååI J
cmd
ååJ M
,
ååM N
ConnectionType
ååO ]
.
åå] ^
ReadOnly
åå^ f
)
ååf g
)
ååg h
{
çç 
if
éé 
(
éé  
dr
éé  "
!=
éé# %
null
éé& *
)
éé* +
{
èè )
dtManufacturerCampaignRules
êê  ;
=
êê< =
new
êê> A
List
êêB F
<
êêF G$
MfgCampaignRulesEntity
êêG ]
>
êê] ^
(
êê^ _
)
êê_ `
;
êê` a
while
íí  %
(
íí& '
dr
íí' )
.
íí) *
Read
íí* .
(
íí. /
)
íí/ 0
)
íí0 1
{
ìì  !)
dtManufacturerCampaignRules
îî$ ?
.
îî? @
Add
îî@ C
(
îîC D
new
îîD G$
MfgCampaignRulesEntity
îîH ^
(
îî^ _
)
îî_ `
{
ïï$ %
CampaignRuleId
ññ( 6
=
ññ7 8 
SqlReaderConvertor
ññ9 K
.
ññK L
ToInt32
ññL S
(
ññS T
dr
ññT V
[
ññV W
$str
ññW g
]
ññg h
)
ññh i
,
ññi j
	ModelName
óó( 1
=
óó2 3
dr
óó4 6
[
óó6 7
$str
óó7 B
]
óóB C
.
óóC D
ToString
óóD L
(
óóL M
)
óóM N
,
óóN O
MakeName
òò( 0
=
òò1 2
dr
òò3 5
[
òò5 6
$str
òò6 @
]
òò@ A
.
òòA B
ToString
òòB J
(
òòJ K
)
òòK L
,
òòL M
CityName
ôô( 0
=
ôô1 2
dr
ôô3 5
[
ôô5 6
$str
ôô6 @
]
ôô@ A
.
ôôA B
ToString
ôôB J
(
ôôJ K
)
ôôK L
,
ôôL M
	StateName
öö( 1
=
öö2 3
dr
öö4 6
[
öö6 7
$str
öö7 B
]
ööB C
.
ööC D
ToString
ööD L
(
ööL M
)
ööM N
}
õõ$ %
)
õõ% &
;
õõ& '
}
úú  !
dr
ùù  "
.
ùù" #
Close
ùù# (
(
ùù( )
)
ùù) *
;
ùù* +
}
ûû 
}
üü 
}
†† 
}
°° 
}
¢¢ 
catch
££ 
(
££ 
	Exception
££ 
ex
££ 
)
££  
{
§§ 

ErrorClass
•• 
objErr
•• !
=
••" #
new
••$ '

ErrorClass
••( 2
(
••2 3
ex
••3 5
,
••5 6
$str
••7 p
)
••p q
;
••q r
}
¶¶ 
return
®® )
dtManufacturerCampaignRules
®® .
;
®®. /
}
©© 	
public
±± 
int
±± +
SaveManufacturerCampaignRules
±± 0
(
±±0 1
MfgNewRulesEntity
±±1 B
MgfRules
±±C K
)
±±K L
{
≤≤ 	
int
≥≥ 
rowsInserted
≥≥ 
=
≥≥ 
$num
≥≥  
;
≥≥  !
try
¥¥ 
{
µµ 
using
∂∂ 
(
∂∂ 
	DbCommand
∂∂  
cmd
∂∂! $
=
∂∂% &
	DbFactory
∂∂' 0
.
∂∂0 1
GetDBCommand
∂∂1 =
(
∂∂= >
$str
∂∂> ]
)
∂∂] ^
)
∂∂^ _
{
∑∑ 
cmd
∏∏ 
.
∏∏ 
CommandType
∏∏ #
=
∏∏$ %
CommandType
∏∏& 1
.
∏∏1 2
StoredProcedure
∏∏2 A
;
∏∏A B
cmd
ππ 
.
ππ 

Parameters
ππ "
.
ππ" #
Add
ππ# &
(
ππ& '
	DbFactory
ππ' 0
.
ππ0 1

GetDbParam
ππ1 ;
(
ππ; <
$str
ππ< L
,
ππL M
DbType
ππN T
.
ππT U
Int32
ππU Z
,
ππZ [
MgfRules
ππ\ d
.
ππd e

CampaignId
ππe o
)
ππo p
)
ππp q
;
ππq r
cmd
∫∫ 
.
∫∫ 

Parameters
∫∫ "
.
∫∫" #
Add
∫∫# &
(
∫∫& '
	DbFactory
∫∫' 0
.
∫∫0 1

GetDbParam
∫∫1 ;
(
∫∫; <
$str
∫∫< N
,
∫∫N O
DbType
∫∫P V
.
∫∫V W
String
∫∫W ]
,
∫∫] ^
MgfRules
∫∫_ g
.
∫∫g h
CityIds
∫∫h o
)
∫∫o p
)
∫∫p q
;
∫∫q r
cmd
ªª 
.
ªª 

Parameters
ªª "
.
ªª" #
Add
ªª# &
(
ªª& '
	DbFactory
ªª' 0
.
ªª0 1

GetDbParam
ªª1 ;
(
ªª; <
$str
ªª< H
,
ªªH I
DbType
ªªJ P
.
ªªP Q
Int32
ªªQ V
,
ªªV W
MgfRules
ªªX `
.
ªª` a
UserId
ªªa g
)
ªªg h
)
ªªh i
;
ªªi j
cmd
ºº 
.
ºº 

Parameters
ºº "
.
ºº" #
Add
ºº# &
(
ºº& '
	DbFactory
ºº' 0
.
ºº0 1

GetDbParam
ºº1 ;
(
ºº; <
$str
ºº< J
,
ººJ K
DbType
ººL R
.
ººR S
String
ººS Y
,
ººY Z
MgfRules
ºº[ c
.
ººc d
ModelIds
ººd l
)
ººl m
)
ººm n
;
ººn o
cmd
ΩΩ 
.
ΩΩ 

Parameters
ΩΩ "
.
ΩΩ" #
Add
ΩΩ# &
(
ΩΩ& '
	DbFactory
ΩΩ' 0
.
ΩΩ0 1

GetDbParam
ΩΩ1 ;
(
ΩΩ; <
$str
ΩΩ< L
,
ΩΩL M
DbType
ΩΩN T
.
ΩΩT U
Boolean
ΩΩU \
,
ΩΩ\ ]
MgfRules
ΩΩ^ f
.
ΩΩf g

IsAllIndia
ΩΩg q
)
ΩΩq r
)
ΩΩr s
;
ΩΩs t
using
ææ 
(
ææ 
IDataReader
ææ &
dr
ææ' )
=
ææ* +
MySqlDatabase
ææ, 9
.
ææ9 :
SelectQuery
ææ: E
(
ææE F
cmd
ææF I
,
ææI J
ConnectionType
ææK Y
.
ææY Z
MasterDatabase
ææZ h
)
ææh i
)
ææi j
{
øø 
if
¿¿ 
(
¿¿ 
dr
¿¿ 
!=
¿¿ !
null
¿¿" &
)
¿¿& '
{
¡¡ 
dr
√√ 
.
√√ 
Read
√√ #
(
√√# $
)
√√$ %
;
√√% &
rowsInserted
ƒƒ (
=
ƒƒ) * 
SqlReaderConvertor
ƒƒ+ =
.
ƒƒ= >
ToInt32
ƒƒ> E
(
ƒƒE F
dr
ƒƒF H
[
ƒƒH I
$str
ƒƒI W
]
ƒƒW X
)
ƒƒX Y
;
ƒƒY Z
dr
≈≈ 
.
≈≈ 
Close
≈≈ $
(
≈≈$ %
)
≈≈% &
;
≈≈& '
}
∆∆ 
}
«« 
}
»» 
}
…… 
catch
   
(
   
	Exception
   
ex
   
)
    
{
ÀÀ 

ErrorClass
ÃÃ 
objErr
ÃÃ !
=
ÃÃ" #
new
ÃÃ$ '

ErrorClass
ÃÃ( 2
(
ÃÃ2 3
ex
ÃÃ3 5
,
ÃÃ5 6
$str
ÃÃ7 o
)
ÃÃo p
;
ÃÃp q
rowsInserted
ÕÕ 
=
ÕÕ 
-
ÕÕ  
$num
ÕÕ  !
;
ÕÕ! "
}
ŒŒ 
return
œœ 
rowsInserted
œœ 
;
œœ  
}
–– 	
public
ŸŸ 
bool
ŸŸ -
DeleteManufacturerCampaignRules
ŸŸ 3
(
ŸŸ3 4
int
ŸŸ4 7
userId
ŸŸ8 >
,
ŸŸ> ?
string
ŸŸ@ F
ruleIds
ŸŸG N
)
ŸŸN O
{
⁄⁄ 	
bool
€€ 
	isDeleted
€€ 
=
€€ 
false
€€ "
;
€€" #
try
›› 
{
ﬁﬁ 
using
ﬂﬂ 
(
ﬂﬂ 
	DbCommand
ﬂﬂ  
cmd
ﬂﬂ! $
=
ﬂﬂ% &
	DbFactory
ﬂﬂ' 0
.
ﬂﬂ0 1
GetDBCommand
ﬂﬂ1 =
(
ﬂﬂ= >
$str
ﬂﬂ> _
)
ﬂﬂ_ `
)
ﬂﬂ` a
{
‡‡ 
cmd
‚‚ 
.
‚‚ 
CommandType
‚‚ #
=
‚‚$ %
CommandType
‚‚& 1
.
‚‚1 2
StoredProcedure
‚‚2 A
;
‚‚A B
cmd
„„ 
.
„„ 

Parameters
„„ "
.
„„" #
Add
„„# &
(
„„& '
	DbFactory
„„' 0
.
„„0 1

GetDbParam
„„1 ;
(
„„; <
$str
„„< H
,
„„H I
DbType
„„J P
.
„„P Q
Int32
„„Q V
,
„„V W
userId
„„X ^
)
„„^ _
)
„„_ `
;
„„` a
cmd
‰‰ 
.
‰‰ 

Parameters
‰‰ "
.
‰‰" #
Add
‰‰# &
(
‰‰& '
	DbFactory
‰‰' 0
.
‰‰0 1

GetDbParam
‰‰1 ;
(
‰‰; <
$str
‰‰< I
,
‰‰I J
DbType
‰‰K Q
.
‰‰Q R
String
‰‰R X
,
‰‰X Y
$num
‰‰Z ]
,
‰‰] ^
ruleIds
‰‰_ f
)
‰‰f g
)
‰‰g h
;
‰‰h i
	isDeleted
ÂÂ 
=
ÂÂ 
MySqlDatabase
ÂÂ  -
.
ÂÂ- .
UpdateQuery
ÂÂ. 9
(
ÂÂ9 :
cmd
ÂÂ: =
,
ÂÂ= >
ConnectionType
ÂÂ? M
.
ÂÂM N
MasterDatabase
ÂÂN \
)
ÂÂ\ ]
;
ÂÂ] ^
}
ÊÊ 
}
ÁÁ 
catch
ËË 
(
ËË 
	Exception
ËË 
ex
ËË 
)
ËË  
{
ÈÈ 

ErrorClass
ÍÍ 
objErr
ÍÍ !
=
ÍÍ" #
new
ÍÍ$ '

ErrorClass
ÍÍ( 2
(
ÍÍ2 3
ex
ÍÍ3 5
,
ÍÍ5 6
$str
ÍÍ7 q
)
ÍÍq r
;
ÍÍr s
}
ÎÎ 
return
ÌÌ 
	isDeleted
ÌÌ 
;
ÌÌ 
}
ÓÓ 	
public
˘˘ 
int
˘˘ $
InsertBWDealerCampaign
˘˘ )
(
˘˘) *
string
˘˘* 0
description
˘˘1 <
,
˘˘< =
int
˘˘> A
isActive
˘˘B J
,
˘˘J K
string
˘˘L R
maskingNumber
˘˘S `
,
˘˘` a
int
˘˘b e
dealerId
˘˘f n
,
˘˘n o
int
˘˘p s
userId
˘˘t z
)
˘˘z {
{
˙˙ 	
try
˚˚ 
{
¸¸ 
using
˝˝ 
(
˝˝ 
	DbCommand
˝˝  
cmd
˝˝! $
=
˝˝% &
	DbFactory
˝˝' 0
.
˝˝0 1
GetDBCommand
˝˝1 =
(
˝˝= >
$str
˝˝> a
)
˝˝a b
)
˝˝b c
{
˛˛ 
cmd
ˇˇ 
.
ˇˇ 
CommandType
ˇˇ #
=
ˇˇ$ %
CommandType
ˇˇ& 1
.
ˇˇ1 2
StoredProcedure
ˇˇ2 A
;
ˇˇA B
cmd
ÄÄ 
.
ÄÄ 

Parameters
ÄÄ "
.
ÄÄ" #
Add
ÄÄ# &
(
ÄÄ& '
	DbFactory
ÄÄ' 0
.
ÄÄ0 1

GetDbParam
ÄÄ1 ;
(
ÄÄ; <
$str
ÄÄ< M
,
ÄÄM N
DbType
ÄÄO U
.
ÄÄU V
String
ÄÄV \
,
ÄÄ\ ]
$num
ÄÄ^ `
,
ÄÄ` a
description
ÄÄb m
)
ÄÄm n
)
ÄÄn o
;
ÄÄo p
cmd
ÅÅ 
.
ÅÅ 

Parameters
ÅÅ "
.
ÅÅ" #
Add
ÅÅ# &
(
ÅÅ& '
	DbFactory
ÅÅ' 0
.
ÅÅ0 1

GetDbParam
ÅÅ1 ;
(
ÅÅ; <
$str
ÅÅ< J
,
ÅÅJ K
DbType
ÅÅL R
.
ÅÅR S
Int32
ÅÅS X
,
ÅÅX Y
isActive
ÅÅZ b
)
ÅÅb c
)
ÅÅc d
;
ÅÅd e
cmd
ÇÇ 
.
ÇÇ 

Parameters
ÇÇ "
.
ÇÇ" #
Add
ÇÇ# &
(
ÇÇ& '
	DbFactory
ÇÇ' 0
.
ÇÇ0 1

GetDbParam
ÇÇ1 ;
(
ÇÇ; <
$str
ÇÇ< O
,
ÇÇO P
DbType
ÇÇQ W
.
ÇÇW X
String
ÇÇX ^
,
ÇÇ^ _
$num
ÇÇ` b
,
ÇÇb c
maskingNumber
ÇÇd q
)
ÇÇq r
)
ÇÇr s
;
ÇÇs t
cmd
ÉÉ 
.
ÉÉ 

Parameters
ÉÉ "
.
ÉÉ" #
Add
ÉÉ# &
(
ÉÉ& '
	DbFactory
ÉÉ' 0
.
ÉÉ0 1

GetDbParam
ÉÉ1 ;
(
ÉÉ; <
$str
ÉÉ< J
,
ÉÉJ K
DbType
ÉÉL R
.
ÉÉR S
Int32
ÉÉS X
,
ÉÉX Y
dealerId
ÉÉZ b
)
ÉÉb c
)
ÉÉc d
;
ÉÉd e
cmd
ÑÑ 
.
ÑÑ 

Parameters
ÑÑ "
.
ÑÑ" #
Add
ÑÑ# &
(
ÑÑ& '
	DbFactory
ÑÑ' 0
.
ÑÑ0 1

GetDbParam
ÑÑ1 ;
(
ÑÑ; <
$str
ÑÑ< H
,
ÑÑH I
DbType
ÑÑJ P
.
ÑÑP Q
Int32
ÑÑQ V
,
ÑÑV W
userId
ÑÑX ^
)
ÑÑ^ _
)
ÑÑ_ `
;
ÑÑ` a
cmd
ÖÖ 
.
ÖÖ 

Parameters
ÖÖ "
.
ÖÖ" #
Add
ÖÖ# &
(
ÖÖ& '
	DbFactory
ÖÖ' 0
.
ÖÖ0 1

GetDbParam
ÖÖ1 ;
(
ÖÖ; <
$str
ÖÖ< G
,
ÖÖG H
DbType
ÖÖI O
.
ÖÖO P
Int32
ÖÖP U
,
ÖÖU V 
ParameterDirection
ÖÖW i
.
ÖÖi j
Output
ÖÖj p
)
ÖÖp q
)
ÖÖq r
;
ÖÖr s
MySqlDatabase
ÜÜ !
.
ÜÜ! "
ExecuteNonQuery
ÜÜ" 1
(
ÜÜ1 2
cmd
ÜÜ2 5
,
ÜÜ5 6
ConnectionType
ÜÜ7 E
.
ÜÜE F
MasterDatabase
ÜÜF T
)
ÜÜT U
;
ÜÜU V
int
áá 

campaignId
áá "
=
áá# $
Convert
áá% ,
.
áá, -
ToInt32
áá- 4
(
áá4 5
cmd
áá5 8
.
áá8 9

Parameters
áá9 C
[
ááC D
$str
ááD O
]
ááO P
.
ááP Q
Value
ááQ V
)
ááV W
;
ááW X
return
àà 

campaignId
àà %
;
àà% &
}
ââ 
}
ää 
catch
ãã 
(
ãã 
	Exception
ãã 
ex
ãã 
)
ãã  
{
åå 

ErrorClass
çç 
objErr
çç !
=
çç" #
new
çç$ '

ErrorClass
çç( 2
(
çç2 3
ex
çç3 5
,
çç5 6
$str
çç7 c
)
ççc d
;
ççd e
return
éé 
$num
éé 
;
éé 
}
èè 
}
êê 	
public
¶¶ 
bool
¶¶ $
UpdateBWDealerCampaign
¶¶ *
(
¶¶* +
string
¶¶+ 1
description
¶¶2 =
,
¶¶= >
int
¶¶? B
isActive
¶¶C K
,
¶¶K L
string
¶¶M S
maskingNumber
¶¶T a
,
¶¶a b
int
¶¶c f
dealerId
¶¶g o
,
¶¶o p
int
¶¶q t
userId
¶¶u {
,
¶¶{ |
int¶¶} Ä

campaignId¶¶Å ã
,¶¶ã å
List¶¶ç ë
<¶¶ë í(
ManuCamEntityForTemplate¶¶í ™
>¶¶™ ´
objList¶¶¨ ≥
,¶¶≥ ¥
string¶¶µ ª'
LeadCapturePopupMessage¶¶º ”
,¶¶” ‘
string¶¶’ €+
LeadCapturePopupDescription¶¶‹ ˜
,¶¶˜ ¯
string¶¶˘ ˇ'
LeadCapturePopupHeading¶¶Ä ó
,¶¶ó ò
bool¶¶ô ù
pinCodeRequired¶¶û ≠
,¶¶≠ Æ
bool¶¶Æ ≤
emailIdRequired¶¶≥ ¬
)¶¶¬ √
{
ßß 	
bool
®® 
	isSuccess
®® 
=
®® 
false
®® "
;
®®" #
try
©© 
{
™™ 
using
´´ 
(
´´ 
	DbCommand
´´  
cmd
´´! $
=
´´% &
	DbFactory
´´' 0
.
´´0 1
GetDBCommand
´´1 =
(
´´= >
$str
´´> c
)
´´c d
)
´´d e
{
¨¨ 
cmd
≠≠ 
.
≠≠ 
CommandType
≠≠ #
=
≠≠$ %
CommandType
≠≠& 1
.
≠≠1 2
StoredProcedure
≠≠2 A
;
≠≠A B
cmd
ÆÆ 
.
ÆÆ 

Parameters
ÆÆ "
.
ÆÆ" #
Add
ÆÆ# &
(
ÆÆ& '
	DbFactory
ÆÆ' 0
.
ÆÆ0 1

GetDbParam
ÆÆ1 ;
(
ÆÆ; <
$str
ÆÆ< M
,
ÆÆM N
DbType
ÆÆO U
.
ÆÆU V
String
ÆÆV \
,
ÆÆ\ ]
$num
ÆÆ^ `
,
ÆÆ` a
description
ÆÆb m
)
ÆÆm n
)
ÆÆn o
;
ÆÆo p
cmd
ØØ 
.
ØØ 

Parameters
ØØ "
.
ØØ" #
Add
ØØ# &
(
ØØ& '
	DbFactory
ØØ' 0
.
ØØ0 1

GetDbParam
ØØ1 ;
(
ØØ; <
$str
ØØ< J
,
ØØJ K
DbType
ØØL R
.
ØØR S
Int32
ØØS X
,
ØØX Y
isActive
ØØZ b
)
ØØb c
)
ØØc d
;
ØØd e
cmd
∞∞ 
.
∞∞ 

Parameters
∞∞ "
.
∞∞" #
Add
∞∞# &
(
∞∞& '
	DbFactory
∞∞' 0
.
∞∞0 1

GetDbParam
∞∞1 ;
(
∞∞; <
$str
∞∞< O
,
∞∞O P
DbType
∞∞Q W
.
∞∞W X
String
∞∞X ^
,
∞∞^ _
$num
∞∞` b
,
∞∞b c
maskingNumber
∞∞d q
)
∞∞q r
)
∞∞r s
;
∞∞s t
cmd
±± 
.
±± 

Parameters
±± "
.
±±" #
Add
±±# &
(
±±& '
	DbFactory
±±' 0
.
±±0 1

GetDbParam
±±1 ;
(
±±; <
$str
±±< J
,
±±J K
DbType
±±L R
.
±±R S
Int32
±±S X
,
±±X Y
dealerId
±±Z b
)
±±b c
)
±±c d
;
±±d e
cmd
≤≤ 
.
≤≤ 

Parameters
≤≤ "
.
≤≤" #
Add
≤≤# &
(
≤≤& '
	DbFactory
≤≤' 0
.
≤≤0 1

GetDbParam
≤≤1 ;
(
≤≤; <
$str
≤≤< H
,
≤≤H I
DbType
≤≤J P
.
≤≤P Q
Int32
≤≤Q V
,
≤≤V W
userId
≤≤X ^
)
≤≤^ _
)
≤≤_ `
;
≤≤` a
cmd
≥≥ 
.
≥≥ 

Parameters
≥≥ "
.
≥≥" #
Add
≥≥# &
(
≥≥& '
	DbFactory
≥≥' 0
.
≥≥0 1

GetDbParam
≥≥1 ;
(
≥≥; <
$str
≥≥< L
,
≥≥L M
DbType
≥≥N T
.
≥≥T U
Int32
≥≥U Z
,
≥≥Z [

campaignId
≥≥\ f
)
≥≥f g
)
≥≥g h
;
≥≥h i
cmd
¥¥ 
.
¥¥ 

Parameters
¥¥ "
.
¥¥" #
Add
¥¥# &
(
¥¥& '
	DbFactory
¥¥' 0
.
¥¥0 1

GetDbParam
¥¥1 ;
(
¥¥; <
$str
¥¥< O
,
¥¥O P
DbType
¥¥Q W
.
¥¥W X
String
¥¥X ^
,
¥¥^ _
objList
¥¥` g
[
¥¥g h
$num
¥¥h i
]
¥¥i j
.
¥¥j k
TemplateHtml
¥¥k w
)
¥¥w x
)
¥¥x y
;
¥¥y z
cmd
µµ 
.
µµ 

Parameters
µµ "
.
µµ" #
Add
µµ# &
(
µµ& '
	DbFactory
µµ' 0
.
µµ0 1

GetDbParam
µµ1 ;
(
µµ; <
$str
µµ< M
,
µµM N
DbType
µµO U
.
µµU V
Int32
µµV [
,
µµ[ \
objList
µµ] d
[
µµd e
$num
µµe f
]
µµf g
.
µµg h

TemplateId
µµh r
)
µµr s
)
µµs t
;
µµt u
cmd
∂∂ 
.
∂∂ 

Parameters
∂∂ "
.
∂∂" #
Add
∂∂# &
(
∂∂& '
	DbFactory
∂∂' 0
.
∂∂0 1

GetDbParam
∂∂1 ;
(
∂∂; <
$str
∂∂< O
,
∂∂O P
DbType
∂∂Q W
.
∂∂W X
String
∂∂X ^
,
∂∂^ _
objList
∂∂` g
[
∂∂g h
$num
∂∂h i
]
∂∂i j
.
∂∂j k
TemplateHtml
∂∂k w
)
∂∂w x
)
∂∂x y
;
∂∂y z
cmd
∑∑ 
.
∑∑ 

Parameters
∑∑ "
.
∑∑" #
Add
∑∑# &
(
∑∑& '
	DbFactory
∑∑' 0
.
∑∑0 1

GetDbParam
∑∑1 ;
(
∑∑; <
$str
∑∑< M
,
∑∑M N
DbType
∑∑O U
.
∑∑U V
Int32
∑∑V [
,
∑∑[ \
objList
∑∑] d
[
∑∑d e
$num
∑∑e f
]
∑∑f g
.
∑∑g h

TemplateId
∑∑h r
)
∑∑r s
)
∑∑s t
;
∑∑t u
cmd
∏∏ 
.
∏∏ 

Parameters
∏∏ "
.
∏∏" #
Add
∏∏# &
(
∏∏& '
	DbFactory
∏∏' 0
.
∏∏0 1

GetDbParam
∏∏1 ;
(
∏∏; <
$str
∏∏< O
,
∏∏O P
DbType
∏∏Q W
.
∏∏W X
String
∏∏X ^
,
∏∏^ _
objList
∏∏` g
[
∏∏g h
$num
∏∏h i
]
∏∏i j
.
∏∏j k
TemplateHtml
∏∏k w
)
∏∏w x
)
∏∏x y
;
∏∏y z
cmd
ππ 
.
ππ 

Parameters
ππ "
.
ππ" #
Add
ππ# &
(
ππ& '
	DbFactory
ππ' 0
.
ππ0 1

GetDbParam
ππ1 ;
(
ππ; <
$str
ππ< M
,
ππM N
DbType
ππO U
.
ππU V
Int32
ππV [
,
ππ[ \
objList
ππ] d
[
ππd e
$num
ππe f
]
ππf g
.
ππg h

TemplateId
ππh r
)
ππr s
)
ππs t
;
ππt u
cmd
∫∫ 
.
∫∫ 

Parameters
∫∫ "
.
∫∫" #
Add
∫∫# &
(
∫∫& '
	DbFactory
∫∫' 0
.
∫∫0 1

GetDbParam
∫∫1 ;
(
∫∫; <
$str
∫∫< O
,
∫∫O P
DbType
∫∫Q W
.
∫∫W X
String
∫∫X ^
,
∫∫^ _
objList
∫∫` g
[
∫∫g h
$num
∫∫h i
]
∫∫i j
.
∫∫j k
TemplateHtml
∫∫k w
)
∫∫w x
)
∫∫x y
;
∫∫y z
cmd
ªª 
.
ªª 

Parameters
ªª "
.
ªª" #
Add
ªª# &
(
ªª& '
	DbFactory
ªª' 0
.
ªª0 1

GetDbParam
ªª1 ;
(
ªª; <
$str
ªª< M
,
ªªM N
DbType
ªªO U
.
ªªU V
Int32
ªªV [
,
ªª[ \
objList
ªª] d
[
ªªd e
$num
ªªe f
]
ªªf g
.
ªªg h

TemplateId
ªªh r
)
ªªr s
)
ªªs t
;
ªªt u
cmd
ºº 
.
ºº 

Parameters
ºº "
.
ºº" #
Add
ºº# &
(
ºº& '
	DbFactory
ºº' 0
.
ºº0 1

GetDbParam
ºº1 ;
(
ºº; <
$str
ºº< Y
,
ººY Z
DbType
ºº[ a
.
ººa b
String
ººb h
,
ººh i&
LeadCapturePopupMessageººj Å
)ººÅ Ç
)ººÇ É
;ººÉ Ñ
cmd
ΩΩ 
.
ΩΩ 

Parameters
ΩΩ "
.
ΩΩ" #
Add
ΩΩ# &
(
ΩΩ& '
	DbFactory
ΩΩ' 0
.
ΩΩ0 1

GetDbParam
ΩΩ1 ;
(
ΩΩ; <
$str
ΩΩ< ]
,
ΩΩ] ^
DbType
ΩΩ_ e
.
ΩΩe f
String
ΩΩf l
,
ΩΩl m*
LeadCapturePopupDescriptionΩΩn â
)ΩΩâ ä
)ΩΩä ã
;ΩΩã å
cmd
ææ 
.
ææ 

Parameters
ææ "
.
ææ" #
Add
ææ# &
(
ææ& '
	DbFactory
ææ' 0
.
ææ0 1

GetDbParam
ææ1 ;
(
ææ; <
$str
ææ< Y
,
ææY Z
DbType
ææ[ a
.
ææa b
String
ææb h
,
ææh i&
LeadCapturePopupHeadingææj Å
)ææÅ Ç
)ææÇ É
;ææÉ Ñ
cmd
øø 
.
øø 

Parameters
øø "
.
øø" #
Add
øø# &
(
øø& '
	DbFactory
øø' 0
.
øø0 1

GetDbParam
øø1 ;
(
øø; <
$str
øø< Q
,
øøQ R
DbType
øøS Y
.
øøY Z
Boolean
øøZ a
,
øøa b
pinCodeRequired
øøc r
)
øør s
)
øøs t
;
øøt u
cmd
¿¿ 
.
¿¿ 

Parameters
¿¿ "
.
¿¿" #
Add
¿¿# &
(
¿¿& '
	DbFactory
¿¿' 0
.
¿¿0 1

GetDbParam
¿¿1 ;
(
¿¿; <
$str
¿¿< Q
,
¿¿Q R
DbType
¿¿S Y
.
¿¿Y Z
Boolean
¿¿Z a
,
¿¿a b
emailIdRequired
¿¿c r
)
¿¿r s
)
¿¿s t
;
¿¿t u
MySqlDatabase
¡¡ !
.
¡¡! "
ExecuteNonQuery
¡¡" 1
(
¡¡1 2
cmd
¡¡2 5
,
¡¡5 6
ConnectionType
¡¡7 E
.
¡¡E F
MasterDatabase
¡¡F T
)
¡¡T U
;
¡¡U V
	isSuccess
¬¬ 
=
¬¬ 
true
¬¬  $
;
¬¬$ %
}
√√ 
}
ƒƒ 
catch
≈≈ 
(
≈≈ 
	Exception
≈≈ 
ex
≈≈ 
)
≈≈  
{
∆∆ 

ErrorClass
»» 
objErr
»» !
=
»»" #
new
»»$ '

ErrorClass
»»( 2
(
»»2 3
ex
»»3 5
,
»»5 6
$str
»»7 c
)
»»c d
;
»»d e
}
…… 
return
   
	isSuccess
   
;
   
}
ÀÀ 	
public
‹‹ 
bool
‹‹ .
 SaveManufacturerCampaignTemplate
‹‹ 4
(
‹‹4 5
List
‹‹5 9
<
‹‹9 :&
ManuCamEntityForTemplate
‹‹: R
>
‹‹R S
objList
‹‹T [
,
‹‹[ \
int
‹‹] `
userId
‹‹a g
,
‹‹g h
int
‹‹i l

campaignId
‹‹m w
,
‹‹w x
string
‹‹y '
LeadCapturePopupMessage‹‹Ä ó
,‹‹ó ò
string‹‹ô ü+
LeadCapturePopupDescription‹‹† ª
,‹‹ª º
string‹‹Ω √'
LeadCapturePopupHeading‹‹ƒ €
,‹‹€ ‹
int‹‹› ‡
dealerId‹‹· È
,‹‹È Í
bool‹‹Î Ô
pinCodeRequired‹‹ ˇ
,‹‹ˇ Ä
bool‹‹Ä Ñ
emailIdRequired‹‹Ö î
)‹‹î ï
{
›› 	
bool
ﬁﬁ 
	isSuccess
ﬁﬁ 
=
ﬁﬁ 
false
ﬁﬁ "
;
ﬁﬁ" #
try
ﬂﬂ 
{
‡‡ 
using
·· 
(
·· 
	DbCommand
··  
cmd
··! $
=
··% &
	DbFactory
··' 0
.
··0 1
GetDBCommand
··1 =
(
··= >
$str
··> h
)
··h i
)
··i j
{
‚‚ 
cmd
„„ 
.
„„ 
CommandType
„„ #
=
„„$ %
CommandType
„„& 1
.
„„1 2
StoredProcedure
„„2 A
;
„„A B
cmd
‰‰ 
.
‰‰ 

Parameters
‰‰ "
.
‰‰" #
Add
‰‰# &
(
‰‰& '
	DbFactory
‰‰' 0
.
‰‰0 1

GetDbParam
‰‰1 ;
(
‰‰; <
$str
‰‰< O
,
‰‰O P
DbType
‰‰Q W
.
‰‰W X
String
‰‰X ^
,
‰‰^ _
objList
‰‰` g
[
‰‰g h
$num
‰‰h i
]
‰‰i j
.
‰‰j k
TemplateHtml
‰‰k w
)
‰‰w x
)
‰‰x y
;
‰‰y z
cmd
ÂÂ 
.
ÂÂ 

Parameters
ÂÂ "
.
ÂÂ" #
Add
ÂÂ# &
(
ÂÂ& '
	DbFactory
ÂÂ' 0
.
ÂÂ0 1

GetDbParam
ÂÂ1 ;
(
ÂÂ; <
$str
ÂÂ< M
,
ÂÂM N
DbType
ÂÂO U
.
ÂÂU V
Int32
ÂÂV [
,
ÂÂ[ \
objList
ÂÂ] d
[
ÂÂd e
$num
ÂÂe f
]
ÂÂf g
.
ÂÂg h

TemplateId
ÂÂh r
)
ÂÂr s
)
ÂÂs t
;
ÂÂt u
cmd
ÊÊ 
.
ÊÊ 

Parameters
ÊÊ "
.
ÊÊ" #
Add
ÊÊ# &
(
ÊÊ& '
	DbFactory
ÊÊ' 0
.
ÊÊ0 1

GetDbParam
ÊÊ1 ;
(
ÊÊ; <
$str
ÊÊ< O
,
ÊÊO P
DbType
ÊÊQ W
.
ÊÊW X
String
ÊÊX ^
,
ÊÊ^ _
objList
ÊÊ` g
[
ÊÊg h
$num
ÊÊh i
]
ÊÊi j
.
ÊÊj k
TemplateHtml
ÊÊk w
)
ÊÊw x
)
ÊÊx y
;
ÊÊy z
cmd
ÁÁ 
.
ÁÁ 

Parameters
ÁÁ "
.
ÁÁ" #
Add
ÁÁ# &
(
ÁÁ& '
	DbFactory
ÁÁ' 0
.
ÁÁ0 1

GetDbParam
ÁÁ1 ;
(
ÁÁ; <
$str
ÁÁ< M
,
ÁÁM N
DbType
ÁÁO U
.
ÁÁU V
Int32
ÁÁV [
,
ÁÁ[ \
objList
ÁÁ] d
[
ÁÁd e
$num
ÁÁe f
]
ÁÁf g
.
ÁÁg h

TemplateId
ÁÁh r
)
ÁÁr s
)
ÁÁs t
;
ÁÁt u
cmd
ËË 
.
ËË 

Parameters
ËË "
.
ËË" #
Add
ËË# &
(
ËË& '
	DbFactory
ËË' 0
.
ËË0 1

GetDbParam
ËË1 ;
(
ËË; <
$str
ËË< O
,
ËËO P
DbType
ËËQ W
.
ËËW X
String
ËËX ^
,
ËË^ _
objList
ËË` g
[
ËËg h
$num
ËËh i
]
ËËi j
.
ËËj k
TemplateHtml
ËËk w
)
ËËw x
)
ËËx y
;
ËËy z
cmd
ÈÈ 
.
ÈÈ 

Parameters
ÈÈ "
.
ÈÈ" #
Add
ÈÈ# &
(
ÈÈ& '
	DbFactory
ÈÈ' 0
.
ÈÈ0 1

GetDbParam
ÈÈ1 ;
(
ÈÈ; <
$str
ÈÈ< M
,
ÈÈM N
DbType
ÈÈO U
.
ÈÈU V
Int32
ÈÈV [
,
ÈÈ[ \
objList
ÈÈ] d
[
ÈÈd e
$num
ÈÈe f
]
ÈÈf g
.
ÈÈg h

TemplateId
ÈÈh r
)
ÈÈr s
)
ÈÈs t
;
ÈÈt u
cmd
ÍÍ 
.
ÍÍ 

Parameters
ÍÍ "
.
ÍÍ" #
Add
ÍÍ# &
(
ÍÍ& '
	DbFactory
ÍÍ' 0
.
ÍÍ0 1

GetDbParam
ÍÍ1 ;
(
ÍÍ; <
$str
ÍÍ< O
,
ÍÍO P
DbType
ÍÍQ W
.
ÍÍW X
String
ÍÍX ^
,
ÍÍ^ _
objList
ÍÍ` g
[
ÍÍg h
$num
ÍÍh i
]
ÍÍi j
.
ÍÍj k
TemplateHtml
ÍÍk w
)
ÍÍw x
)
ÍÍx y
;
ÍÍy z
cmd
ÎÎ 
.
ÎÎ 

Parameters
ÎÎ "
.
ÎÎ" #
Add
ÎÎ# &
(
ÎÎ& '
	DbFactory
ÎÎ' 0
.
ÎÎ0 1

GetDbParam
ÎÎ1 ;
(
ÎÎ; <
$str
ÎÎ< M
,
ÎÎM N
DbType
ÎÎO U
.
ÎÎU V
Int32
ÎÎV [
,
ÎÎ[ \
objList
ÎÎ] d
[
ÎÎd e
$num
ÎÎe f
]
ÎÎf g
.
ÎÎg h

TemplateId
ÎÎh r
)
ÎÎr s
)
ÎÎs t
;
ÎÎt u
cmd
ÏÏ 
.
ÏÏ 

Parameters
ÏÏ "
.
ÏÏ" #
Add
ÏÏ# &
(
ÏÏ& '
	DbFactory
ÏÏ' 0
.
ÏÏ0 1

GetDbParam
ÏÏ1 ;
(
ÏÏ; <
$str
ÏÏ< H
,
ÏÏH I
DbType
ÏÏJ P
.
ÏÏP Q
Int32
ÏÏQ V
,
ÏÏV W
userId
ÏÏX ^
)
ÏÏ^ _
)
ÏÏ_ `
;
ÏÏ` a
cmd
ÌÌ 
.
ÌÌ 

Parameters
ÌÌ "
.
ÌÌ" #
Add
ÌÌ# &
(
ÌÌ& '
	DbFactory
ÌÌ' 0
.
ÌÌ0 1

GetDbParam
ÌÌ1 ;
(
ÌÌ; <
$str
ÌÌ< L
,
ÌÌL M
DbType
ÌÌN T
.
ÌÌT U
Int32
ÌÌU Z
,
ÌÌZ [

campaignId
ÌÌ\ f
)
ÌÌf g
)
ÌÌg h
;
ÌÌh i
cmd
ÓÓ 
.
ÓÓ 

Parameters
ÓÓ "
.
ÓÓ" #
Add
ÓÓ# &
(
ÓÓ& '
	DbFactory
ÓÓ' 0
.
ÓÓ0 1

GetDbParam
ÓÓ1 ;
(
ÓÓ; <
$str
ÓÓ< J
,
ÓÓJ K
DbType
ÓÓL R
.
ÓÓR S
Int32
ÓÓS X
,
ÓÓX Y
dealerId
ÓÓZ b
)
ÓÓb c
)
ÓÓc d
;
ÓÓd e
cmd
ÔÔ 
.
ÔÔ 

Parameters
ÔÔ "
.
ÔÔ" #
Add
ÔÔ# &
(
ÔÔ& '
	DbFactory
ÔÔ' 0
.
ÔÔ0 1

GetDbParam
ÔÔ1 ;
(
ÔÔ; <
$str
ÔÔ< Y
,
ÔÔY Z
DbType
ÔÔ[ a
.
ÔÔa b
String
ÔÔb h
,
ÔÔh i&
LeadCapturePopupMessageÔÔj Å
)ÔÔÅ Ç
)ÔÔÇ É
;ÔÔÉ Ñ
cmd
 
.
 

Parameters
 "
.
" #
Add
# &
(
& '
	DbFactory
' 0
.
0 1

GetDbParam
1 ;
(
; <
$str
< ]
,
] ^
DbType
_ e
.
e f
String
f l
,
l m*
LeadCapturePopupDescriptionn â
)â ä
)ä ã
;ã å
cmd
ÒÒ 
.
ÒÒ 

Parameters
ÒÒ "
.
ÒÒ" #
Add
ÒÒ# &
(
ÒÒ& '
	DbFactory
ÒÒ' 0
.
ÒÒ0 1

GetDbParam
ÒÒ1 ;
(
ÒÒ; <
$str
ÒÒ< Y
,
ÒÒY Z
DbType
ÒÒ[ a
.
ÒÒa b
String
ÒÒb h
,
ÒÒh i&
LeadCapturePopupHeadingÒÒj Å
)ÒÒÅ Ç
)ÒÒÇ É
;ÒÒÉ Ñ
cmd
ÚÚ 
.
ÚÚ 

Parameters
ÚÚ "
.
ÚÚ" #
Add
ÚÚ# &
(
ÚÚ& '
	DbFactory
ÚÚ' 0
.
ÚÚ0 1

GetDbParam
ÚÚ1 ;
(
ÚÚ; <
$str
ÚÚ< Q
,
ÚÚQ R
DbType
ÚÚS Y
.
ÚÚY Z
Boolean
ÚÚZ a
,
ÚÚa b
pinCodeRequired
ÚÚc r
)
ÚÚr s
)
ÚÚs t
;
ÚÚt u
cmd
ÛÛ 
.
ÛÛ 

Parameters
ÛÛ "
.
ÛÛ" #
Add
ÛÛ# &
(
ÛÛ& '
	DbFactory
ÛÛ' 0
.
ÛÛ0 1

GetDbParam
ÛÛ1 ;
(
ÛÛ; <
$str
ÛÛ< Q
,
ÛÛQ R
DbType
ÛÛS Y
.
ÛÛY Z
Boolean
ÛÛZ a
,
ÛÛa b
emailIdRequired
ÛÛc r
)
ÛÛr s
)
ÛÛs t
;
ÛÛt u
	isSuccess
ÙÙ 
=
ÙÙ 
Convert
ÙÙ  '
.
ÙÙ' (
	ToBoolean
ÙÙ( 1
(
ÙÙ1 2
MySqlDatabase
ÙÙ2 ?
.
ÙÙ? @
ExecuteNonQuery
ÙÙ@ O
(
ÙÙO P
cmd
ÙÙP S
,
ÙÙS T
ConnectionType
ÙÙU c
.
ÙÙc d
MasterDatabase
ÙÙd r
)
ÙÙr s
)
ÙÙs t
;
ÙÙt u
}
ıı 
}
ˆˆ 
catch
˜˜ 
(
˜˜ 
	Exception
˜˜ 
ex
˜˜ 
)
˜˜  
{
¯¯ 

ErrorClass
˙˙ 
objErr
˙˙ !
=
˙˙" #
new
˙˙$ '

ErrorClass
˙˙( 2
(
˙˙2 3
ex
˙˙3 5
,
˙˙5 6
$str
˙˙7 m
)
˙˙m n
;
˙˙n o
}
˚˚ 
return
¸¸ 
	isSuccess
¸¸ 
;
¸¸ 
}
˝˝ 	
public
áá 
List
áá 
<
áá 
BikewaleOpr
áá 
.
áá  
Entities
áá  (
.
áá( )"
ManufacturerCampaign
áá) =
.
áá= >(
ManufacturerCampaignEntity
áá> X
>
ááX Y"
FetchCampaignDetails
ááZ n
(
áán o
int
ááo r

campaignId
áás }
)
áá} ~
{
àà 	
List
ââ 
<
ââ 
BikewaleOpr
ââ 
.
ââ 
Entities
ââ %
.
ââ% &"
ManufacturerCampaign
ââ& :
.
ââ: ;(
ManufacturerCampaignEntity
ââ; U
>
ââU V,
objManufacturerCampaignDetails
ââW u
=
ââv w
null
ââx |
;
ââ| }
try
ää 
{
ãã 
using
åå 
(
åå 
	DbCommand
åå  
cmd
åå! $
=
åå% &
	DbFactory
åå' 0
.
åå0 1
GetDBCommand
åå1 =
(
åå= >
$str
åå> ]
)
åå] ^
)
åå^ _
{
çç 
cmd
éé 
.
éé 
CommandType
éé #
=
éé$ %
CommandType
éé& 1
.
éé1 2
StoredProcedure
éé2 A
;
ééA B
cmd
èè 
.
èè 

Parameters
èè "
.
èè" #
Add
èè# &
(
èè& '
	DbFactory
èè' 0
.
èè0 1

GetDbParam
èè1 ;
(
èè; <
$str
èè< L
,
èèL M
DbType
èèN T
.
èèT U
Int32
èèU Z
,
èèZ [

campaignId
èè\ f
)
èèf g
)
èèg h
;
èèh i
using
êê 
(
êê 
IDataReader
êê &
dr
êê' )
=
êê* +
MySqlDatabase
êê, 9
.
êê9 :
SelectQuery
êê: E
(
êêE F
cmd
êêF I
,
êêI J
ConnectionType
êêK Y
.
êêY Z
ReadOnly
êêZ b
)
êêb c
)
êêc d
{
ëë 
if
íí 
(
íí 
dr
íí 
!=
íí !
null
íí" &
)
íí& '
{
ìì ,
objManufacturerCampaignDetails
îî :
=
îî; <
new
îî= @
List
îîA E
<
îîE F
BikewaleOpr
îîF Q
.
îîQ R
Entities
îîR Z
.
îîZ ["
ManufacturerCampaign
îî[ o
.
îîo p)
ManufacturerCampaignEntityîîp ä
>îîä ã
(îîã å
)îîå ç
;îîç é
while
ïï !
(
ïï" #
dr
ïï# %
.
ïï% &
Read
ïï& *
(
ïï* +
)
ïï+ ,
)
ïï, -
{
ññ ,
objManufacturerCampaignDetails
óó  >
.
óó> ?
Add
óó? B
(
óóB C
new
óóC F
BikewaleOpr
óóG R
.
óóR S
Entities
óóS [
.
óó[ \"
ManufacturerCampaign
óó\ p
.
óóp q)
ManufacturerCampaignEntityóóq ã
(óóã å
)óóå ç
{
òò  !!
CampaignDescription
ôô$ 7
=
ôô8 9
Convert
ôô: A
.
ôôA B
ToString
ôôB J
(
ôôJ K
dr
ôôK M
[
ôôM N
$str
ôôN [
]
ôô[ \
)
ôô\ ]
,
ôô] ^#
CampaignMaskingNumber
öö$ 9
=
öö: ;
Convert
öö< C
.
ööC D
ToString
ööD L
(
ööL M
dr
ööM O
[
ööO P
$str
ööP _
]
öö_ `
)
öö` a
,
ööa b
IsActive
õõ$ ,
=
õõ- . 
SqlReaderConvertor
õõ/ A
.
õõA B
ToInt32
õõB I
(
õõI J
dr
õõJ L
[
õõL M
$str
õõM W
]
õõW X
)
õõX Y
,
õõY Z
	IsDefault
úú$ -
=
úú. / 
SqlReaderConvertor
úú0 B
.
úúB C
ToInt32
úúC J
(
úúJ K
dr
úúK M
[
úúM N
$str
úúN Y
]
úúY Z
)
úúZ [
,
úú[ \
PageId
ùù$ *
=
ùù+ , 
SqlReaderConvertor
ùù- ?
.
ùù? @
ToInt32
ùù@ G
(
ùùG H
dr
ùùH J
[
ùùJ K
$str
ùùK S
]
ùùS T
)
ùùT U
,
ùùU V
TemplateHtml
ûû$ 0
=
ûû1 2
Convert
ûû3 :
.
ûû: ;
ToString
ûû; C
(
ûûC D
dr
ûûD F
[
ûûF G
$str
ûûG U
]
ûûU V
)
ûûV W
,
ûûW X

TemplateId
üü$ .
=
üü/ 0 
SqlReaderConvertor
üü1 C
.
üüC D
ToInt32
üüD K
(
üüK L
dr
üüL N
[
üüN O
$str
üüO S
]
üüS T
)
üüT U
,
üüU V%
LeadCapturePopupHeading
††$ ;
=
††< =
Convert
††> E
.
††E F
ToString
††F N
(
††N O
dr
††O Q
[
††Q R
$str
††R k
]
††k l
)
††l m
,
††m n)
LeadCapturePopupDescription
°°$ ?
=
°°@ A
Convert
°°B I
.
°°I J
ToString
°°J R
(
°°R S
dr
°°S U
[
°°U V
$str
°°V s
]
°°s t
)
°°t u
,
°°u v%
LeadCapturePopupMessage
¢¢$ ;
=
¢¢< =
Convert
¢¢> E
.
¢¢E F
ToString
¢¢F N
(
¢¢N O
dr
¢¢O Q
[
¢¢Q R
$str
¢¢R k
]
¢¢k l
)
¢¢l m
,
¢¢m n
PinCodeRequire
££$ 2
=
££3 4 
SqlReaderConvertor
££5 G
.
££G H
	ToBoolean
££H Q
(
££Q R
dr
££R T
[
££T U
$str
££U f
]
££f g
)
££g h
,
££h i
EmailRequire
§§$ 0
=
§§1 2 
SqlReaderConvertor
§§3 E
.
§§E F
	ToBoolean
§§F O
(
§§O P
dr
§§P R
[
§§R S
$str
§§S d
]
§§d e
)
§§e f
}
••  !
)
••! "
;
••" #
}
¶¶ 
}
ßß 
}
®® 
}
™™ 
}
´´ 
catch
¨¨ 
(
¨¨ 
	Exception
¨¨ 
ex
¨¨ 
)
¨¨  
{
≠≠ 

ErrorClass
ÆÆ 
objErr
ÆÆ !
=
ÆÆ" #
new
ÆÆ$ '

ErrorClass
ÆÆ( 2
(
ÆÆ2 3
ex
ÆÆ3 5
,
ÆÆ5 6
$str
ÆÆ7 a
)
ÆÆa b
;
ÆÆb c
}
∞∞ 
return
±± ,
objManufacturerCampaignDetails
±± 1
;
±±1 2
}
≤≤ 	
public
ºº 
bool
ºº *
ReleaseCampaignMaskingNumber
ºº 0
(
ºº0 1
int
ºº1 4

campaignId
ºº5 ?
)
ºº? @
{
ΩΩ 	
bool
ææ 
	isSuccess
ææ 
=
ææ 
false
ææ "
;
ææ" #
try
øø 
{
¿¿ 
using
¡¡ 
(
¡¡ 
	DbCommand
¡¡  
cmd
¡¡! $
=
¡¡% &
	DbFactory
¡¡' 0
.
¡¡0 1
GetDBCommand
¡¡1 =
(
¡¡= >
$str
¡¡> T
)
¡¡T U
)
¡¡U V
{
¬¬ 
cmd
√√ 
.
√√ 
CommandType
√√ #
=
√√$ %
CommandType
√√& 1
.
√√1 2
StoredProcedure
√√2 A
;
√√A B
cmd
ƒƒ 
.
ƒƒ 

Parameters
ƒƒ "
.
ƒƒ" #
Add
ƒƒ# &
(
ƒƒ& '
	DbFactory
ƒƒ' 0
.
ƒƒ0 1

GetDbParam
ƒƒ1 ;
(
ƒƒ; <
$str
ƒƒ< L
,
ƒƒL M
DbType
ƒƒN T
.
ƒƒT U
Int32
ƒƒU Z
,
ƒƒZ [

campaignId
ƒƒ\ f
)
ƒƒf g
)
ƒƒg h
;
ƒƒh i
MySqlDatabase
≈≈ !
.
≈≈! "
ExecuteNonQuery
≈≈" 1
(
≈≈1 2
cmd
≈≈2 5
,
≈≈5 6
ConnectionType
≈≈7 E
.
≈≈E F
MasterDatabase
≈≈F T
)
≈≈T U
;
≈≈U V
	isSuccess
∆∆ 
=
∆∆ 
true
∆∆  $
;
∆∆$ %
}
«« 
}
»» 
catch
…… 
(
…… 
	Exception
…… 
ex
…… 
)
……  
{
   

ErrorClass
ÀÀ 
objErr
ÀÀ !
=
ÀÀ" #
new
ÀÀ$ '

ErrorClass
ÀÀ( 2
(
ÀÀ2 3
ex
ÀÀ3 5
,
ÀÀ5 6
$str
ÀÀ7 j
)
ÀÀj k
;
ÀÀk l
}
ÃÃ 
return
ÕÕ 
	isSuccess
ÕÕ 
;
ÕÕ 
}
ŒŒ 	
}
—— 
}”” °ã
SD:\work\bikewaleweb\BikewaleOpr.DALs\PopularComparisions\PopularBikeComparisions.cs
	namespace 	
BikewaleOpr
 
. 
DALs 
. 
PopularComparisions .
{ 
public 

class -
!PopularBikeComparisionsRepository 2
:3 4$
IPopularBikeComparisions5 M
{ 
public 
bool 
SaveBikeComparision '
(' (
ushort( .
	compareId/ 8
,8 9
uint: >

versionId1? I
,I J
uintK O

versionId2P Z
,Z [
bool\ `
isActivea i
,i j
boolk o
isSponsoredp {
,{ |
DateTime	} Ö 
sponsoredStartDate
Ü ò
,
ò ô
DateTime
ö ¢
sponsoredEndDate
£ ≥
)
≥ ¥
{ 	
bool 
isDataSaved 
= 
false $
;$ %
try   
{!! 
using"" 
("" 
	DbCommand""  
cmd""! $
=""% &
	DbFactory""' 0
.""0 1
GetDBCommand""1 =
(""= >
)""> ?
)""? @
{## 
cmd$$ 
.$$ 
CommandText$$ #
=$$$ %
$str$$& ;
;$$; <
cmd%% 
.%% 
CommandType%% #
=%%$ %
CommandType%%& 1
.%%1 2
StoredProcedure%%2 A
;%%A B
cmd'' 
.'' 

Parameters'' "
.''" #
Add''# &
(''& '
	DbFactory''' 0
.''0 1

GetDbParam''1 ;
(''; <
$str''< D
,''D E
DbType''F L
.''L M
Int16''M R
,''R S
	compareId''T ]
)''] ^
)''^ _
;''_ `
cmd(( 
.(( 

Parameters(( "
.((" #
Add((# &
(((& '
	DbFactory((' 0
.((0 1

GetDbParam((1 ;
(((; <
$str((< L
,((L M
DbType((N T
.((T U
UInt32((U [
,(([ \

versionId1((] g
)((g h
)((h i
;((i j
cmd)) 
.)) 

Parameters)) "
.))" #
Add))# &
())& '
	DbFactory))' 0
.))0 1

GetDbParam))1 ;
()); <
$str))< L
,))L M
DbType))N T
.))T U
UInt32))U [
,))[ \

versionId2))] g
)))g h
)))h i
;))i j
cmd** 
.** 

Parameters** "
.**" #
Add**# &
(**& '
	DbFactory**' 0
.**0 1

GetDbParam**1 ;
(**; <
$str**< K
,**K L
DbType**M S
.**S T
DateTime**T \
,**\ ]
DateTime**^ f
.**f g
Now**g j
)**j k
)**k l
;**l m
cmd++ 
.++ 

Parameters++ "
.++" #
Add++# &
(++& '
	DbFactory++' 0
.++0 1

GetDbParam++1 ;
(++; <
$str++< J
,++J K
DbType++L R
.++R S
Boolean++S Z
,++Z [
isActive++\ d
)++d e
)++e f
;++f g
cmd,, 
.,, 

Parameters,, "
.,," #
Add,,# &
(,,& '
	DbFactory,,' 0
.,,0 1

GetDbParam,,1 ;
(,,; <
$str,,< O
,,,O P
DbType,,Q W
.,,W X
DateTime,,X `
,,,` a
sponsoredStartDate,,b t
),,t u
),,u v
;,,v w
cmd-- 
.-- 

Parameters-- "
.--" #
Add--# &
(--& '
	DbFactory--' 0
.--0 1

GetDbParam--1 ;
(--; <
$str--< M
,--M N
DbType--O U
.--U V
DateTime--V ^
,--^ _
sponsoredEndDate--` p
)--p q
)--q r
;--r s
cmd.. 
... 

Parameters.. "
..." #
Add..# &
(..& '
	DbFactory..' 0
...0 1

GetDbParam..1 ;
(..; <
$str..< M
,..M N
DbType..O U
...U V
Boolean..V ]
,..] ^
isSponsored.._ j
)..j k
)..k l
;..l m
cmd// 
.// 

Parameters// "
.//" #
Add//# &
(//& '
	DbFactory//' 0
.//0 1

GetDbParam//1 ;
(//; <
$str//< H
,//H I
DbType//J P
.//P Q
Int32//Q V
,//V W
ParameterDirection//X j
.//j k
Output//k q
)//q r
)//r s
;//s t
cmd00 
.00 

Parameters00 "
.00" #
Add00# &
(00& '
	DbFactory00' 0
.000 1

GetDbParam001 ;
(00; <
$str00< H
,00H I
DbType00J P
.00P Q
Int1600Q V
,00V W
ParameterDirection00X j
.00j k
Output00k q
)00q r
)00r s
;00s t
MySqlDatabase22 !
.22! "
ExecuteNonQuery22" 1
(221 2
cmd222 5
,225 6
ConnectionType227 E
.22E F
MasterDatabase22F T
)22T U
;22U V
isDataSaved44 
=44  !
true44" &
;44& '
}66 
}77 
catch88 
(88 
	Exception88 
err88  
)88  !
{99 

ErrorClass:: 
objErr:: !
=::" #
new::$ '

ErrorClass::( 2
(::2 3
err::3 6
,::6 7
string::8 >
.::> ?
Format::? E
(::E F
$str	::F û
,
::û ü
	compareId
::† ©
,
::© ™

versionId1
::´ µ
,
::µ ∂

versionId2
::∑ ¡
)
::¡ ¬
)
::¬ √
;
::√ ƒ
}<< 
return>> 
isDataSaved>> 
;>> 
}?? 	
publicHH 
IEnumerableHH 
<HH "
PopularBikeComparisionHH 1
>HH1 2
GetBikeComparisionsHH3 F
(HHF G
)HHG H
{II 	
IListJJ 
<JJ "
PopularBikeComparisionJJ (
>JJ( )
objBikeCamparisionsJJ* =
=JJ> ?
nullJJ@ D
;JJD E
tryKK 
{LL 
usingMM 
(MM 
	DbCommandMM  
cmdMM! $
=MM% &
	DbFactoryMM' 0
.MM0 1
GetDBCommandMM1 =
(MM= >
)MM> ?
)MM? @
{NN 
cmdOO 
.OO 
CommandTextOO #
=OO$ %
$strOO& D
;OOD E
cmdPP 
.PP 
CommandTypePP #
=PP$ %
CommandTypePP& 1
.PP1 2
StoredProcedurePP2 A
;PPA B
usingRR 
(RR 
IDataReaderRR &
drRR' )
=RR* +
MySqlDatabaseRR, 9
.RR9 :
SelectQueryRR: E
(RRE F
cmdRRF I
,RRI J
ConnectionTypeRRK Y
.RRY Z
MasterDatabaseRRZ h
)RRh i
)RRi j
{SS 
ifTT 
(TT 
drTT 
!=TT !
nullTT" &
)TT& '
{UU 
objBikeCamparisionsVV /
=VV0 1
newVV2 5
ListVV6 :
<VV: ;"
PopularBikeComparisionVV; Q
>VVQ R
(VVR S
)VVS T
;VVT U
whileWW !
(WW" #
drWW# %
.WW% &
ReadWW& *
(WW* +
)WW+ ,
)WW, -
{XX "
PopularBikeComparisionYY  6
_objBikeComparisionYY7 J
=YYK L
newYYM P"
PopularBikeComparisionYYQ g
(YYg h
)YYh i
;YYi j
_objBikeComparisionZZ  3
.ZZ3 4
ComparisionIdZZ4 A
=ZZB C
SqlReaderConvertorZZD V
.ZZV W
ParseToUInt32ZZW d
(ZZd e
drZZe g
[ZZg h
$strZZh l
]ZZl m
)ZZm n
;ZZn o
_objBikeComparision[[  3
.[[3 4
Bike1[[4 9
=[[: ;
Convert[[< C
.[[C D
ToString[[D L
([[L M
dr[[M O
[[[O P
$str[[P W
][[W X
)[[X Y
;[[Y Z
_objBikeComparision\\  3
.\\3 4
Bike2\\4 9
=\\: ;
Convert\\< C
.\\C D
ToString\\D L
(\\L M
dr\\M O
[\\O P
$str\\P W
]\\W X
)\\X Y
;\\Y Z
_objBikeComparision]]  3
.]]3 4
ModelId1]]4 <
=]]= >
SqlReaderConvertor]]? Q
.]]Q R
ToUInt32]]R Z
(]]Z [
dr]][ ]
[]]] ^
$str]]^ h
]]]h i
)]]i j
;]]j k
_objBikeComparision^^  3
.^^3 4
ModelId2^^4 <
=^^= >
SqlReaderConvertor^^? Q
.^^Q R
ToUInt32^^R Z
(^^Z [
dr^^[ ]
[^^] ^
$str^^^ h
]^^h i
)^^i j
;^^j k
_objBikeComparision__  3
.__3 4
MakeId1__4 ;
=__< =
SqlReaderConvertor__> P
.__P Q
ToUInt32__Q Y
(__Y Z
dr__Z \
[__\ ]
$str__] f
]__f g
)__g h
;__h i
_objBikeComparision``  3
.``3 4
MakeId2``4 ;
=``< =
SqlReaderConvertor``> P
.``P Q
ToUInt32``Q Y
(``Y Z
dr``Z \
[``\ ]
$str``] f
]``f g
)``g h
;``h i
_objBikeComparisionaa  3
.aa3 4

VersionId1aa4 >
=aa? @
SqlReaderConvertoraaA S
.aaS T
ToUInt32aaT \
(aa\ ]
draa] _
[aa_ `
$straa` l
]aal m
)aam n
;aan o
_objBikeComparisionbb  3
.bb3 4

VersionId2bb4 >
=bb? @
SqlReaderConvertorbbA S
.bbS T
ToUInt32bbT \
(bb\ ]
drbb] _
[bb_ `
$strbb` l
]bbl m
)bbm n
;bbn o
_objBikeComparisioncc  3
.cc3 4
HostUrl1cc4 <
=cc= >
Convertcc? F
.ccF G
ToStringccG O
(ccO P
drccP R
[ccR S
$strccS ]
]cc] ^
)cc^ _
;cc_ `
_objBikeComparisiondd  3
.dd3 4
HostUrl2dd4 <
=dd= >
Convertdd? F
.ddF G
ToStringddG O
(ddO P
drddP R
[ddR S
$strddS ]
]dd] ^
)dd^ _
;dd_ `
_objBikeComparisionee  3
.ee3 4
OriginalImagePath1ee4 F
=eeG H
ConverteeI P
.eeP Q
ToStringeeQ Y
(eeY Z
dreeZ \
[ee\ ]
$stree] q
]eeq r
)eer s
;ees t
_objBikeComparisionff  3
.ff3 4
OriginalImagePath2ff4 F
=ffG H
ConvertffI P
.ffP Q
ToStringffQ Y
(ffY Z
drffZ \
[ff\ ]
$strff] q
]ffq r
)ffr s
;ffs t
_objBikeComparisiongg  3
.gg3 4
	EntryDategg4 =
=gg> ?
SqlReaderConvertorgg@ R
.ggR S

ToDateTimeggS ]
(gg] ^
drgg^ `
[gg` a
$strgga l
]ggl m
)ggm n
;ggn o
_objBikeComparisionhh  3
.hh3 4
IsActivehh4 <
=hh= >
SqlReaderConvertorhh? Q
.hhQ R
	ToBooleanhhR [
(hh[ \
drhh\ ^
[hh^ _
$strhh_ i
]hhi j
)hhj k
;hhk l
_objBikeComparisionii  3
.ii3 4
PriorityOrderii4 A
=iiB C
SqlReaderConvertoriiD V
.iiV W
ToUInt16iiW _
(ii_ `
drii` b
[iib c
$striic t
]iit u
)iiu v
;iiv w
_objBikeComparisionjj  3
.jj3 4
IsSponsoredjj4 ?
=jj@ A
SqlReaderConvertorjjB T
.jjT U
	ToBooleanjjU ^
(jj^ _
drjj_ a
[jja b
$strjjb o
]jjo p
)jjp q
;jjq r
_objBikeComparisionkk  3
.kk3 4
SponsoredStartDatekk4 F
=kkG H
SqlReaderConvertorkkI [
.kk[ \

ToDateTimekk\ f
(kkf g
drkkg i
[kki j
$strkkj ~
]kk~ 
)	kk Ä
;
kkÄ Å
_objBikeComparisionll  3
.ll3 4
SponsoredEndDatell4 D
=llE F
SqlReaderConvertorllG Y
.llY Z

ToDateTimellZ d
(lld e
drlle g
[llg h
$strllh z
]llz {
)ll{ |
;ll| }
objBikeCamparisionsmm  3
.mm3 4
Addmm4 7
(mm7 8
_objBikeComparisionmm8 K
)mmK L
;mmL M
}nn 
}oo 
}pp 
}qq 
}rr 
catchss 
(ss 
	Exceptionss 
exss 
)ss  
{tt 

ErrorClassuu 
objErruu !
=uu" #
newuu$ '

ErrorClassuu( 2
(uu2 3
exuu3 5
,uu5 6
$struu7 q
)uuq r
;uur s
}vv 
returnww 
objBikeCamparisionsww &
;ww& '
}xx 	
public
ÄÄ 
bool
ÄÄ 
DeleteCompareBike
ÄÄ %
(
ÄÄ% &
uint
ÄÄ& *
deleteId
ÄÄ+ 3
)
ÄÄ3 4
{
ÅÅ 	
bool
ÇÇ 
	isDeleted
ÇÇ 
=
ÇÇ 
false
ÇÇ "
;
ÇÇ" #
try
ÉÉ 
{
ÑÑ 
using
ÖÖ 
(
ÖÖ 
	DbCommand
ÖÖ  
cmd
ÖÖ! $
=
ÖÖ% &
	DbFactory
ÖÖ' 0
.
ÖÖ0 1
GetDBCommand
ÖÖ1 =
(
ÖÖ= >
$str
ÖÖ> U
)
ÖÖU V
)
ÖÖV W
{
ÜÜ 
cmd
áá 
.
áá 
CommandType
áá #
=
áá$ %
CommandType
áá& 1
.
áá1 2
StoredProcedure
áá2 A
;
ááA B
cmd
ââ 
.
ââ 

Parameters
ââ "
.
ââ" #
Add
ââ# &
(
ââ& '
	DbFactory
ââ' 0
.
ââ0 1

GetDbParam
ââ1 ;
(
ââ; <
$str
ââ< D
,
ââD E
DbType
ââF L
.
ââL M
UInt32
ââM S
,
ââS T
deleteId
ââU ]
)
ââ] ^
)
ââ^ _
;
ââ_ `
MySqlDatabase
ää !
.
ää! "
UpdateQuery
ää" -
(
ää- .
cmd
ää. 1
,
ää1 2
ConnectionType
ää3 A
.
ääA B
MasterDatabase
ääB P
)
ääP Q
;
ääQ R
	isDeleted
ãã 
=
ãã 
true
ãã  $
;
ãã$ %
}
åå 
}
çç 
catch
éé 
(
éé 
	Exception
éé 
err
éé  
)
éé  !
{
èè 

ErrorClass
êê 
objErr
êê !
=
êê" #
new
êê$ '

ErrorClass
êê( 2
(
êê2 3
err
êê3 6
,
êê6 7
$str
êê8 q
+
êêr s
deleteId
êêt |
)
êê| }
;
êê} ~
objErr
ëë 
.
ëë 
SendMail
ëë 
(
ëë  
)
ëë  !
;
ëë! "
}
íí 
return
îî 
	isDeleted
îî 
;
îî 
}
ïï 	
public
úú 
bool
úú 
UpdatePriorities
úú $
(
úú$ %
string
úú% +
prioritiesList
úú, :
)
úú: ;
{
ùù 	
bool
ûû 
	isUpdated
ûû 
=
ûû 
false
ûû "
;
ûû" #
try
üü 
{
†† 
using
°° 
(
°° 
	DbCommand
°°  
cmd
°°! $
=
°°% &
	DbFactory
°°' 0
.
°°0 1
GetDBCommand
°°1 =
(
°°= >
)
°°> ?
)
°°? @
{
¢¢ 
cmd
££ 
.
££ 
CommandText
££ #
=
££$ %
$str
££& A
;
££A B
cmd
§§ 
.
§§ 
CommandType
§§ #
=
§§$ %
CommandType
§§& 1
.
§§1 2
StoredProcedure
§§2 A
;
§§A B
cmd
¶¶ 
.
¶¶ 

Parameters
¶¶ "
.
¶¶" #
Add
¶¶# &
(
¶¶& '
	DbFactory
¶¶' 0
.
¶¶0 1

GetDbParam
¶¶1 ;
(
¶¶; <
$str
¶¶< P
,
¶¶P Q
DbType
¶¶R X
.
¶¶X Y
String
¶¶Y _
,
¶¶_ `
$num
¶¶a e
,
¶¶e f
prioritiesList
¶¶g u
)
¶¶u v
)
¶¶v w
;
¶¶w x
MySqlDatabase
®® !
.
®®! "
UpdateQuery
®®" -
(
®®- .
cmd
®®. 1
,
®®1 2
ConnectionType
®®3 A
.
®®A B
MasterDatabase
®®B P
)
®®P Q
;
®®Q R
	isUpdated
™™ 
=
™™ 
true
™™  $
;
™™$ %
}
´´ 
}
¨¨ 
catch
≠≠ 
(
≠≠ 
	Exception
≠≠ 
err
≠≠  
)
≠≠  !
{
ÆÆ 

ErrorClass
ØØ 
objErr
ØØ !
=
ØØ" #
new
ØØ$ '

ErrorClass
ØØ( 2
(
ØØ2 3
err
ØØ3 6
,
ØØ6 7
$str
ØØ8 p
+
ØØq r
prioritiesListØØs Å
)ØØÅ Ç
;ØØÇ É
objErr
∞∞ 
.
∞∞ 
SendMail
∞∞ 
(
∞∞  
)
∞∞  !
;
∞∞! "
}
±± 
return
≥≥ 
	isUpdated
≥≥ 
;
≥≥ 
}
µµ 	
}
∑∑ 
}∏∏ Í
?D:\work\bikewaleweb\BikewaleOpr.DALs\Properties\AssemblyInfo.cs
[ 
assembly 	
:	 

AssemblyTitle 
( 
$str +
)+ ,
], -
[		 
assembly		 	
:			 

AssemblyDescription		 
(		 
$str		 !
)		! "
]		" #
[

 
assembly

 	
:

	 
!
AssemblyConfiguration

  
(

  !
$str

! #
)

# $
]

$ %
[ 
assembly 	
:	 

AssemblyCompany 
( 
$str 
) 
] 
[ 
assembly 	
:	 

AssemblyProduct 
( 
$str -
)- .
]. /
[ 
assembly 	
:	 

AssemblyCopyright 
( 
$str 0
)0 1
]1 2
[ 
assembly 	
:	 

AssemblyTrademark 
( 
$str 
)  
]  !
[ 
assembly 	
:	 

AssemblyCulture 
( 
$str 
) 
] 
[ 
assembly 	
:	 


ComVisible 
( 
false 
) 
] 
[ 
assembly 	
:	 

Guid 
( 
$str 6
)6 7
]7 8
[## 
assembly## 	
:##	 

AssemblyVersion## 
(## 
$str## $
)##$ %
]##% &
[$$ 
assembly$$ 	
:$$	 

AssemblyFileVersion$$ 
($$ 
$str$$ (
)$$( )
]$$) *˙∂
MD:\work\bikewaleweb\BikewaleOpr.DALs\ServiceCenter\ServiceCenterRepository.cs
	namespace 	
BikewaleOpr
 
. 
DALs 
. 
ServiceCenter (
{ 
public 

class #
ServiceCenterRepository (
:) *$
IServiceCenterRepository+ C
{ 
public 
IEnumerable 
< 
CityEntityBase )
>) *"
GetServiceCenterCities+ A
(A B
uintB F
makeIdG M
)M N
{ 	
IEnumerable   
<   
CityEntityBase   &
>  & '
objCityList  ( 3
=  4 5
null  6 :
;  : ;
try!! 
{"" 
if## 
(## 
makeId## 
>## 
$num## 
)## 
{$$ 
using&& 
(&& 
IDbConnection&& (

connection&&) 3
=&&4 5
DatabaseHelper&&6 D
.&&D E
GetMasterConnection&&E X
(&&X Y
)&&Y Z
)&&Z [
{'' 

connection(( "
.((" #
Open((# '
(((' (
)((( )
;(() *
var** 
param** !
=**" #
new**$ '
DynamicParameters**( 9
(**9 :
)**: ;
;**; <
param-- 
.-- 
Add-- !
(--! "
$str--" .
,--. /
makeId--0 6
)--6 7
;--7 8
objCityList// #
=//$ %

connection//& 0
.//0 1
Query//1 6
<//6 7
CityEntityBase//7 E
>//E F
(//F G
$str//G u
,//u v
param//w |
://| }
param	//~ É
,
//É Ñ
commandType
//Ö ê
:
//ê ë
CommandType
//í ù
.
//ù û
StoredProcedure
//û ≠
)
//≠ Æ
;
//Æ Ø
if33 
(33 

connection33 &
.33& '
State33' ,
==33- /
ConnectionState330 ?
.33? @
Open33@ D
)33D E

connection44 &
.44& '
Close44' ,
(44, -
)44- .
;44. /
}77 
}88 
}99 
catch:: 
(:: 
	Exception:: 
ex:: 
)::  
{;; 

ErrorClass<< 
objErr<< !
=<<" #
new<<$ '

ErrorClass<<( 2
(<<2 3
ex<<3 5
,<<5 6
$str<<7 n
)<<n o
;<<o p
}>> 
return?? 
objCityList?? 
;?? 
}@@ 	
publicII 
IEnumerableII 
<II 
CityEntityBaseII )
>II) *
GetAllCitiesII+ 7
(II7 8
)II8 9
{JJ 	
IListLL 
<LL 
CityEntityBaseLL  
>LL  !
objCityListLL" -
=LL. /
nullLL0 4
;LL4 5
tryMM 
{NN 
usingPP 
(PP 
	DbCommandPP  
cmdPP! $
=PP% &
	DbFactoryPP' 0
.PP0 1
GetDBCommandPP1 =
(PP= >
$strPP> S
)PPS T
)PPT U
{QQ 
cmdRR 
.RR 
CommandTypeRR #
=RR$ %
CommandTypeRR& 1
.RR1 2
StoredProcedureRR2 A
;RRA B
usingSS 
(SS 
IDataReaderSS &
drSS' )
=SS* +
MySqlDatabaseSS, 9
.SS9 :
SelectQuerySS: E
(SSE F
cmdSSF I
,SSI J
ConnectionTypeSSK Y
.SSY Z
ReadOnlySSZ b
)SSb c
)SSc d
{TT 
ifUU 
(UU 
drUU 
!=UU !
nullUU" &
)UU& '
{VV 
objCityListWW '
=WW( )
newWW* -
ListWW. 2
<WW2 3
CityEntityBaseWW3 A
>WWA B
(WWB C
)WWC D
;WWD E
whileXX !
(XX" #
drXX# %
.XX% &
ReadXX& *
(XX* +
)XX+ ,
)XX, -
{YY 
objCityListZZ  +
.ZZ+ ,
AddZZ, /
(ZZ/ 0
newZZ0 3
CityEntityBaseZZ4 B
{[[  !
CityId\\$ *
=\\+ ,
SqlReaderConvertor\\- ?
.\\? @
ToUInt16\\@ H
(\\H I
dr\\I K
[\\K L
$str\\L P
]\\P Q
)\\Q R
,\\R S
CityMaskingName]]$ 3
=]]4 5
Convert]]6 =
.]]= >
ToString]]> F
(]]F G
dr]]G I
[]]I J
$str]]J [
]]][ \
)]]\ ]
}^^  !
)^^! "
;^^" #
}__ 
dr`` 
.`` 
Close`` $
(``$ %
)``% &
;``& '
}aa 
}bb 
}cc 
}ee 
catchff 
(ff 
	Exceptionff 
exff 
)ff  
{gg 

ErrorClasshh 
objErrhh !
=hh" #
newhh$ '

ErrorClasshh( 2
(hh2 3
exhh3 5
,hh5 6
$strhh7 f
)hhf g
;hhg h
}jj 
returnkk 
objCityListkk 
;kk 
}ll 	
publicww 
ServiceCenterDataww  '
GetServiceCentersByCityMakeww! <
(ww< =
uintww= A
cityIdwwB H
,wwH I
uintwwJ N
makeIdwwO U
,wwU V
sbytewwW \
activeStatusww] i
)wwi j
{xx 	
ServiceCenterDatayy 
serviceCentersyy ,
=yy- .
newyy/ 2
ServiceCenterDatayy3 D
(yyD E
)yyE F
;yyF G
IEnumerablezz 
<zz  
ServiceCenterDetailszz ,
>zz, - 
objServiceCenterListzz. B
=zzC D
nullzzE I
;zzI J
try|| 
{}} 
using~~ 
(~~ 
IDbConnection~~ $

connection~~% /
=~~0 1
DatabaseHelper~~2 @
.~~@ A
GetMasterConnection~~A T
(~~T U
)~~U V
)~~V W
{ 

connection
ÄÄ 
.
ÄÄ 
Open
ÄÄ #
(
ÄÄ# $
)
ÄÄ$ %
;
ÄÄ% &
var
ÇÇ 
param
ÇÇ 
=
ÇÇ 
new
ÇÇ  #
DynamicParameters
ÇÇ$ 5
(
ÇÇ5 6
)
ÇÇ6 7
;
ÇÇ7 8
param
ÑÑ 
.
ÑÑ 
Add
ÑÑ 
(
ÑÑ 
$str
ÑÑ *
,
ÑÑ* +
cityId
ÑÑ, 2
)
ÑÑ2 3
;
ÑÑ3 4
param
ÖÖ 
.
ÖÖ 
Add
ÖÖ 
(
ÖÖ 
$str
ÖÖ *
,
ÖÖ* +
makeId
ÖÖ, 2
)
ÖÖ2 3
;
ÖÖ3 4
param
ÜÜ 
.
ÜÜ 
Add
ÜÜ 
(
ÜÜ 
$str
ÜÜ 0
,
ÜÜ0 1
activeStatus
ÜÜ2 >
)
ÜÜ> ?
;
ÜÜ? @"
objServiceCenterList
àà (
=
àà) *

connection
àà+ 5
.
àà5 6
Query
àà6 ;
<
àà; <"
ServiceCenterDetails
àà< P
>
ààP Q
(
ààQ R
$str
ààR t
,
ààt u
param
ààv {
:
àà{ |
paramàà} Ç
,ààÇ É
commandTypeààÑ è
:ààè ê
CommandTypeààë ú
.ààú ù
StoredProcedureààù ¨
)àà¨ ≠
;àà≠ Æ
serviceCenters
ää "
.
ää" #
Count
ää# (
=
ää) *
(
ää+ ,
UInt32
ää, 2
)
ää2 3"
objServiceCenterList
ää3 G
.
ääG H
Count
ääH M
(
ääM N
)
ääN O
;
ääO P
serviceCenters
ãã "
.
ãã" #
ServiceCenters
ãã# 1
=
ãã2 3"
objServiceCenterList
ãã4 H
;
ããH I
if
çç 
(
çç 

connection
çç "
.
çç" #
State
çç# (
==
çç) +
ConnectionState
çç, ;
.
çç; <
Open
çç< @
)
çç@ A

connection
éé "
.
éé" #
Close
éé# (
(
éé( )
)
éé) *
;
éé* +
}
èè 
}
êê 
catch
ëë 
(
ëë 
	Exception
ëë 
ex
ëë 
)
ëë  
{
íí 

ErrorClass
ìì 
objErr
ìì !
=
ìì" #
new
ìì$ '

ErrorClass
ìì( 2
(
ìì2 3
ex
ìì3 5
,
ìì5 6
string
ìì7 =
.
ìì= >
Format
ìì> D
(
ììD E
$strììE ´
,ìì´ ¨
cityIdìì≠ ≥
,ìì≥ ¥
makeIdììµ ª
)ììª º
)ììº Ω
;ììΩ æ
}
îî 
return
ïï 
serviceCenters
ïï !
;
ïï! "
}
ññ 	
public
†† 
bool
†† $
AddUpdateServiceCenter
†† *
(
††* +'
ServiceCenterCompleteData
††+ D"
serviceCenterDetails
††E Y
,
††Y Z
string
††[ a
	updatedBy
††b k
)
††k l
{
°° 	
int
¢¢ 
status
¢¢ 
=
¢¢ 
$num
¢¢ 
;
¢¢ 
UInt32
££ 
updatedById
££ 
=
££  
Convert
££! (
.
££( )
ToUInt32
££) 1
(
££1 2
	updatedBy
££2 ;
)
££; <
;
££< =
try
§§ 
{
•• 
using
¶¶ 
(
¶¶ 
IDbConnection
¶¶ $

connection
¶¶% /
=
¶¶0 1
DatabaseHelper
¶¶2 @
.
¶¶@ A!
GetMasterConnection
¶¶A T
(
¶¶T U
)
¶¶U V
)
¶¶V W
{
®® 

connection
©© 
.
©© 
Open
©© #
(
©©# $
)
©©$ %
;
©©% &
var
´´ 
param
´´ 
=
´´ 
new
´´  #
DynamicParameters
´´$ 5
(
´´5 6
)
´´6 7
;
´´7 8
if
¨¨ 
(
¨¨ "
serviceCenterDetails
¨¨ ,
.
¨¨, -
Id
¨¨- /
>
¨¨0 1
$num
¨¨2 3
)
¨¨3 4
{
≠≠ 
param
ÆÆ 
.
ÆÆ 
Add
ÆÆ !
(
ÆÆ! "
$str
ÆÆ" *
,
ÆÆ* +"
serviceCenterDetails
ÆÆ, @
.
ÆÆ@ A
Id
ÆÆA C
)
ÆÆC D
;
ÆÆD E
}
∞∞ 
else
±± 
{
≤≤ 
param
≥≥ 
.
≥≥ 
Add
≥≥ !
(
≥≥! "
$str
≥≥" *
,
≥≥* +
$num
≥≥, -
)
≥≥- .
;
≥≥. /
}
µµ 
param
∂∂ 
.
∂∂ 
Add
∂∂ 
(
∂∂ 
$str
∂∂ (
,
∂∂( )"
serviceCenterDetails
∂∂* >
.
∂∂> ?
Name
∂∂? C
)
∂∂C D
;
∂∂D E
param
∑∑ 
.
∑∑ 
Add
∑∑ 
(
∑∑ 
$str
∑∑ +
,
∑∑+ ,"
serviceCenterDetails
∑∑- A
.
∑∑A B
Address
∑∑B I
)
∑∑I J
;
∑∑J K
param
∏∏ 
.
∏∏ 
Add
∏∏ 
(
∏∏ 
$str
∏∏ *
,
∏∏* +"
serviceCenterDetails
∏∏, @
.
∏∏@ A
Location
∏∏A I
.
∏∏I J
CityId
∏∏J P
)
∏∏P Q
;
∏∏Q R
param
ππ 
.
ππ 
Add
ππ 
(
ππ 
$str
ππ +
,
ππ+ ,"
serviceCenterDetails
ππ- A
.
ππA B
Location
ππB J
.
ππJ K
StateId
ππK R
)
ππR S
;
ππS T
param
∫∫ 
.
∫∫ 
Add
∫∫ 
(
∫∫ 
$str
∫∫ *
,
∫∫* +"
serviceCenterDetails
∫∫, @
.
∫∫@ A
Mobile
∫∫A G
)
∫∫G H
;
∫∫H I
param
ªª 
.
ªª 
Add
ªª 
(
ªª 
$str
ªª )
,
ªª) *"
serviceCenterDetails
ªª+ ?
.
ªª? @
Phone
ªª@ E
)
ªªE F
;
ªªF G
param
ºº 
.
ºº 
Add
ºº 
(
ºº 
$str
ºº +
,
ºº+ ,"
serviceCenterDetails
ºº- A
.
ººA B
Pincode
ººB I
)
ººI J
;
ººJ K
param
ΩΩ 
.
ΩΩ 
Add
ΩΩ 
(
ΩΩ 
$str
ΩΩ )
,
ΩΩ) *"
serviceCenterDetails
ΩΩ+ ?
.
ΩΩ? @
Email
ΩΩ@ E
)
ΩΩE F
;
ΩΩF G
param
ææ 
.
ææ 
Add
ææ 
(
ææ 
$str
ææ -
,
ææ- ."
serviceCenterDetails
ææ/ C
.
ææC D
	Lattitude
ææD M
)
ææM N
;
ææN O
param
øø 
.
øø 
Add
øø 
(
øø 
$str
øø -
,
øø- ."
serviceCenterDetails
øø/ C
.
øøC D
	Longitude
øøD M
)
øøM N
;
øøN O
param
¿¿ 
.
¿¿ 
Add
¿¿ 
(
¿¿ 
$str
¿¿ *
,
¿¿* +"
serviceCenterDetails
¿¿, @
.
¿¿@ A
MakeId
¿¿A G
)
¿¿G H
;
¿¿H I
param
¡¡ 
.
¡¡ 
Add
¡¡ 
(
¡¡ 
$str
¡¡ -
,
¡¡- .
updatedById
¡¡/ :
)
¡¡: ;
;
¡¡; <
status
¬¬ 
=
¬¬ 

connection
¬¬ '
.
¬¬' (
Execute
¬¬( /
(
¬¬/ 0
$str
¬¬0 I
,
¬¬I J
param
¬¬K P
:
¬¬P Q
param
¬¬R W
,
¬¬W X
commandType
¬¬Y d
:
¬¬d e
CommandType
¬¬f q
.
¬¬q r
StoredProcedure¬¬r Å
)¬¬Å Ç
;¬¬Ç É
if
∆∆ 
(
∆∆ 

connection
∆∆ "
.
∆∆" #
State
∆∆# (
==
∆∆) +
ConnectionState
∆∆, ;
.
∆∆; <
Open
∆∆< @
)
∆∆@ A

connection
«« "
.
««" #
Close
««# (
(
««( )
)
««) *
;
««* +
}
»» 
}
   
catch
ÀÀ 
(
ÀÀ 
	Exception
ÀÀ 
ex
ÀÀ 
)
ÀÀ  
{
ÃÃ 

ErrorClass
ŒŒ 
objErr
ŒŒ !
=
ŒŒ" #
new
ŒŒ$ '

ErrorClass
ŒŒ( 2
(
ŒŒ2 3
ex
ŒŒ3 5
,
ŒŒ5 6
string
ŒŒ7 =
.
ŒŒ= >
Format
ŒŒ> D
(
ŒŒD E
$str
ŒŒE {
)
ŒŒ{ |
)
ŒŒ| }
;
ŒŒ} ~
}
–– 
return
—— 
status
—— 
>
—— 
$num
—— 
;
—— 
}
““ 	
public
‹‹ 
bool
‹‹ '
UpdateServiceCenterStatus
‹‹ -
(
‹‹- .
uint
‹‹. 2
serviceCenterId
‹‹3 B
,
‹‹B C
string
‹‹D J
	updatedBy
‹‹K T
)
‹‹T U
{
›› 	
int
ﬁﬁ 
status
ﬁﬁ 
=
ﬁﬁ 
$num
ﬁﬁ 
;
ﬁﬁ 
UInt32
ﬂﬂ 
updatedById
ﬂﬂ 
=
ﬂﬂ  
Convert
ﬂﬂ! (
.
ﬂﬂ( )
ToUInt32
ﬂﬂ) 1
(
ﬂﬂ1 2
	updatedBy
ﬂﬂ2 ;
)
ﬂﬂ; <
;
ﬂﬂ< =
try
‡‡ 
{
·· 
if
‚‚ 
(
‚‚ 
serviceCenterId
‚‚ #
>
‚‚$ %
$num
‚‚& '
)
‚‚' (
{
„„ 
using
‰‰ 
(
‰‰ 
IDbConnection
‰‰ (

connection
‰‰) 3
=
‰‰4 5
DatabaseHelper
‰‰6 D
.
‰‰D E!
GetMasterConnection
‰‰E X
(
‰‰X Y
)
‰‰Y Z
)
‰‰Z [
{
ÊÊ 

connection
ÁÁ "
.
ÁÁ" #
Open
ÁÁ# '
(
ÁÁ' (
)
ÁÁ( )
;
ÁÁ) *
var
ÈÈ 
param
ÈÈ !
=
ÈÈ" #
new
ÈÈ$ '
DynamicParameters
ÈÈ( 9
(
ÈÈ9 :
)
ÈÈ: ;
;
ÈÈ; <
param
ÎÎ 
.
ÎÎ 
Add
ÎÎ !
(
ÎÎ! "
$str
ÎÎ" *
,
ÎÎ* +
serviceCenterId
ÎÎ, ;
)
ÎÎ; <
;
ÎÎ< =
param
ÏÏ 
.
ÏÏ 
Add
ÏÏ !
(
ÏÏ! "
$str
ÏÏ" 1
,
ÏÏ1 2
	updatedBy
ÏÏ3 <
)
ÏÏ< =
;
ÏÏ= >
status
ÓÓ 
=
ÓÓ  

connection
ÓÓ! +
.
ÓÓ+ ,
Execute
ÓÓ, 3
(
ÓÓ3 4
$str
ÓÓ4 O
,
ÓÓO P
param
ÓÓQ V
:
ÓÓV W
param
ÓÓX ]
,
ÓÓ] ^
commandType
ÓÓ_ j
:
ÓÓj k
CommandType
ÓÓl w
.
ÓÓw x
StoredProcedureÓÓx á
)ÓÓá à
;ÓÓà â
if
ÒÒ 
(
ÒÒ 

connection
ÒÒ &
.
ÒÒ& '
State
ÒÒ' ,
==
ÒÒ- /
ConnectionState
ÒÒ0 ?
.
ÒÒ? @
Open
ÒÒ@ D
)
ÒÒD E

connection
ÚÚ &
.
ÚÚ& '
Close
ÚÚ' ,
(
ÚÚ, -
)
ÚÚ- .
;
ÚÚ. /
}
ÛÛ 
}
ıı 
}
ˆˆ 
catch
˜˜ 
(
˜˜ 
	Exception
˜˜ 
ex
˜˜ 
)
˜˜  
{
¯¯ 

ErrorClass
˘˘ 
objErr
˘˘ !
=
˘˘" #
new
˘˘$ '

ErrorClass
˘˘( 2
(
˘˘2 3
ex
˘˘3 5
,
˘˘5 6
string
˘˘7 =
.
˘˘= >
Format
˘˘> D
(
˘˘D E
$str
˘˘E ~
)
˘˘~ 
)˘˘ Ä
;˘˘Ä Å
}
˙˙ 
return
˚˚ 
status
˚˚ 
>
˚˚ 
$num
˚˚ 
;
˚˚ 
}
˝˝ 	
public
ÖÖ '
ServiceCenterCompleteData
ÖÖ (
GetDataById
ÖÖ) 4
(
ÖÖ4 5
uint
ÖÖ5 9
serviceCenterId
ÖÖ: I
)
ÖÖI J
{
ÜÜ 	'
ServiceCenterCompleteData
áá %
objData
áá& -
=
áá. /
null
áá0 4
;
áá4 5
try
àà 
{
ââ 
if
ää 
(
ää 
serviceCenterId
ää #
>
ää$ %
$num
ää& '
)
ää' (
{
ãã 
using
åå 
(
åå 
IDbConnection
åå (

connection
åå) 3
=
åå4 5
DatabaseHelper
åå6 D
.
ååD E!
GetMasterConnection
ååE X
(
ååX Y
)
ååY Z
)
ååZ [
{
çç 

connection
éé "
.
éé" #
Open
éé# '
(
éé' (
)
éé( )
;
éé) *
var
êê 
param
êê !
=
êê" #
new
êê$ '
DynamicParameters
êê( 9
(
êê9 :
)
êê: ;
;
êê; <
param
íí 
.
íí 
Add
íí !
(
íí! "
$str
íí" 7
,
íí7 8
serviceCenterId
íí9 H
)
ííH I
;
ííI J
objData
îî 
=
îî  !

connection
îî" ,
.
îî, -
Query
îî- 2
<
îî2 3'
ServiceCenterCompleteData
îî3 L
,
îîL M
StateCityEntity
îîN ]
,
îî] ^'
ServiceCenterCompleteData
îî_ x
>
îîx y
(
ïï 
$str
ññ =
,
ññ= >
(
òò '
ServiceCenterCompleteData
òò 5
,
òò5 6
StateCityEntity
òò7 F
)
òòF G
=>
òòH J
{
ôô '
ServiceCenterCompleteData
öö 8
.
öö8 9
Location
öö9 A
=
ööB C
StateCityEntity
ööD S
;
ööS T
return
õõ %'
ServiceCenterCompleteData
õõ& ?
;
õõ? @
}
úú 
,
úú 
splitOn
úú %
:
úú% &
$str
úú' /
,
úú/ 0
param
úú1 6
:
úú6 7
param
úú8 =
,
úú= >
commandType
úú? J
:
úúJ K
CommandType
úúL W
.
úúW X
StoredProcedure
úúX g
)
ùù 
.
ùù 
FirstOrDefault
ùù '
(
ùù' (
)
ùù( )
;
ùù) *
if
üü 
(
üü 

connection
üü &
.
üü& '
State
üü' ,
==
üü- /
ConnectionState
üü0 ?
.
üü? @
Open
üü@ D
)
üüD E

connection
†† &
.
††& '
Close
††' ,
(
††, -
)
††- .
;
††. /
}
°° 
}
¢¢ 
}
££ 
catch
§§ 
(
§§ 
	Exception
§§ 
ex
§§ 
)
§§  
{
•• 

ErrorClass
¶¶ 
objErr
¶¶ !
=
¶¶" #
new
¶¶$ '

ErrorClass
¶¶( 2
(
¶¶2 3
ex
¶¶3 5
,
¶¶5 6
string
¶¶7 =
.
¶¶= >
Format
¶¶> D
(
¶¶D E
$str
¶¶E v
)
¶¶v w
)
¶¶w x
;
¶¶x y
}
ßß 
return
®® 
objData
®® 
;
®® 
}
©© 	
public
¥¥ 
StateCityEntity
¥¥ 
GetStateDetails
¥¥ .
(
¥¥. /
uint
¥¥/ 3
cityId
¥¥4 :
)
¥¥: ;
{
µµ 	
IEnumerable
∂∂ 
<
∂∂ 
StateCityEntity
∂∂ '
>
∂∂' (
objData
∂∂) 0
=
∂∂1 2
null
∂∂3 7
;
∂∂7 8
try
∑∑ 
{
∏∏ 
if
ππ 
(
ππ 
cityId
ππ 
>
ππ 
$num
ππ 
)
ππ 
{
∫∫ 
using
ªª 
(
ªª 
IDbConnection
ªª (

connection
ªª) 3
=
ªª4 5
DatabaseHelper
ªª6 D
.
ªªD E!
GetMasterConnection
ªªE X
(
ªªX Y
)
ªªY Z
)
ªªZ [
{
ΩΩ 

connection
ææ "
.
ææ" #
Open
ææ# '
(
ææ' (
)
ææ( )
;
ææ) *
var
¿¿ 
param
¿¿ !
=
¿¿" #
new
¿¿$ '
DynamicParameters
¿¿( 9
(
¿¿9 :
)
¿¿: ;
;
¿¿; <
param
¬¬ 
.
¬¬ 
Add
¬¬ !
(
¬¬! "
$str
¬¬" .
,
¬¬. /
cityId
¬¬0 6
)
¬¬6 7
;
¬¬7 8
objData
ƒƒ 
=
ƒƒ  !

connection
ƒƒ" ,
.
ƒƒ, -
Query
ƒƒ- 2
<
ƒƒ2 3
StateCityEntity
ƒƒ3 B
>
ƒƒB C
(
ƒƒC D
$str
ƒƒD [
,
ƒƒ[ \
param
ƒƒ] b
:
ƒƒb c
param
ƒƒd i
,
ƒƒi j
commandType
ƒƒk v
:
ƒƒv w
CommandTypeƒƒx É
.ƒƒÉ Ñ
StoredProcedureƒƒÑ ì
)ƒƒì î
;ƒƒî ï
if
«« 
(
«« 

connection
«« &
.
««& '
State
««' ,
==
««- /
ConnectionState
««0 ?
.
««? @
Open
««@ D
)
««D E

connection
»» &
.
»»& '
Close
»»' ,
(
»», -
)
»»- .
;
»». /
}
…… 
}
ÀÀ 
}
ÃÃ 
catch
ÕÕ 
(
ÕÕ 
	Exception
ÕÕ 
ex
ÕÕ 
)
ÕÕ  
{
ŒŒ 

ErrorClass
œœ 
objErr
œœ !
=
œœ" #
new
œœ$ '

ErrorClass
œœ( 2
(
œœ2 3
ex
œœ3 5
,
œœ5 6
string
œœ7 =
.
œœ= >
Format
œœ> D
(
œœD E
$str
œœE z
)
œœz {
)
œœ{ |
;
œœ| }
}
—— 
return
““ 
objData
““ 
.
““ 
FirstOrDefault
““ )
(
““) *
)
““* +
;
““+ ,
}
”” 	
}
‘‘ 
}’’ †®
=D:\work\bikewaleweb\BikewaleOpr.DALs\Used\SellerRepository.cs
	namespace 	
BikewaleOpr
 
. 
Used 
{ 
public 

class 
SellerRepository !
:" #
ISellerRepository$ 5
{ 
public 
UsedBikeSellerBase !
GetSellerDetails" 2
(2 3
int3 6
	inquiryId7 @
,@ A
boolB F
isDealerG O
)O P
{ 	
UsedBikeSellerBase 
seller %
=& '
null( ,
;, -
try 
{ 
if   
(   
!   
isDealer   
)   
{!! 
using"" 
("" 
	DbCommand"" $
cmd""% (
="") *
	DbFactory""+ 4
.""4 5
GetDBCommand""5 A
(""A B
$str""B _
)""_ `
)""` a
{## 
cmd$$ 
.$$ 
CommandType$$ '
=$$( )
CommandType$$* 5
.$$5 6
StoredProcedure$$6 E
;$$E F
cmd%% 
.%% 

Parameters%% &
.%%& '
Add%%' *
(%%* +
	DbFactory%%+ 4
.%%4 5

GetDbParam%%5 ?
(%%? @
$str%%@ O
,%%O P
DbType%%Q W
.%%W X
Int32%%X ]
,%%] ^
	inquiryId%%_ h
)%%h i
)%%i j
;%%j k
using'' 
('' 
IDataReader'' *
dr''+ -
=''. /
MySqlDatabase''0 =
.''= >
SelectQuery''> I
(''I J
cmd''J M
,''M N
ConnectionType''O ]
.''] ^
MasterDatabase''^ l
)''l m
)''m n
{(( 
if)) 
())  
dr))  "
!=))# %
null))& *
&&))+ -
dr)). 0
.))0 1
Read))1 5
())5 6
)))6 7
)))7 8
{** 
seller++  &
=++' (
new++) ,
UsedBikeSellerBase++- ?
(++? @
)++@ A
;++A B
seller,,  &
.,,& '
Details,,' .
=,,/ 0
new,,1 4
CustomerEntityBase,,5 G
(,,G H
),,H I
;,,I J
seller--  &
.--& '
Details--' .
.--. /

CustomerId--/ 9
=--: ;
!--< =
Convert--= D
.--D E
IsDBNull--E M
(--M N
dr--N P
[--P Q
$str--Q [
]--[ \
)--\ ]
?--^ _
Convert--` g
.--g h
ToUInt64--h p
(--p q
dr--q s
[--s t
$str--t ~
]--~ 
)	-- Ä
:
--Å Ç
default
--É ä
(
--ä ã
UInt64
--ã ë
)
--ë í
;
--í ì
seller..  &
...& '
Details..' .
.... /
CustomerName../ ;
=..< =
!..> ?
Convert..? F
...F G
IsDBNull..G O
(..O P
dr..P R
[..R S
$str..S _
].._ `
)..` a
?..b c
Convert..d k
...k l
ToString..l t
(..t u
dr..u w
[..w x
$str	..x Ñ
]
..Ñ Ö
)
..Ö Ü
:
..á à
string
..â è
.
..è ê
Empty
..ê ï
;
..ï ñ
seller//  &
.//& '
Details//' .
.//. /
CustomerMobile/// =
=//> ?
!//@ A
Convert//A H
.//H I
IsDBNull//I Q
(//Q R
dr//R T
[//T U
$str//U ^
]//^ _
)//_ `
?//a b
Convert//c j
.//j k
ToString//k s
(//s t
dr//t v
[//v w
$str	//w Ä
]
//Ä Å
)
//Å Ç
:
//É Ñ
string
//Ö ã
.
//ã å
Empty
//å ë
;
//ë í
seller00  &
.00& '
Details00' .
.00. /
CustomerEmail00/ <
=00= >
!00? @
Convert00@ G
.00G H
IsDBNull00H P
(00P Q
dr00Q S
[00S T
$str00T a
]00a b
)00b c
?00d e
Convert00f m
.00m n
ToString00n v
(00v w
dr00w y
[00y z
$str	00z á
]
00á à
)
00à â
:
00ä ã
string
00å í
.
00í ì
Empty
00ì ò
;
00ò ô
seller11  &
.11& '
Address11' .
=11/ 0
!111 2
Convert112 9
.119 :
IsDBNull11: B
(11B C
dr11C E
[11E F
$str11F U
]11U V
)11V W
?11X Y
Convert11Z a
.11a b
ToString11b j
(11j k
dr11k m
[11m n
$str11n }
]11} ~
)11~ 
:
11Ä Å
string
11Ç à
.
11à â
Empty
11â é
;
11é è
dr22  "
.22" #
Close22# (
(22( )
)22) *
;22* +
}33 
}44 
}55 
}66 
}77 
catch88 
(88 
	Exception88 
ex88 
)88  
{99 

ErrorClass:: 
objErr:: !
=::" #
new::$ '

ErrorClass::( 2
(::2 3
ex::3 5
,::5 6
$str::7 I
+::J K
	inquiryId::L U
)::U V
;::V W
objErr;; 
.;; 
SendMail;; 
(;;  
);;  !
;;;! "
}<< 
return== 
seller== 
;== 
}>> 	
publicCC 
IEnumerableCC 
<CC 

SellBikeAdCC %
>CC% &)
GetClassifiedPendingInquiriesCC' D
(CCD E
)CCE F
{DD 	
IListEE 
<EE 

SellBikeAdEE 
>EE 
sellerListingEE +
=EE, -
nullEE. 2
;EE2 3
tryFF 
{GG 
usingHH 
(HH 
	DbCommandHH  
cmdHH! $
=HH% &
	DbFactoryHH' 0
.HH0 1
GetDBCommandHH1 =
(HH= >
$strHH> f
)HHf g
)HHg h
{II 
cmdJJ 
.JJ 
CommandTypeJJ #
=JJ$ %
CommandTypeJJ& 1
.JJ1 2
StoredProcedureJJ2 A
;JJA B
usingKK 
(KK 
IDataReaderKK &
drKK' )
=KK* +
MySqlDatabaseKK, 9
.KK9 :
SelectQueryKK: E
(KKE F
cmdKKF I
,KKI J
ConnectionTypeKKK Y
.KKY Z
MasterDatabaseKKZ h
)KKh i
)KKi j
{LL 
sellerListingMM %
=MM& '
newMM( +
ListMM, 0
<MM0 1

SellBikeAdMM1 ;
>MM; <
(MM< =
)MM= >
;MM> ?
ifNN 
(NN 
drNN 
!=NN !
nullNN" &
)NN& '
{OO 
whilePP !
(PP" #
drPP# %
.PP% &
ReadPP& *
(PP* +
)PP+ ,
)PP, -
{QQ 

SellBikeAdRR  *
adRR+ -
=RR. /
newRR0 3

SellBikeAdRR4 >
(RR> ?
)RR? @
;RR@ A
adSS  "
.SS" #
VersionSS# *
=SS+ ,
newSS- 0
BikewaleSS1 9
.SS9 :
EntitiesSS: B
.SSB C
BikeDataSSC K
.SSK L!
BikeVersionEntityBaseSSL a
(SSa b
)SSb c
;SSc d
adTT  "
.TT" #
	InquiryIdTT# ,
=TT- .
SqlReaderConvertorTT/ A
.TTA B
ToUInt32TTB J
(TTJ K
drTTK M
[TTM N
$strTTN Y
]TTY Z
)TTZ [
;TT[ \
adUU  "
.UU" #
	ProfileIdUU# ,
=UU- .
ConvertUU/ 6
.UU6 7
ToStringUU7 ?
(UU? @
drUU@ B
[UUB C
$strUUC N
]UUN O
)UUO P
;UUP Q
adVV  "
.VV" #
ModelVV# (
=VV) *
newVV+ .
BikewaleVV/ 7
.VV7 8
EntitiesVV8 @
.VV@ A
BikeDataVVA I
.VVI J
BikeModelEntityBaseVVJ ]
(VV] ^
)VV^ _
;VV_ `
adWW  "
.WW" #
ModelWW# (
.WW( )
ModelIdWW) 0
=WW1 2
SqlReaderConvertorWW3 E
.WWE F
ToInt32WWF M
(WWM N
drWWN P
[WWP Q
$strWWQ Z
]WWZ [
)WW[ \
;WW\ ]
adXX  "
.XX" #
VersionXX# *
=XX+ ,
newXX- 0
BikewaleXX1 9
.XX9 :
EntitiesXX: B
.XXB C
BikeDataXXC K
.XXK L!
BikeVersionEntityBaseXXL a
(XXa b
)XXb c
;XXc d
adYY  "
.YY" #
VersionYY# *
.YY* +
VersionNameYY+ 6
=YY7 8
ConvertYY9 @
.YY@ A
ToStringYYA I
(YYI J
drYYJ L
[YYL M
$strYYM [
]YY[ \
)YY\ ]
;YY] ^
adZZ  "
.ZZ" #

NewVersionZZ# -
=ZZ. /
newZZ0 3
BikewaleZZ4 <
.ZZ< =
EntitiesZZ= E
.ZZE F
BikeDataZZF N
.ZZN O!
BikeVersionEntityBaseZZO d
(ZZd e
)ZZe f
;ZZf g
ad[[  "
.[[" #

NewVersion[[# -
.[[- .
VersionName[[. 9
=[[: ;
Convert[[< C
.[[C D
ToString[[D L
([[L M
dr[[M O
[[[O P
$str[[P \
][[\ ]
)[[] ^
;[[^ _
ad\\  "
.\\" #

KiloMeters\\# -
=\\. /
SqlReaderConvertor\\0 B
.\\B C
ToUInt32\\C K
(\\K L
dr\\L N
[\\N O
$str\\O [
]\\[ \
)\\\ ]
;\\] ^
ad]]  "
.]]" #
Expectedprice]]# 0
=]]1 2
SqlReaderConvertor]]3 E
.]]E F
ToUInt64]]F N
(]]N O
dr]]O Q
[]]Q R
$str]]R Y
]]]Y Z
)]]Z [
;]][ \
ad^^  "
.^^" #
ManufacturingYear^^# 4
=^^5 6
SqlReaderConvertor^^7 I
.^^I J

ToDateTime^^J T
(^^T U
dr^^U W
[^^W X
$str^^X b
]^^b c
)^^c d
;^^d e
ad__  "
.__" #
RegistrationPlace__# 4
=__5 6
Convert__7 >
.__> ?
ToString__? G
(__G H
dr__H J
[__J K
$str__K U
]__U V
)__V W
;__W X
ad``  "
.``" #

PhotoCount``# -
=``. /
SqlReaderConvertor``0 B
.``B C
ToUInt16``C K
(``K L
dr``L N
[``N O
$str``O [
]``[ \
)``\ ]
;``] ^
adaa  "
.aa" #
IsBikeDataEditedaa# 3
=aa4 5
SqlReaderConvertoraa6 H
.aaH I
	ToBooleanaaI R
(aaR S
draaS U
[aaU V
$straaV h
]aah i
)aai j
;aaj k
sellerListingbb  -
.bb- .
Addbb. 1
(bb1 2
adbb2 4
)bb4 5
;bb5 6
}cc 
drdd 
.dd 
Closedd $
(dd$ %
)dd% &
;dd& '
}ee 
}ff 
}gg 
}ii 
catchjj 
(jj 
	Exceptionjj 
exjj 
)jj  
{kk 

ErrorClassll 
objErrll !
=ll" #
newll$ '

ErrorClassll( 2
(ll2 3
exll3 5
,ll5 6
$strll7 V
)llV W
;llW X
objErrmm 
.mm 
SendMailmm 
(mm  
)mm  !
;mm! "
}nn 
returnoo 
sellerListingoo  
;oo  !
}pp 	
publicyy 
boolyy 
SaveEditedInquiryyy %
(yy% &
uintyy& *
	inquiryIdyy+ 4
,yy4 5
shortyy6 ;

isApprovedyy< F
,yyF G
intyyH K

approvedByyyL V
)yyV W
{zz 	
bool{{ 
	isSuccess{{ 
={{ 
false{{ "
;{{" #
try|| 
{}} 
using~~ 
(~~ 
	DbCommand~~  
cmd~~! $
=~~% &
	DbFactory~~' 0
.~~0 1
GetDBCommand~~1 =
(~~= >
$str~~> Y
)~~Y Z
)~~Z [
{ 
cmd
ÄÄ 
.
ÄÄ 
CommandType
ÄÄ #
=
ÄÄ$ %
CommandType
ÄÄ& 1
.
ÄÄ1 2
StoredProcedure
ÄÄ2 A
;
ÄÄA B
cmd
ÅÅ 
.
ÅÅ 

Parameters
ÅÅ "
.
ÅÅ" #
Add
ÅÅ# &
(
ÅÅ& '
	DbFactory
ÅÅ' 0
.
ÅÅ0 1

GetDbParam
ÅÅ1 ;
(
ÅÅ; <
$str
ÅÅ< K
,
ÅÅK L
DbType
ÅÅM S
.
ÅÅS T
Int32
ÅÅT Y
,
ÅÅY Z
	inquiryId
ÅÅ[ d
)
ÅÅd e
)
ÅÅe f
;
ÅÅf g
cmd
ÇÇ 
.
ÇÇ 

Parameters
ÇÇ "
.
ÇÇ" #
Add
ÇÇ# &
(
ÇÇ& '
	DbFactory
ÇÇ' 0
.
ÇÇ0 1

GetDbParam
ÇÇ1 ;
(
ÇÇ; <
$str
ÇÇ< L
,
ÇÇL M
DbType
ÇÇN T
.
ÇÇT U
Int32
ÇÇU Z
,
ÇÇZ [

isApproved
ÇÇ\ f
)
ÇÇf g
)
ÇÇg h
;
ÇÇh i
cmd
ÉÉ 
.
ÉÉ 

Parameters
ÉÉ "
.
ÉÉ" #
Add
ÉÉ# &
(
ÉÉ& '
	DbFactory
ÉÉ' 0
.
ÉÉ0 1

GetDbParam
ÉÉ1 ;
(
ÉÉ; <
$str
ÉÉ< L
,
ÉÉL M
DbType
ÉÉN T
.
ÉÉT U
Int32
ÉÉU Z
,
ÉÉZ [

approvedBy
ÉÉ\ f
)
ÉÉf g
)
ÉÉg h
;
ÉÉh i
if
ÑÑ 
(
ÑÑ 
Convert
ÑÑ 
.
ÑÑ  
	ToBoolean
ÑÑ  )
(
ÑÑ) *
MySqlDatabase
ÑÑ* 7
.
ÑÑ7 8
ExecuteNonQuery
ÑÑ8 G
(
ÑÑG H
cmd
ÑÑH K
,
ÑÑK L
ConnectionType
ÑÑM [
.
ÑÑ[ \
MasterDatabase
ÑÑ\ j
)
ÑÑj k
)
ÑÑk l
)
ÑÑl m
{
ÖÖ 
	isSuccess
ÜÜ !
=
ÜÜ" #
true
ÜÜ$ (
;
ÜÜ( )
}
áá 
}
àà 
}
ââ 
catch
ää 
(
ää 
	Exception
ää 
ex
ää 
)
ää  
{
ãã 

ErrorClass
åå 
objErr
åå !
=
åå" #
new
åå$ '

ErrorClass
åå( 2
(
åå2 3
ex
åå3 5
,
åå5 6
String
åå7 =
.
åå= >
Format
åå> D
(
ååD E
$strååE Ü
,ååÜ á
	inquiryIdååà ë
,ååë í

isApprovedååì ù
,ååù û

approvedByååü ©
)åå© ™
)åå™ ´
;åå´ ¨
objErr
çç 
.
çç 
SendMail
çç 
(
çç  
)
çç  !
;
çç! "
}
éé 
return
èè 
	isSuccess
èè 
;
èè 
}
êê 	
public
ññ $
UsedBikeProfileDetails
ññ %&
GetUsedBikeSellerDetails
ññ& >
(
ññ> ?
int
ññ? B
	inquiryId
ññC L
,
ññL M
bool
ññN R
isDealer
ññS [
)
ññ[ \
{
óó 	$
UsedBikeProfileDetails
òò "
sellerProfile
òò# 0
=
òò1 2
null
òò3 7
;
òò7 8
try
ôô 
{
öö 
if
õõ 
(
õõ 
!
õõ 
isDealer
õõ 
)
õõ 
{
úú 
using
ùù 
(
ùù 
	DbCommand
ùù $
cmd
ùù% (
=
ùù) *
	DbFactory
ùù+ 4
.
ùù4 5
GetDBCommand
ùù5 A
(
ùùA B
$str
ùùB h
)
ùùh i
)
ùùi j
{
ûû 
cmd
üü 
.
üü 
CommandType
üü '
=
üü( )
CommandType
üü* 5
.
üü5 6
StoredProcedure
üü6 E
;
üüE F
cmd
†† 
.
†† 

Parameters
†† &
.
††& '
Add
††' *
(
††* +
	DbFactory
††+ 4
.
††4 5

GetDbParam
††5 ?
(
††? @
$str
††@ O
,
††O P
DbType
††Q W
.
††W X
Int32
††X ]
,
††] ^
	inquiryId
††_ h
)
††h i
)
††i j
;
††j k
using
¢¢ 
(
¢¢ 
IDataReader
¢¢ *
dr
¢¢+ -
=
¢¢. /
MySqlDatabase
¢¢0 =
.
¢¢= >
SelectQuery
¢¢> I
(
¢¢I J
cmd
¢¢J M
,
¢¢M N
ConnectionType
¢¢O ]
.
¢¢] ^
MasterDatabase
¢¢^ l
)
¢¢l m
)
¢¢m n
{
££ 
if
§§ 
(
§§  
dr
§§  "
!=
§§# %
null
§§& *
&&
§§+ -
dr
§§. 0
.
§§0 1
Read
§§1 5
(
§§5 6
)
§§6 7
)
§§7 8
{
•• 
sellerProfile
¶¶  -
=
¶¶. /
new
¶¶0 3$
UsedBikeProfileDetails
¶¶4 J
(
¶¶J K
)
¶¶K L
;
¶¶L M
sellerProfile
ßß  -
.
ßß- .
SellerDetails
ßß. ;
=
ßß< =
new
ßß> A 
CustomerEntityBase
ßßB T
(
ßßT U
)
ßßU V
;
ßßV W
sellerProfile
®®  -
.
®®- .
SellerDetails
®®. ;
.
®®; <

CustomerId
®®< F
=
®®G H 
SqlReaderConvertor
®®I [
.
®®[ \
ToUInt64
®®\ d
(
®®d e
dr
®®e g
[
®®g h
$str
®®h r
]
®®r s
)
®®s t
;
®®t u
sellerProfile
©©  -
.
©©- .
SellerDetails
©©. ;
.
©©; <
CustomerName
©©< H
=
©©I J
Convert
©©K R
.
©©R S
ToString
©©S [
(
©©[ \
dr
©©\ ^
[
©©^ _
$str
©©_ k
]
©©k l
)
©©l m
;
©©m n
sellerProfile
™™  -
.
™™- .
SellerDetails
™™. ;
.
™™; <
CustomerMobile
™™< J
=
™™K L
Convert
™™M T
.
™™T U
ToString
™™U ]
(
™™] ^
dr
™™^ `
[
™™` a
$str
™™a j
]
™™j k
)
™™k l
;
™™m n
sellerProfile
´´  -
.
´´- .
SellerDetails
´´. ;
.
´´; <
CustomerEmail
´´< I
=
´´J K
Convert
´´L S
.
´´S T
ToString
´´T \
(
´´\ ]
dr
´´] _
[
´´_ `
$str
´´` m
]
´´m n
)
´´n o
;
´´o p
sellerProfile
¨¨  -
.
¨¨- .
MakeYear
¨¨. 6
=
¨¨7 8 
SqlReaderConvertor
¨¨9 K
.
¨¨K L

ToDateTime
¨¨L V
(
¨¨V W
dr
¨¨W Y
[
¨¨Y Z
$str
¨¨Z d
]
¨¨d e
)
¨¨e f
;
¨¨f g
sellerProfile
≠≠  -
.
≠≠- .
Owner
≠≠. 3
=
≠≠4 5 
SqlReaderConvertor
≠≠6 H
.
≠≠H I
ToUInt16
≠≠I Q
(
≠≠Q R
dr
≠≠R T
[
≠≠T U
$str
≠≠U \
]
≠≠\ ]
)
≠≠] ^
;
≠≠^ _
sellerProfile
ÆÆ  -
.
ÆÆ- .
RideDistance
ÆÆ. :
=
ÆÆ; <
Convert
ÆÆ= D
.
ÆÆD E
ToString
ÆÆE M
(
ÆÆM N
dr
ÆÆN P
[
ÆÆP Q
$str
ÆÆQ [
]
ÆÆ[ \
)
ÆÆ\ ]
;
ÆÆ] ^
sellerProfile
ØØ  -
.
ØØ- .
ModelId
ØØ. 5
=
ØØ6 7 
SqlReaderConvertor
ØØ8 J
.
ØØJ K
ToUInt32
ØØK S
(
ØØS T
dr
ØØT V
[
ØØV W
$str
ØØW `
]
ØØ` a
)
ØØa b
;
ØØb c
sellerProfile
∞∞  -
.
∞∞- .
City
∞∞. 2
=
∞∞3 4
Convert
∞∞5 <
.
∞∞< =
ToString
∞∞= E
(
∞∞E F
dr
∞∞F H
[
∞∞H I
$str
∞∞I O
]
∞∞O P
)
∞∞P Q
;
∞∞Q R
sellerProfile
±±  -
.
±±- .
HostUrl
±±. 5
=
±±6 7
Convert
±±8 ?
.
±±? @
ToString
±±@ H
(
±±H I
dr
±±I K
[
±±K L
$str
±±L U
]
±±U V
)
±±V W
;
±±W X
sellerProfile
≤≤  -
.
≤≤- .
OriginalImagePath
≤≤. ?
=
≤≤@ A
Convert
≤≤B I
.
≤≤I J
ToString
≤≤J R
(
≤≤R S
dr
≤≤S U
[
≤≤U V
$str
≤≤V i
]
≤≤i j
)
≤≤j k
;
≤≤k l
dr
≥≥  "
.
≥≥" #
Close
≥≥# (
(
≥≥( )
)
≥≥) *
;
≥≥* +
}
¥¥ 
}
µµ 
}
∂∂ 
}
∑∑ 
}
∏∏ 
catch
ππ 
(
ππ 
	Exception
ππ 
ex
ππ 
)
ππ  
{
∫∫ 

ErrorClass
ªª 
objErr
ªª !
=
ªª" #
new
ªª$ '

ErrorClass
ªª( 2
(
ªª2 3
ex
ªª3 5
,
ªª5 6
$str
ªª7 Q
+
ªªR S
	inquiryId
ªªT ]
)
ªª] ^
;
ªª^ _
}
ºº 
return
ΩΩ 
sellerProfile
ΩΩ  
;
ΩΩ  !
}
ææ 	
}
¿¿ 
}¡¡ Í 
ID:\work\bikewaleweb\BikewaleOpr.DALs\UserReviews\UserReviewsRepository.cs
	namespace 	
BikewaleOpr
 
. 
DALs 
. 
UserReviews &
{ 
public 

class !
UserReviewsRepository &
:' ("
IUserReviewsRepository) ?
{ 
public 
IEnumerable 
< 

ReviewBase %
>% &
GetReviewsList' 5
(5 6
ReviewsInputFilters6 I
filterJ P
)P Q
{   	
IEnumerable!! 
<!! 

ReviewBase!! "
>!!" #

objReviews!!$ .
=!!/ 0
null!!1 5
;!!5 6
try## 
{$$ 
using%% 
(%% 
IDbConnection%% $

connection%%% /
=%%0 1
DatabaseHelper%%2 @
.%%@ A
GetMasterConnection%%A T
(%%T U
)%%U V
)%%V W
{&& 

connection'' 
.'' 
Open'' #
(''# $
)''$ %
;''% &
var)) 
param)) 
=)) 
new))  #
DynamicParameters))$ 5
())5 6
)))6 7
;))7 8
param++ 
.++ 
Add++ 
(++ 
$str++ ,
,++, -
(++. /
ushort++/ 5
)++5 6
filter++6 <
.++< =
ReviewStatus++= I
)++I J
;++J K
param,, 
.,, 
Add,, 
(,, 
$str,, *
,,,* +
filter,,, 2
.,,2 3
MakeId,,3 9
>,,: ;
$num,,< =
?,,> ?
filter,,@ F
.,,F G
MakeId,,G M
:,,N O
(,,P Q
uint,,Q U
?,,U V
),,V W
null,,W [
),,[ \
;,,\ ]
param-- 
.-- 
Add-- 
(-- 
$str-- +
,--+ ,
filter--- 3
.--3 4
ModelId--4 ;
>--< =
$num--> ?
?--@ A
filter--B H
.--H I
ModelId--I P
:--Q R
(--S T
uint--T X
?--X Y
)--Y Z
null--Z ^
)--^ _
;--_ `
param.. 
... 
Add.. 
(.. 
$str.. .
,... /
filter..0 6
...6 7

ReviewDate..7 A
!=..B D
null..E I
&&..J L
filter..M S
...S T

ReviewDate..T ^
!=.._ a
default..b i
(..i j
DateTime..j r
)..r s
?..t u
filter..v |
...| }

ReviewDate	..} á
:
..à â
(
..ä ã
DateTime
..ã ì
?
..ì î
)
..î ï
null
..ï ô
)
..ô ö
;
..ö õ

objReviews00 
=00  

connection00! +
.00+ ,
Query00, 1
<001 2

ReviewBase002 <
>00< =
(00= >
$str00> ^
,00^ _
param00` e
:00e f
param00g l
,00l m
commandType00n y
:00y z
CommandType	00{ Ü
.
00Ü á
StoredProcedure
00á ñ
)
00ñ ó
;
00ó ò
if22 
(22 

connection22 "
.22" #
State22# (
==22) +
ConnectionState22, ;
.22; <
Open22< @
)22@ A

connection33 "
.33" #
Close33# (
(33( )
)33) *
;33* +
}44 
}55 
catch66 
(66 
	Exception66 
ex66 
)66  
{77 

ErrorClass88 
objErr88 !
=88" #
new88$ '

ErrorClass88( 2
(882 3
ex883 5
,885 6
$str887 d
)88d e
;88e f
}99 
return;; 

objReviews;; 
;;; 
}<< 	
publicCC 
IEnumerableCC 
<CC 

ReviewBaseCC %
>CC% &
GetRatingsListCC' 5
(CC5 6
)CC6 7
{DD 	
IEnumerableEE 
<EE 

ReviewBaseEE "
>EE" #

objReviewsEE$ .
=EE/ 0
nullEE1 5
;EE5 6
tryGG 
{HH 
usingII 
(II 
IDbConnectionII $

connectionII% /
=II0 1
DatabaseHelperII2 @
.II@ A
GetMasterConnectionIIA T
(IIT U
)IIU V
)IIV W
{JJ 

connectionKK 
.KK 
OpenKK #
(KK# $
)KK$ %
;KK% &
varMM 
paramMM 
=MM 
newMM  #
DynamicParametersMM$ 5
(MM5 6
)MM6 7
;MM7 8

objReviewsOO 
=OO  

connectionOO! +
.OO+ ,
QueryOO, 1
<OO1 2

ReviewBaseOO2 <
>OO< =
(OO= >
$strOO> a
,OOa b
paramOOc h
:OOh i
paramOOj o
,OOo p
commandTypeOOq |
:OO| }
CommandType	OO~ â
.
OOâ ä
StoredProcedure
OOä ô
)
OOô ö
;
OOö õ
ifQQ 
(QQ 

connectionQQ "
.QQ" #
StateQQ# (
==QQ) +
ConnectionStateQQ, ;
.QQ; <
OpenQQ< @
)QQ@ A

connectionRR "
.RR" #
CloseRR# (
(RR( )
)RR) *
;RR* +
}SS 
}TT 
catchUU 
(UU 
	ExceptionUU 
exUU 
)UU  
{VV 

ErrorClassWW 
objErrWW !
=WW" #
newWW$ '

ErrorClassWW( 2
(WW2 3
exWW3 5
,WW5 6
$strWW7 d
)WWd e
;WWe f
}XX 
returnZZ 

objReviewsZZ 
;ZZ 
}[[ 	
publicdd 
IEnumerabledd 
<dd 
DiscardReasonsdd )
>dd) *(
GetUserReviewsDiscardReasonsdd+ G
(ddG H
)ddH I
{ee 	
IEnumerableff 
<ff 
DiscardReasonsff &
>ff& '

objReasonsff( 2
=ff3 4
nullff5 9
;ff9 :
tryhh 
{ii 
usingjj 
(jj 
IDbConnectionjj $

connectionjj% /
=jj0 1
DatabaseHelperjj2 @
.jj@ A!
GetReadonlyConnectionjjA V
(jjV W
)jjW X
)jjX Y
{kk 

connectionll 
.ll 
Openll #
(ll# $
)ll$ %
;ll% &

objReasonsnn 
=nn  

connectionnn! +
.nn+ ,
Querynn, 1
<nn1 2
DiscardReasonsnn2 @
>nn@ A
(nnA B
$strnnB `
,nn` a
commandTypennb m
:nnm n
CommandTypenno z
.nnz {
StoredProcedure	nn{ ä
)
nnä ã
;
nnã å
ifpp 
(pp 

connectionpp "
.pp" #
Statepp# (
==pp) +
ConnectionStatepp, ;
.pp; <
Openpp< @
)pp@ A

connectionqq "
.qq" #
Closeqq# (
(qq( )
)qq) *
;qq* +
}rr 
}ss 
catchtt 
(tt 
	Exceptiontt 
extt 
)tt  
{uu 

ErrorClassvv 
objErrvv !
=vv" #
newvv$ '

ErrorClassvv( 2
(vv2 3
exvv3 5
,vv5 6
$strvv7 r
)vvr s
;vvs t
}ww 
returnyy 

objReasonsyy 
;yy 
}{{ 	
public
ÜÜ 
uint
ÜÜ %
UpdateUserReviewsStatus
ÜÜ +
(
ÜÜ+ ,
uint
ÜÜ, 0
reviewId
ÜÜ1 9
,
ÜÜ9 :
ReviewsStatus
ÜÜ; H
reviewStatus
ÜÜI U
,
ÜÜU V
uint
ÜÜW [
moderatorId
ÜÜ\ g
,
ÜÜg h
ushort
ÜÜi o"
disapprovalReasonIdÜÜp É
,ÜÜÉ Ñ
stringÜÜÖ ã
reviewÜÜå í
,ÜÜí ì
stringÜÜî ö
reviewTitleÜÜõ ¶
,ÜÜ¶ ß
stringÜÜ® Æ

reviewTipsÜÜØ π
,ÜÜπ ∫
boolÜÜª ø
iShortListedÜÜ¿ Ã
)ÜÜÃ Õ
{
áá 	
uint
àà 
oldTableReviewId
àà !
=
àà" #
$num
àà$ %
;
àà% &
try
ää 
{
ãã 
using
åå 
(
åå 
IDbConnection
åå $

connection
åå% /
=
åå0 1
DatabaseHelper
åå2 @
.
åå@ A!
GetMasterConnection
ååA T
(
ååT U
)
ååU V
)
ååV W
{
çç 
var
éé 
param
éé 
=
éé 
new
éé  #
DynamicParameters
éé$ 5
(
éé5 6
)
éé6 7
;
éé7 8
param
êê 
.
êê 
Add
êê 
(
êê 
$str
êê ,
,
êê, -
reviewId
êê. 6
)
êê6 7
;
êê7 8
param
ëë 
.
ëë 
Add
ëë 
(
ëë 
$str
ëë /
,
ëë/ 0
moderatorId
ëë1 <
)
ëë< =
;
ëë= >
param
íí 
.
íí 
Add
íí 
(
íí 
$str
íí *
,
íí* +
(
íí, -
ushort
íí- 3
)
íí3 4
reviewStatus
íí4 @
)
íí@ A
;
ííA B
param
ìì 
.
ìì 
Add
ìì 
(
ìì 
$str
ìì 0
,
ìì0 1!
disapprovalReasonId
ìì2 E
>
ììF G
$num
ììH I
?
ììJ K!
disapprovalReasonId
ììL _
:
ìì` a
(
ììb c
ushort
ììc i
?
ììi j
)
ììj k
null
ììk o
)
ììo p
;
ììp q
param
îî 
.
îî 
Add
îî 
(
îî 
$str
îî *
,
îî* +
String
îî, 2
.
îî2 3
IsNullOrEmpty
îî3 @
(
îî@ A
review
îîA G
)
îîG H
?
îîI J
null
îîK O
:
îîP Q
review
îîR X
)
îîX Y
;
îîY Z
param
ïï 
.
ïï 
Add
ïï 
(
ïï 
$str
ïï )
,
ïï) *
String
ïï+ 1
.
ïï1 2
IsNullOrEmpty
ïï2 ?
(
ïï? @
reviewTitle
ïï@ K
)
ïïK L
?
ïïM N
null
ïïO S
:
ïïT U
reviewTitle
ïïV a
)
ïïa b
;
ïïb c
param
ññ 
.
ññ 
Add
ññ 
(
ññ 
$str
ññ (
,
ññ( )
String
ññ* 0
.
ññ0 1
IsNullOrEmpty
ññ1 >
(
ññ> ?

reviewTips
ññ? I
)
ññI J
?
ññK L
null
ññM Q
:
ññR S

reviewTips
ññT ^
)
ññ^ _
;
ññ_ `
param
óó 
.
óó 
Add
óó 
(
óó 
$str
óó 1
,
óó1 2
iShortListed
óó3 ?
)
óó? @
;
óó@ A
param
òò 
.
òò 
Add
òò 
(
òò 
$str
òò 4
,
òò4 5
value
òò6 ;
:
òò; <
$num
òò= >
,
òò> ?
dbType
òò@ F
:
òòF G
DbType
òòH N
.
òòN O
UInt32
òòO U
,
òòU V
	direction
òòW `
:
òò` a 
ParameterDirection
òòb t
.
òòt u
Output
òòu {
)
òò{ |
;
òò| }

connection
öö 
.
öö 
Open
öö #
(
öö# $
)
öö$ %
;
öö% &

connection
úú 
.
úú 
Query
úú $
(
úú$ %
$str
úú% F
,
úúF G
param
úúH M
:
úúM N
param
úúO T
,
úúT U
commandType
úúV a
:
úúa b
CommandType
úúc n
.
úún o
StoredProcedure
úúo ~
)
úú~ 
;úú Ä
oldTableReviewId
ûû $
=
ûû% &
param
ûû' ,
.
ûû, -
Get
ûû- 0
<
ûû0 1
uint
ûû1 5
>
ûû5 6
(
ûû6 7
$str
ûû7 M
)
ûûM N
;
ûûN O
if
†† 
(
†† 

connection
†† "
.
††" #
State
††# (
==
††) +
ConnectionState
††, ;
.
††; <
Open
††< @
)
††@ A

connection
°° "
.
°°" #
Close
°°# (
(
°°( )
)
°°) *
;
°°* +
}
££ 
}
§§ 
catch
•• 
(
•• 
	Exception
•• 
ex
•• 
)
••  
{
¶¶ 

ErrorClass
ßß 
objErr
ßß !
=
ßß" #
new
ßß$ '

ErrorClass
ßß( 2
(
ßß2 3
ex
ßß3 5
,
ßß5 6
$str
ßß7 m
)
ßßm n
;
ßßn o
}
®® 
return
™™ 
oldTableReviewId
™™ #
;
™™# $
}
¨¨ 	
public
∑∑ 
UserReviewSummary
∑∑  "
GetUserReviewSummary
∑∑! 5
(
∑∑5 6
uint
∑∑6 :
reviewId
∑∑; C
)
∑∑C D
{
∏∏ 	
UserReviewSummary
ππ "
objUserReviewSummary
ππ 2
=
ππ3 4
null
ππ5 9
;
ππ9 :
IList
∫∫ 
<
∫∫ 
UserReviewRating
∫∫ "
>
∫∫" #!
objUserReviewrating
∫∫$ 7
=
∫∫8 9
null
∫∫: >
;
∫∫> ?
try
ºº 
{
ΩΩ 
using
ææ 
(
ææ 
	DbCommand
ææ  
cmd
ææ! $
=
ææ% &
	DbFactory
ææ' 0
.
ææ0 1
GetDBCommand
ææ1 =
(
ææ= >
$str
ææ> ^
)
ææ^ _
)
ææ_ `
{
øø 
cmd
¿¿ 
.
¿¿ 
CommandType
¿¿ #
=
¿¿$ %
CommandType
¿¿& 1
.
¿¿1 2
StoredProcedure
¿¿2 A
;
¿¿A B
cmd
¡¡ 
.
¡¡ 

Parameters
¡¡ "
.
¡¡" #
Add
¡¡# &
(
¡¡& '
	DbFactory
¡¡' 0
.
¡¡0 1

GetDbParam
¡¡1 ;
(
¡¡; <
$str
¡¡< J
,
¡¡J K
DbType
¡¡L R
.
¡¡R S
UInt32
¡¡S Y
,
¡¡Y Z
reviewId
¡¡[ c
)
¡¡c d
)
¡¡d e
;
¡¡e f
using
√√ 
(
√√ 
IDataReader
√√ &
dr
√√' )
=
√√* +
MySqlDatabase
√√, 9
.
√√9 :
SelectQuery
√√: E
(
√√E F
cmd
√√F I
,
√√I J
ConnectionType
√√K Y
.
√√Y Z
MasterDatabase
√√Z h
)
√√h i
)
√√i j
{
ƒƒ 
if
≈≈ 
(
≈≈ 
dr
≈≈ 
!=
≈≈ !
null
≈≈" &
&&
≈≈' )
dr
≈≈* ,
.
≈≈, -
Read
≈≈- 1
(
≈≈1 2
)
≈≈2 3
)
≈≈3 4
{
∆∆ "
objUserReviewSummary
«« 0
=
««1 2
new
««3 6
UserReviewSummary
««7 H
(
««H I
)
««I J
{
»» 
CustomerEmail
    -
=
  . /
Convert
  0 7
.
  7 8
ToString
  8 @
(
  @ A
dr
  A C
[
  C D
$str
  D S
]
  S T
)
  T U
,
  U V
CustomerName
ÀÀ  ,
=
ÀÀ- .
Convert
ÀÀ/ 6
.
ÀÀ6 7
ToString
ÀÀ7 ?
(
ÀÀ? @
dr
ÀÀ@ B
[
ÀÀB C
$str
ÀÀC Q
]
ÀÀQ R
)
ÀÀR S
,
ÀÀS T
Description
ÃÃ  +
=
ÃÃ, -
Convert
ÃÃ. 5
.
ÃÃ5 6
ToString
ÃÃ6 >
(
ÃÃ> ?
dr
ÃÃ? A
[
ÃÃA B
$str
ÃÃB L
]
ÃÃL M
)
ÃÃM N
,
ÃÃN O
Title
ÕÕ  %
=
ÕÕ& '
Convert
ÕÕ( /
.
ÕÕ/ 0
ToString
ÕÕ0 8
(
ÕÕ8 9
dr
ÕÕ9 ;
[
ÕÕ; <
$str
ÕÕ< I
]
ÕÕI J
)
ÕÕJ K
,
ÕÕK L
Tips
ŒŒ  $
=
ŒŒ% &
Convert
ŒŒ' .
.
ŒŒ. /
ToString
ŒŒ/ 7
(
ŒŒ7 8
dr
ŒŒ8 :
[
ŒŒ: ;
$str
ŒŒ; G
]
ŒŒG H
)
ŒŒH I
,
ŒŒI J
OverallRatingId
œœ  /
=
œœ0 1 
SqlReaderConvertor
œœ2 D
.
œœD E
ToUInt16
œœE M
(
œœM N
dr
œœN P
[
œœP Q
$str
œœQ b
]
œœb c
)
œœc d
,
œœd e
OverallRating
––  -
=
––. /
new
––0 3%
UserReviewOverallRating
––4 K
(
––K L
)
––L M
{
——  !
Id
““$ &
=
““' ( 
SqlReaderConvertor
““) ;
.
““; <
ToUInt16
““< D
(
““D E
dr
““E G
[
““G H
$str
““H Y
]
““Y Z
)
““Z [
,
““[ \
Value
””$ )
=
””* + 
SqlReaderConvertor
””, >
.
””> ?
ToUInt16
””? G
(
””G H
dr
””H J
[
””J K
$str
””K S
]
””S T
)
””T U
,
””U V
Heading
‘‘$ +
=
‘‘, -
Convert
‘‘. 5
.
‘‘5 6
ToString
‘‘6 >
(
‘‘> ?
dr
‘‘? A
[
‘‘A B
$str
‘‘B K
]
‘‘K L
)
‘‘L M
,
‘‘M N
Description
’’$ /
=
’’0 1
Convert
’’2 9
.
’’9 :
ToString
’’: B
(
’’B C
dr
’’C E
[
’’E F
$str
’’F S
]
’’S T
)
’’T U
,
’’U V
}
÷÷  !
,
÷÷! "
Make
◊◊  $
=
◊◊% &
new
◊◊' * 
BikeMakeEntityBase
◊◊+ =
(
◊◊= >
)
◊◊> ?
{
ÿÿ  !
MakeId
ŸŸ$ *
=
ŸŸ+ , 
SqlReaderConvertor
ŸŸ- ?
.
ŸŸ? @
ToInt32
ŸŸ@ G
(
ŸŸG H
dr
ŸŸH J
[
ŸŸJ K
$str
ŸŸK S
]
ŸŸS T
)
ŸŸT U
,
ŸŸU V
MaskingName
⁄⁄$ /
=
⁄⁄0 1
Convert
⁄⁄2 9
.
⁄⁄9 :
ToString
⁄⁄: B
(
⁄⁄B C
dr
⁄⁄C E
[
⁄⁄E F
$str
⁄⁄F S
]
⁄⁄S T
)
⁄⁄T U
,
⁄⁄U V
MakeName
€€$ ,
=
€€- .
Convert
€€/ 6
.
€€6 7
ToString
€€7 ?
(
€€? @
dr
€€@ B
[
€€B C
$str
€€C M
]
€€M N
)
€€N O
}
‹‹  !
,
‹‹! "
Model
››  %
=
››& '
new
››( +!
BikeModelEntityBase
››, ?
(
››? @
)
››@ A
{
ﬁﬁ  !
ModelId
ﬂﬂ$ +
=
ﬂﬂ, - 
SqlReaderConvertor
ﬂﬂ. @
.
ﬂﬂ@ A
ToInt32
ﬂﬂA H
(
ﬂﬂH I
dr
ﬂﬂI K
[
ﬂﬂK L
$str
ﬂﬂL U
]
ﬂﬂU V
)
ﬂﬂV W
,
ﬂﬂW X
MaskingName
‡‡$ /
=
‡‡0 1
Convert
‡‡2 9
.
‡‡9 :
ToString
‡‡: B
(
‡‡B C
dr
‡‡C E
[
‡‡E F
$str
‡‡F T
]
‡‡T U
)
‡‡U V
,
‡‡V W
	ModelName
··$ -
=
··. /
Convert
··0 7
.
··7 8
ToString
··8 @
(
··@ A
dr
··A C
[
··C D
$str
··D O
]
··O P
)
··P Q
}
‚‚  !
,
‚‚! "
OriginalImgPath
„„  /
=
„„0 1
Convert
„„2 9
.
„„9 :
ToString
„„: B
(
„„B C
dr
„„C E
[
„„E F
$str
„„F W
]
„„W X
)
„„X Y
,
„„Y Z
HostUrl
‰‰  '
=
‰‰( )
Convert
‰‰* 1
.
‰‰1 2
ToString
‰‰2 :
(
‰‰: ;
dr
‰‰; =
[
‰‰= >
$str
‰‰> G
]
‰‰G H
)
‰‰H I
,
‰‰I J
IsShortListed
ÂÂ  -
=
ÂÂ. / 
SqlReaderConvertor
ÂÂ0 B
.
ÂÂB C
	ToBoolean
ÂÂC L
(
ÂÂL M
dr
ÂÂM O
[
ÂÂO P
$str
ÂÂP _
]
ÂÂ_ `
)
ÂÂ` a
,
ÂÂa b
IsWinner
ÊÊ  (
=
ÊÊ) * 
SqlReaderConvertor
ÊÊ+ =
.
ÊÊ= >
	ToBoolean
ÊÊ> G
(
ÊÊG H
dr
ÊÊH J
[
ÊÊJ K
$str
ÊÊK U
]
ÊÊU V
)
ÊÊV W
}
ÁÁ 
;
ÁÁ 
}
ËË 
if
ÍÍ 
(
ÍÍ "
objUserReviewSummary
ÍÍ 0
!=
ÍÍ1 3
null
ÍÍ4 8
&&
ÍÍ9 ;
dr
ÍÍ< >
.
ÍÍ> ?

NextResult
ÍÍ? I
(
ÍÍI J
)
ÍÍJ K
)
ÍÍK L
{
ÎÎ 
var
ÏÏ 
objQuestions
ÏÏ  ,
=
ÏÏ- .
new
ÏÏ/ 2
List
ÏÏ3 7
<
ÏÏ7 8 
UserReviewQuestion
ÏÏ8 J
>
ÏÏJ K
(
ÏÏK L
)
ÏÏL M
;
ÏÏM N
while
ÌÌ !
(
ÌÌ" #
dr
ÌÌ# %
.
ÌÌ% &
Read
ÌÌ& *
(
ÌÌ* +
)
ÌÌ+ ,
)
ÌÌ, -
{
ÓÓ 
objQuestions
ÔÔ  ,
.
ÔÔ, -
Add
ÔÔ- 0
(
ÔÔ0 1
new
ÔÔ1 4 
UserReviewQuestion
ÔÔ5 G
(
ÔÔG H
)
ÔÔH I
{
  !
SelectedRatingId
ÒÒ$ 4
=
ÒÒ5 6 
SqlReaderConvertor
ÒÒ7 I
.
ÒÒI J
ToUInt32
ÒÒJ R
(
ÒÒR S
dr
ÒÒS U
[
ÒÒU V
$str
ÒÒV c
]
ÒÒc d
)
ÒÒd e
,
ÒÒe f
Id
ÚÚ$ &
=
ÚÚ' ( 
SqlReaderConvertor
ÚÚ) ;
.
ÚÚ; <
ToUInt32
ÚÚ< D
(
ÚÚD E
dr
ÚÚE G
[
ÚÚG H
$str
ÚÚH T
]
ÚÚT U
)
ÚÚU V
,
ÚÚV W
Heading
ÛÛ$ +
=
ÛÛ, -
Convert
ÛÛ. 5
.
ÛÛ5 6
ToString
ÛÛ6 >
(
ÛÛ> ?
dr
ÛÛ? A
[
ÛÛA B
$str
ÛÛB K
]
ÛÛK L
)
ÛÛL M
,
ÛÛM N
Description
ÙÙ$ /
=
ÙÙ0 1
Convert
ÙÙ2 9
.
ÙÙ9 :
ToString
ÙÙ: B
(
ÙÙB C
dr
ÙÙC E
[
ÙÙE F
$str
ÙÙF S
]
ÙÙS T
)
ÙÙT U
,
ÙÙU V
DisplayType
ıı$ /
=
ıı0 1
(
ıı2 3+
UserReviewQuestionDisplayType
ıı3 P
)
ııP Q
Convert
ııQ X
.
ııX Y
ToInt32
ııY `
(
ıı` a
dr
ııa c
[
ııc d
$str
ııd q
]
ııq r
)
ıır s
,
ııs t
Type
ˆˆ$ (
=
ˆˆ) *
(
ˆˆ+ ,$
UserReviewQuestionType
ˆˆ, B
)
ˆˆB C
Convert
ˆˆC J
.
ˆˆJ K
ToInt32
ˆˆK R
(
ˆˆR S
dr
ˆˆS U
[
ˆˆU V
$str
ˆˆV d
]
ˆˆd e
)
ˆˆe f
,
ˆˆf g
Order
˜˜$ )
=
˜˜* + 
SqlReaderConvertor
˜˜, >
.
˜˜> ?
ToUInt16
˜˜? G
(
˜˜G H
dr
˜˜H J
[
˜˜J K
$str
˜˜K Y
]
˜˜Y Z
)
˜˜Z [
}
¯¯  !
)
¯¯! "
;
¯¯" #
}
˘˘ "
objUserReviewSummary
˙˙ 0
.
˙˙0 1
	Questions
˙˙1 :
=
˙˙; <
objQuestions
˙˙= I
;
˙˙I J
}
˚˚ 
if
˝˝ 
(
˝˝ "
objUserReviewSummary
˝˝ 0
!=
˝˝1 3
null
˝˝4 8
&&
˝˝9 ;
dr
˝˝< >
.
˝˝> ?

NextResult
˝˝? I
(
˝˝I J
)
˝˝J K
)
˝˝K L
{
˛˛ !
objUserReviewrating
ˇˇ /
=
ˇˇ0 1
new
ˇˇ2 5
List
ˇˇ6 :
<
ˇˇ: ;
UserReviewRating
ˇˇ; K
>
ˇˇK L
(
ˇˇL M
)
ˇˇM N
;
ˇˇN O
while
ÄÄ !
(
ÄÄ" #
dr
ÄÄ# %
.
ÄÄ% &
Read
ÄÄ& *
(
ÄÄ* +
)
ÄÄ+ ,
)
ÄÄ, -
{
ÅÅ !
objUserReviewrating
ÇÇ  3
.
ÇÇ3 4
Add
ÇÇ4 7
(
ÇÇ7 8
new
ÉÉ$ '
UserReviewRating
ÉÉ( 8
(
ÉÉ8 9
)
ÉÉ9 :
{
ÑÑ$ %
Id
ÖÖ( *
=
ÖÖ+ , 
SqlReaderConvertor
ÖÖ- ?
.
ÖÖ? @
ToUInt32
ÖÖ@ H
(
ÖÖH I
dr
ÖÖI K
[
ÖÖK L
$str
ÖÖL V
]
ÖÖV W
)
ÖÖW X
,
ÖÖX Y

QuestionId
ÜÜ( 2
=
ÜÜ3 4 
SqlReaderConvertor
ÜÜ5 G
.
ÜÜG H
ToUInt32
ÜÜH P
(
ÜÜP Q
dr
ÜÜQ S
[
ÜÜS T
$str
ÜÜT `
]
ÜÜ` a
)
ÜÜa b
,
ÜÜb c
Text
áá( ,
=
áá- .
Convert
áá/ 6
.
áá6 7
ToString
áá7 ?
(
áá? @
dr
áá@ B
[
ááB C
$str
ááC O
]
ááO P
)
ááP Q
,
ááQ R
Value
àà( -
=
àà. /
Convert
àà0 7
.
àà7 8
ToString
àà8 @
(
àà@ A
dr
ààA C
[
ààC D
$str
ààD Q
]
ààQ R
)
ààR S
}
ââ$ %
)
ââ% &
;
ââ& '
}
ää 
}
ãã 
dr
çç 
.
çç 
Close
çç  
(
çç  !
)
çç! "
;
çç" #
}
éé 
}
èè 
if
ëë 
(
ëë "
objUserReviewSummary
ëë (
!=
ëë) +
null
ëë, 0
)
ëë0 1
{
íí 
foreach
îî 
(
îî 
var
îî  
question
îî! )
in
îî* ,"
objUserReviewSummary
îî- A
.
îîA B
	Questions
îîB K
)
îîK L
{
ïï 
var
ññ 
	objRating
ññ %
=
ññ& '!
objUserReviewrating
ññ( ;
.
ññ; <
Where
ññ< A
(
ññA B
q
ññB C
=>
ññD F
q
ññG H
.
ññH I

QuestionId
ññI S
==
ññT V
question
ññW _
.
ññ_ `
Id
ññ` b
&&
ññc e
question
ññf n
.
ññn o
SelectedRatingId
ñño 
.ññ Ä
ToStringññÄ à
(ññà â
)ññâ ä
==ññã ç
qññé è
.ññè ê
Valueññê ï
)ññï ñ
;ñññ ó
question
óó  
.
óó  !
Rating
óó! '
=
óó( )
	objRating
óó* 3
;
óó3 4
}
òò 
}
ôô 
}
öö 
catch
úú 
(
úú 
	Exception
úú 
ex
úú 
)
úú  
{
ùù 

ErrorClass
üü 
errObj
üü !
=
üü" #
new
üü$ '

ErrorClass
üü( 2
(
üü2 3
ex
üü3 5
,
üü5 6
HttpContext
üü7 B
.
üüB C
Current
üüC J
.
üüJ K
Request
üüK R
.
üüR S
ServerVariables
üüS b
[
üüb c
$str
üüc h
]
üüh i
)
üüi j
;
üüj k
}
°° 
return
££ "
objUserReviewSummary
££ '
;
££' (
}
§§ 	
public
≠≠ 

ReviewBase
≠≠ .
 GetUserReviewWithEmailIdReviewId
≠≠ :
(
≠≠: ;
uint
≠≠; ?
reviewId
≠≠@ H
,
≠≠H I
string
≠≠J P
emailId
≠≠Q X
)
≠≠X Y
{
ÆÆ 	

ReviewBase
ØØ 
objUserReview
ØØ $
=
ØØ% &
null
ØØ' +
;
ØØ+ ,
try
∞∞ 
{
±± 
using
≤≤ 
(
≤≤ 
	DbCommand
≤≤  
cmd
≤≤! $
=
≤≤% &
	DbFactory
≤≤' 0
.
≤≤0 1
GetDBCommand
≤≤1 =
(
≤≤= >
$str
≤≤> e
)
≤≤e f
)
≤≤f g
{
≥≥ 
cmd
¥¥ 
.
¥¥ 
CommandType
¥¥ #
=
¥¥$ %
CommandType
¥¥& 1
.
¥¥1 2
StoredProcedure
¥¥2 A
;
¥¥A B
cmd
µµ 
.
µµ 

Parameters
µµ "
.
µµ" #
Add
µµ# &
(
µµ& '
	DbFactory
µµ' 0
.
µµ0 1

GetDbParam
µµ1 ;
(
µµ; <
$str
µµ< J
,
µµJ K
DbType
µµL R
.
µµR S
UInt32
µµS Y
,
µµY Z
reviewId
µµ[ c
)
µµc d
)
µµd e
;
µµe f
cmd
∂∂ 
.
∂∂ 

Parameters
∂∂ "
.
∂∂" #
Add
∂∂# &
(
∂∂& '
	DbFactory
∂∂' 0
.
∂∂0 1

GetDbParam
∂∂1 ;
(
∂∂; <
$str
∂∂< I
,
∂∂I J
DbType
∂∂K Q
.
∂∂Q R
String
∂∂R X
,
∂∂X Y
emailId
∂∂Z a
)
∂∂a b
)
∂∂b c
;
∂∂c d
using
ππ 
(
ππ 
IDataReader
ππ &
dr
ππ' )
=
ππ* +
MySqlDatabase
ππ, 9
.
ππ9 :
SelectQuery
ππ: E
(
ππE F
cmd
ππF I
,
ππI J
ConnectionType
ππK Y
.
ππY Z
MasterDatabase
ππZ h
)
ππh i
)
ππi j
{
∫∫ 
if
ªª 
(
ªª 
dr
ªª 
!=
ªª !
null
ªª" &
&&
ªª' )
dr
ªª* ,
.
ªª, -
Read
ªª- 1
(
ªª1 2
)
ªª2 3
)
ªª3 4
{
ºº 
objUserReview
ΩΩ )
=
ΩΩ* +
new
ΩΩ, /

ReviewBase
ΩΩ0 :
(
ΩΩ: ;
)
ΩΩ; <
{
ææ 
CustomerEmail
¿¿  -
=
¿¿. /
Convert
¿¿0 7
.
¿¿7 8
ToString
¿¿8 @
(
¿¿@ A
dr
¿¿A C
[
¿¿C D
$str
¿¿D S
]
¿¿S T
)
¿¿T U
,
¿¿U V
	WrittenBy
¡¡  )
=
¡¡* +
Convert
¡¡, 3
.
¡¡3 4
ToString
¡¡4 <
(
¡¡< =
dr
¡¡= ?
[
¡¡? @
$str
¡¡@ K
]
¡¡K L
)
¡¡L M
,
¡¡M N
Id
¬¬  "
=
¬¬# $ 
SqlReaderConvertor
¬¬% 7
.
¬¬7 8
ToUInt32
¬¬8 @
(
¬¬@ A
dr
¬¬A C
[
¬¬C D
$str
¬¬D H
]
¬¬H I
)
¬¬I J
,
¬¬J K
MakeId
√√  &
=
√√' ( 
SqlReaderConvertor
√√) ;
.
√√; <
ToUInt32
√√< D
(
√√D E
dr
√√E G
[
√√G H
$str
√√H P
]
√√P Q
)
√√Q R
,
√√R S
ModelId
ƒƒ  '
=
ƒƒ( ) 
SqlReaderConvertor
ƒƒ* <
.
ƒƒ< =
ToUInt32
ƒƒ= E
(
ƒƒE F
dr
ƒƒF H
[
ƒƒH I
$str
ƒƒI R
]
ƒƒR S
)
ƒƒS T
,
ƒƒT U
MakeName
≈≈  (
=
≈≈) *
Convert
≈≈+ 2
.
≈≈2 3
ToString
≈≈3 ;
(
≈≈; <
dr
≈≈< >
[
≈≈> ?
$str
≈≈? I
]
≈≈I J
)
≈≈J K
,
≈≈K L
	ModelName
∆∆  )
=
∆∆* +
Convert
∆∆, 3
.
∆∆3 4
ToString
∆∆4 <
(
∆∆< =
dr
∆∆= ?
[
∆∆? @
$str
∆∆@ K
]
∆∆K L
)
∆∆L M
,
∆∆M N
	EntryDate
««  )
=
««* +
Convert
««, 3
.
««3 4
ToString
««4 <
(
««< =
dr
««= ?
[
««? @
$str
««@ K
]
««K L
)
««L M
,
««M N
ReviewStatus
»»  ,
=
»»- . 
SqlReaderConvertor
»»/ A
.
»»A B
ToUInt16
»»B J
(
»»J K
dr
»»K M
[
»»M N
$str
»»N \
]
»»\ ]
)
»»] ^
}
…… 
;
…… 
}
   
dr
ÀÀ 
.
ÀÀ 
Close
ÀÀ  
(
ÀÀ  !
)
ÀÀ! "
;
ÀÀ" #
}
ÃÃ 
}
ÕÕ 
}
ŒŒ 
catch
œœ 
(
œœ 
	Exception
œœ 
ex
œœ 
)
œœ  
{
–– 

ErrorClass
““ 
errObj
““ !
=
““" #
new
““$ '

ErrorClass
““( 2
(
““2 3
ex
““3 5
,
““5 6
string
““7 =
.
““= >
Format
““> D
(
““D E
$str““E Ä
,““Ä Å
reviewId““Ç ä
,““ä ã
emailId““å ì
)““ì î
)““î ï
;““ï ñ
}
‘‘ 
return
÷÷ 
objUserReview
÷÷  
;
÷÷  !
}
◊◊ 	
public
ﬂﬂ 
IEnumerable
ﬂﬂ 
<
ﬂﬂ %
BikeRatingApproveEntity
ﬂﬂ 2
>
ﬂﬂ2 3"
GetUserReviewDetails
ﬂﬂ4 H
(
ﬂﬂH I
string
ﬂﬂI O
	reviewIds
ﬂﬂP Y
)
ﬂﬂY Z
{
‡‡ 	
List
·· 
<
·· %
BikeRatingApproveEntity
·· (
>
··( )
objDetailsList
··* 8
=
··9 :
null
··; ?
;
··? @
try
‚‚ 
{
„„ 
using
‰‰ 
(
‰‰ 
	DbCommand
‰‰  
cmd
‰‰! $
=
‰‰% &
	DbFactory
‰‰' 0
.
‰‰0 1
GetDBCommand
‰‰1 =
(
‰‰= >
$str
‰‰> T
)
‰‰T U
)
‰‰U V
{
ÂÂ 
cmd
ÊÊ 
.
ÊÊ 
CommandType
ÊÊ #
=
ÊÊ$ %
CommandType
ÊÊ& 1
.
ÊÊ1 2
StoredProcedure
ÊÊ2 A
;
ÊÊA B
cmd
ÁÁ 
.
ÁÁ 

Parameters
ÁÁ "
.
ÁÁ" #
Add
ÁÁ# &
(
ÁÁ& '
	DbFactory
ÁÁ' 0
.
ÁÁ0 1

GetDbParam
ÁÁ1 ;
(
ÁÁ; <
$str
ÁÁ< K
,
ÁÁK L
DbType
ÁÁM S
.
ÁÁS T
String
ÁÁT Z
,
ÁÁZ [
	reviewIds
ÁÁ\ e
)
ÁÁe f
)
ÁÁf g
;
ÁÁg h
using
ÈÈ 
(
ÈÈ 
IDataReader
ÈÈ &
dr
ÈÈ' )
=
ÈÈ* +
MySqlDatabase
ÈÈ, 9
.
ÈÈ9 :
SelectQuery
ÈÈ: E
(
ÈÈE F
cmd
ÈÈF I
,
ÈÈI J
ConnectionType
ÈÈK Y
.
ÈÈY Z
ReadOnly
ÈÈZ b
)
ÈÈb c
)
ÈÈc d
{
ÍÍ 
objDetailsList
ÎÎ &
=
ÎÎ' (
new
ÎÎ) ,
List
ÎÎ- 1
<
ÎÎ1 2%
BikeRatingApproveEntity
ÎÎ2 I
>
ÎÎI J
(
ÎÎJ K
)
ÎÎK L
;
ÎÎL M
if
ÏÏ 
(
ÏÏ 
dr
ÏÏ 
!=
ÏÏ !
null
ÏÏ" &
)
ÏÏ& '
{
ÌÌ 
while
ÓÓ !
(
ÓÓ" #
dr
ÓÓ# %
.
ÓÓ% &
Read
ÓÓ& *
(
ÓÓ* +
)
ÓÓ+ ,
)
ÓÓ, -
{
ÔÔ 
objDetailsList
  .
.
. /
Add
/ 2
(
2 3
new
3 6%
BikeRatingApproveEntity
7 N
(
N O
)
O P
{
ÒÒ  !
CustomerEmail
ÚÚ$ 1
=
ÚÚ2 3
Convert
ÚÚ4 ;
.
ÚÚ; <
ToString
ÚÚ< D
(
ÚÚD E
dr
ÚÚE G
[
ÚÚG H
$str
ÚÚH W
]
ÚÚW X
)
ÚÚX Y
,
ÚÚY Z
CustomerName
ÛÛ$ 0
=
ÛÛ1 2
Convert
ÛÛ3 :
.
ÛÛ: ;
ToString
ÛÛ; C
(
ÛÛC D
dr
ÛÛD F
[
ÛÛF G
$str
ÛÛG U
]
ÛÛU V
)
ÛÛV W
,
ÛÛW X
ReviewId
ÙÙ$ ,
=
ÙÙ- . 
SqlReaderConvertor
ÙÙ/ A
.
ÙÙA B
ToUInt32
ÙÙB J
(
ÙÙJ K
dr
ÙÙK M
[
ÙÙM N
$str
ÙÙN X
]
ÙÙX Y
)
ÙÙY Z
,
ÙÙZ [
ModelId
ıı$ +
=
ıı, - 
SqlReaderConvertor
ıı. @
.
ıı@ A
ToUInt32
ııA I
(
ııI J
dr
ııJ L
[
ııL M
$str
ııM V
]
ııV W
)
ııW X
,
ııX Y
ModelMaskingName
ˆˆ$ 4
=
ˆˆ5 6
Convert
ˆˆ7 >
.
ˆˆ> ?
ToString
ˆˆ? G
(
ˆˆG H
dr
ˆˆH J
[
ˆˆJ K
$str
ˆˆK ]
]
ˆˆ] ^
)
ˆˆ^ _
,
ˆˆ_ `
MakeMaskingName
˜˜$ 3
=
˜˜4 5
Convert
˜˜6 =
.
˜˜= >
ToString
˜˜> F
(
˜˜F G
dr
˜˜G I
[
˜˜I J
$str
˜˜J [
]
˜˜[ \
)
˜˜\ ]
,
˜˜] ^
BikeName
¯¯$ ,
=
¯¯- .
Convert
¯¯/ 6
.
¯¯6 7
ToString
¯¯7 ?
(
¯¯? @
dr
¯¯@ B
[
¯¯B C
$str
¯¯C M
]
¯¯M N
)
¯¯N O
}
˘˘  !
)
˘˘! "
;
˘˘" #
}
˙˙ 
dr
˚˚ 
.
˚˚ 
Close
˚˚ $
(
˚˚$ %
)
˚˚% &
;
˚˚& '
}
¸¸ 
}
˝˝ 
}
˛˛ 
}
ˇˇ 
catch
ÄÄ 
(
ÄÄ 
	Exception
ÄÄ 
ex
ÄÄ 
)
ÄÄ 
{
ÅÅ 

ErrorClass
ÇÇ 
objErr
ÇÇ !
=
ÇÇ" #
new
ÇÇ$ '

ErrorClass
ÇÇ( 2
(
ÇÇ2 3
ex
ÇÇ3 5
,
ÇÇ5 6
$str
ÇÇ7 j
)
ÇÇj k
;
ÇÇk l
}
ÉÉ 
return
ÑÑ 
objDetailsList
ÑÑ !
;
ÑÑ! "
}
ÖÖ 	
public
áá 
bool
áá +
UpdateUserReviewRatingsStatus
áá 1
(
áá1 2
string
áá2 8
	reviewIds
áá9 B
,
ááB C
ReviewsStatus
ááD Q
reviewStatus
ááR ^
,
áá^ _
uint
áá` d
moderatorId
ááe p
,
ááp q
ushort
áár x"
disapprovalReasonIdááy å
)ááå ç
{
àà 	
try
ââ 
{
ää 
using
ãã 
(
ãã 
IDbConnection
ãã $

connection
ãã% /
=
ãã0 1
DatabaseHelper
ãã2 @
.
ãã@ A!
GetMasterConnection
ããA T
(
ããT U
)
ããU V
)
ããV W
{
åå 
var
çç 
param
çç 
=
çç 
new
çç  #
DynamicParameters
çç$ 5
(
çç5 6
)
çç6 7
;
çç7 8
param
èè 
.
èè 
Add
èè 
(
èè 
$str
èè -
,
èè- .
	reviewIds
èè/ 8
)
èè8 9
;
èè9 :
param
êê 
.
êê 
Add
êê 
(
êê 
$str
êê /
,
êê/ 0
moderatorId
êê1 <
)
êê< =
;
êê= >
param
ëë 
.
ëë 
Add
ëë 
(
ëë 
$str
ëë *
,
ëë* +
(
ëë, -
ushort
ëë- 3
)
ëë3 4
reviewStatus
ëë4 @
)
ëë@ A
;
ëëA B
param
íí 
.
íí 
Add
íí 
(
íí 
$str
íí 0
,
íí0 1!
disapprovalReasonId
íí2 E
>
ííF G
$num
ííH I
?
ííJ K!
disapprovalReasonId
ííL _
:
íí` a
(
ííb c
ushort
ííc i
?
ííi j
)
ííj k
null
íík o
)
íío p
;
ííp q

connection
îî 
.
îî 
Open
îî #
(
îî# $
)
îî$ %
;
îî% &

connection
ññ 
.
ññ 
Query
ññ $
(
ññ$ %
$str
ññ% M
,
ññM N
param
ññO T
:
ññT U
param
ññV [
,
ññ[ \
commandType
ññ] h
:
ññh i
CommandType
ññj u
.
ññu v
StoredProcedureññv Ö
)ññÖ Ü
;ññÜ á
if
òò 
(
òò 

connection
òò "
.
òò" #
State
òò# (
==
òò) +
ConnectionState
òò, ;
.
òò; <
Open
òò< @
)
òò@ A

connection
ôô "
.
ôô" #
Close
ôô# (
(
ôô( )
)
ôô) *
;
ôô* +
}
õõ 
}
úú 
catch
ùù 
(
ùù 
	Exception
ùù 
ex
ùù 
)
ùù  
{
ûû 

ErrorClass
üü 
objErr
üü !
=
üü" #
new
üü$ '

ErrorClass
üü( 2
(
üü2 3
ex
üü3 5
,
üü5 6
$str
üü7 s
)
üüs t
;
üüt u
return
†† 
false
†† 
;
†† 
}
°° 
return
¢¢ 
true
¢¢ 
;
¢¢ 
}
££ 	
public
¨¨ 
bool
¨¨ "
SaveUserReviewWinner
¨¨ (
(
¨¨( )
uint
¨¨) -
reviewId
¨¨. 6
,
¨¨6 7
uint
¨¨8 <
moderatorId
¨¨= H
)
¨¨H I
{
≠≠ 	
try
ÆÆ 
{
ØØ 
using
∞∞ 
(
∞∞ 
IDbConnection
∞∞ $

connection
∞∞% /
=
∞∞0 1
DatabaseHelper
∞∞2 @
.
∞∞@ A!
GetMasterConnection
∞∞A T
(
∞∞T U
)
∞∞U V
)
∞∞V W
{
±± 
var
≤≤ 
param
≤≤ 
=
≤≤ 
new
≤≤  #
DynamicParameters
≤≤$ 5
(
≤≤5 6
)
≤≤6 7
;
≤≤7 8
param
¥¥ 
.
¥¥ 
Add
¥¥ 
(
¥¥ 
$str
¥¥ ,
,
¥¥, -
reviewId
¥¥. 6
)
¥¥6 7
;
¥¥7 8
param
µµ 
.
µµ 
Add
µµ 
(
µµ 
$str
µµ /
,
µµ/ 0
moderatorId
µµ1 <
)
µµ< =
;
µµ= >

connection
∑∑ 
.
∑∑ 
Open
∑∑ #
(
∑∑# $
)
∑∑$ %
;
∑∑% &

connection
ππ 
.
ππ 
Query
ππ $
(
ππ$ %
$str
ππ% <
,
ππ< =
param
ππ> C
:
ππC D
param
ππE J
,
ππJ K
commandType
ππL W
:
ππW X
CommandType
ππY d
.
ππd e
StoredProcedure
ππe t
)
ππt u
;
ππu v
if
ªª 
(
ªª 

connection
ªª "
.
ªª" #
State
ªª# (
==
ªª) +
ConnectionState
ªª, ;
.
ªª; <
Open
ªª< @
)
ªª@ A

connection
ºº "
.
ºº" #
Close
ºº# (
(
ºº( )
)
ºº) *
;
ºº* +
}
ææ 
}
øø 
catch
¿¿ 
(
¿¿ 
	Exception
¿¿ 
ex
¿¿ 
)
¿¿  
{
¡¡ 

ErrorClass
¬¬ 
objErr
¬¬ !
=
¬¬" #
new
¬¬$ '

ErrorClass
¬¬( 2
(
¬¬2 3
ex
¬¬3 5
,
¬¬5 6
string
¬¬7 =
.
¬¬= >
Format
¬¬> D
(
¬¬D E
$str¬¬E Ä
,¬¬Ä Å
reviewId¬¬Ç ä
,¬¬ä ã
moderatorId¬¬å ó
)¬¬ó ò
)¬¬ò ô
;¬¬ô ö
return
√√ 
false
√√ 
;
√√ 
}
ƒƒ 
return
≈≈ 
true
≈≈ 
;
≈≈ 
}
∆∆ 	
}
»» 
}…… 